cask "firefox@esr" do
  version "140.7.0"

  language "af" do
    sha256 "c38446e7a61ac1c505a155dea548d1b004dc4a1abc26b17e1b355a552d600d7d"
    "af"
  end
  language "ar" do
    sha256 "b958cfd84f05b5978c5a14a63f3c66b0d8979d38192e8b32b6cfde78e3f0c99c"
    "ar"
  end
  language "be" do
    sha256 "10d5e75e6ebc0ee06ea1c45a25051cc07b4a3c2418c53446ad1c7ab48efb0f9f"
    "be"
  end
  language "bg" do
    sha256 "f1fd0dbaa668e3b25dfceec3d0cb6c126b332f3aadb580479eb40f21bb46d9fa"
    "bg"
  end
  language "bn" do
    sha256 "e1c6d61063d92a788e5ecc98009f75315b102efbe4f296d7a629a7238f30f5bd"
    "bn"
  end
  language "ca" do
    sha256 "310b0dff8d4905557292c2d7364ab899866dd6861e5ca7852ac1e1721d603c01"
    "ca"
  end
  language "cs" do
    sha256 "865a97c33b99f087a066c3fb7b53ccde845a717cbfb30ed30b7bd734736aa5ba"
    "cs"
  end
  language "de" do
    sha256 "0409004f3b759f74125dcf5d4b3c26596380ae0caaa297b17c44b108e395171c"
    "de"
  end
  language "en-CA" do
    sha256 "292c088f62a01e0b8f088c99782c0e33e42c94c69d03c57e018ab41dec06a6fa"
    "en-CA"
  end
  language "en-GB" do
    sha256 "7fe6e0a6736272a4991b4447285b4fdd3edfa0f01a672db543e12e5416aa65b5"
    "en-GB"
  end
  language "en", default: true do
    sha256 "e3bb096152cb56162cc6be9aa2f595e4a0dd115cda2ea4f653935dbf429f3367"
    "en-US"
  end
  language "eo" do
    sha256 "3c87a5dc08325456cd625aa89496ff92f41453cd7e73b71327a4f4f55f8b23fb"
    "eo"
  end
  language "es-AR" do
    sha256 "a67fdc04b35216f8466436d430c53d62a5b89b7269592855fdd81892dc8d4169"
    "es-AR"
  end
  language "es-CL" do
    sha256 "c8d0a4be7819eebb8fa515085f7911036efab8dc1714679411c02d612c34e67d"
    "es-CL"
  end
  language "es-ES" do
    sha256 "10918075e3fa469c52290635d28534d6c945e27be5f1d17cd0cfc60a43f0f407"
    "es-ES"
  end
  language "fa" do
    sha256 "8df842faa74df8a5b886dfeb5c9e29bb808e8ce4f9605ce44f31f1288dc12030"
    "fa"
  end
  language "ff" do
    sha256 "289da526e5709ea00acf178d679266971698e134e6b4d2e8ae10d766b51eeeb9"
    "ff"
  end
  language "fi" do
    sha256 "fb943e7172b50bb711a6b3634cab65c4e596548cbd1cc22cf9d34d42ebcad0cd"
    "fi"
  end
  language "fr" do
    sha256 "6e3dc977e935f64f32facc315514c851378d2d2c48b253583025a76ebaae2f99"
    "fr"
  end
  language "gl" do
    sha256 "0263467f6eb40fc7bb77423e3c2b3c85756b8fbf403f8696137bf24678f72b76"
    "gl"
  end
  language "gn" do
    sha256 "16350fc6ccc3af120badf20f09995a3689d97f8fd35ba8e91a07a85da18abba0"
    "gn"
  end
  language "gu" do
    sha256 "d6b090da4e24dccd73f1abd70f339a2e544a8c32fbd4374c8774217d86a42428"
    "gu-IN"
  end
  language "he" do
    sha256 "84bf0d5857f0b15c555695e499ebf1927d56ee15a5eeb4f1a11e94b9ee8fc4d3"
    "he"
  end
  language "hi" do
    sha256 "51bba2e7075c0295f32c13e3f480e8502a55bbd24cfcda34f1a79d70584451dd"
    "hi-IN"
  end
  language "in" do
    sha256 "51bba2e7075c0295f32c13e3f480e8502a55bbd24cfcda34f1a79d70584451dd"
    "hi-IN"
  end
  language "it" do
    sha256 "657d732f1ab5412c9a9c44709a9dcf33f2b534b604e61712bc92ddd7c395ba69"
    "it"
  end
  language "ja" do
    sha256 "eb84199855a2a38b688ffe0ab674fdf90913204488065638b193da7035ff1b1a"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "9e10253df34ee138b7ec646365ffe9601c09ef901202e89be578dd1bee8bf986"
    "ka"
  end
  language "ko" do
    sha256 "3fe154ba9d385ed14da931cf9cf0a1ddee6ad3a643539150e85d8cbf47c05a2b"
    "ko"
  end
  language "mr" do
    sha256 "66eec827d054383277de3b7905a20a0cb8d8edef7e129b61bbd6acd909d2a9c8"
    "mr"
  end
  language "my" do
    sha256 "20c4cdb0788928b17afee7ea39023ddcdcbb4bee37dffd831e27e2c0e9cbe53e"
    "my"
  end
  language "ne" do
    sha256 "5ab32f8c594b693be770b72fe259f11fc0b39d4aa04c0054ab2c1e8777fc54dc"
    "ne-NP"
  end
  language "nl" do
    sha256 "058486b845e53c43db84dadf6f5ee53dc2c04437979965c39ef53e4c3ef7a6d7"
    "nl"
  end
  language "pa-IN" do
    sha256 "36fd4993f64f8f34acd5ba597a745499ad20eaaf83648a0dbca927f42efdbe67"
    "pa-IN"
  end
  language "pl" do
    sha256 "fc95fcb53427ff3925b16bd7795ce68e650e2fc6b9a6593bb653579ee9c74c26"
    "pl"
  end
  language "pt-BR" do
    sha256 "585da6eada0ddd39c59777baa60d50e3bb96184877c07c7f006c359ec0655819"
    "pt-BR"
  end
  language "pt" do
    sha256 "3cefcff49ad71a1d491374e613019e82491d47365603367b0d8cada2792a8465"
    "pt-PT"
  end
  language "ru" do
    sha256 "2486ae87aef2db13f352f43c117c7c59cf650105764651108e1853ec3781c12a"
    "ru"
  end
  language "si" do
    sha256 "7877f2f925f06771579a21b990d48ce4f1e976cec19213821d005fe320622c29"
    "si"
  end
  language "sq" do
    sha256 "9bf5de109abad231cc53b64dd7152bd2d393d0a9918cc087a9aa44959a4bbe98"
    "sq"
  end
  language "sr" do
    sha256 "3b033a698ed6751158ed75306c397d33c9f2f4d7277ded69ae2750053485b47a"
    "sr"
  end
  language "sv" do
    sha256 "0dadb9030f341f5159d84f670218b708cdd10bb8cf53aefa259b7b47a1fd1542"
    "sv-SE"
  end
  language "ta" do
    sha256 "2680978497d8e3217a925ba013e68aec66605cc7e18e94fee63ac7b36a4a7eb7"
    "ta"
  end
  language "te" do
    sha256 "d96574506c0af37c152033e9ae0884d183729e44e5da69a7707c3eec39d85ba7"
    "te"
  end
  language "th" do
    sha256 "30112feaf8b81ece5c9e588925515786f71f4d83822339c9873b13e5495cef8e"
    "th"
  end
  language "tl" do
    sha256 "f84082f009006fb6f5188eaaa09981d0a0ce25c2c3e647dfda21add7ea7ad3b4"
    "tl"
  end
  language "tr" do
    sha256 "3957a2703951f69725e1eff7929a3d8089a2d3697c15b36807c2c7c16d63f8cb"
    "tr"
  end
  language "uk" do
    sha256 "d19a6af2a2d49c151ce3a8d70d5241a824c435c84a6c5f9d16bce798258bf3c1"
    "uk"
  end
  language "ur" do
    sha256 "7c8fdd462f52cacc350328242457fa90792941d6e2c1ab5d8245e370810b111e"
    "ur"
  end
  language "zh-TW" do
    sha256 "64cf162d4ea2cba5974e11563849aeceab5c3e85cc769f229aa6f1bec711d5d0"
    "zh-TW"
  end
  language "zh" do
    sha256 "2a8659762a3d8c63fcb24bbeb6f5dccac89b04cfff6977320d0c189f0328ddc9"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
