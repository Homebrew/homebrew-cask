cask "firefox@esr" do
  version "128.7.0"

  language "af" do
    sha256 "1083ee1e9621276aef580f77a85faa01cba698d613962f2b67d35808fd3b7898"
    "af"
  end
  language "ar" do
    sha256 "42c67a90ce5c5b49c494abe65457545c48b2d2cbb2b6ce894b2da36bbf4e6a0f"
    "ar"
  end
  language "be" do
    sha256 "28200d38ae3bb474b1939ac4fb6bca7e73746f846055b68461b312276840f676"
    "be"
  end
  language "bg" do
    sha256 "ed5e58417dc3aa3264998b0ba9e23134f8f2df7e713135a5b17643b85696f225"
    "bg"
  end
  language "bn" do
    sha256 "9bbfc03ec626e5e026d738d7c8f833dba89759839e985b72272093a3a284e4a1"
    "bn"
  end
  language "ca" do
    sha256 "0998e77ec777c05214d15eed89e80920f41e2ef921dcd22f687d086a30e65324"
    "ca"
  end
  language "cs" do
    sha256 "ec0b461668cd5ac9391175ed1e02ff75e3d834cf376f583079cdcca4f8507d25"
    "cs"
  end
  language "de" do
    sha256 "e2c0a8dfca6cce7fd6a9d47ceccf33fc0e9010f2dfe807810a3d1f2d936bde5e"
    "de"
  end
  language "en-CA" do
    sha256 "873e84235ac35e8973193bd6df1fa8398c7d5216e41d2dfd5503b02b46a3767e"
    "en-CA"
  end
  language "en-GB" do
    sha256 "347542f2524c5746e5d4197dd426cf994f48fde45ecd03e72896152c8b972f8e"
    "en-GB"
  end
  language "en", default: true do
    sha256 "8a6c620271168332c589075c2f1ceb9e13130a9475eddaf5ce4d44a448101d73"
    "en-US"
  end
  language "eo" do
    sha256 "875a4fddd65b4a672b4bdd304bc25620a4526d93fbb97a7b29795c8b428b9009"
    "eo"
  end
  language "es-AR" do
    sha256 "4dbb1e224c37802784651a4bb9cd8d24c95e602d04fc5e2fad4fd035cc02a7e4"
    "es-AR"
  end
  language "es-CL" do
    sha256 "bef4578c732bf68a775ce5cc36258cd876e03965c384ed4a7c211e301f919931"
    "es-CL"
  end
  language "es-ES" do
    sha256 "2a6dd189b6c39e199088cf2bb6616e1512415ba61ccc328a90e7de7ea5351ff7"
    "es-ES"
  end
  language "fa" do
    sha256 "847df31e8cae1d8c7c884ae1166fa4bf63ecb1ccb2a38771ef24eeb7b0200737"
    "fa"
  end
  language "ff" do
    sha256 "881d3413a8aa58324bb98ac3560fb173607b5dd4691be647df0524dce55e752d"
    "ff"
  end
  language "fi" do
    sha256 "1c282aa7daddb1ab566743e3addd4b496dae8caad31dcf5981010cad0c651c1a"
    "fi"
  end
  language "fr" do
    sha256 "63a7f720d9da345c7b020565983adb7f8093a68228e048a985b53a533c5cadd6"
    "fr"
  end
  language "gl" do
    sha256 "21708dfcd8ba0bba0438870bb6aaef5114fc09c080b492c78ba59e068651b72a"
    "gl"
  end
  language "gn" do
    sha256 "8524a72cb5fa3fb6cad9ee4a3a0c34c36a8ce7d2300b3143b0ea449519f151bc"
    "gn"
  end
  language "gu" do
    sha256 "4eebbd60756777efb5d592154781e0171d598341b1d6b7745165f021a0f93955"
    "gu-IN"
  end
  language "he" do
    sha256 "6b34eca9a94e2f0ad2e41eca90c0440d3069baf0fb0a4f8c9caa47484bba99f4"
    "he"
  end
  language "hi" do
    sha256 "983c09f707e0a52ec6bb6e3135956f157e7961312f100e954405ab17404adff8"
    "hi-IN"
  end
  language "in" do
    sha256 "983c09f707e0a52ec6bb6e3135956f157e7961312f100e954405ab17404adff8"
    "hi-IN"
  end
  language "it" do
    sha256 "52c9e01fbe81092161762983410a57359c339ff611ab6299a29709dc5e43dbd7"
    "it"
  end
  language "ja" do
    sha256 "423c574eb4b1d9088718a351cb9d06f738cc2eb2d85067d48ab0d49e88946766"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "b6398de77b3336b1939a763017b0b5393fa5d3bf60d8c524640ffd5324bfa9a5"
    "ka"
  end
  language "ko" do
    sha256 "ef3fc9e64a7797b6150b189d98ced1f5b489e3fb9db6eee883e9e22ad0635ece"
    "ko"
  end
  language "mr" do
    sha256 "311d3be96a6a1be196a9790717522de175b7ae46e86c5886c2335c5bff0fdc27"
    "mr"
  end
  language "my" do
    sha256 "df18215f5f3fb07e3bd454ae640d0438dfffcb4584857b8a3808877aad84b348"
    "my"
  end
  language "ne" do
    sha256 "3006e0fb95865176cfabff2ea097dc40ce39cda2bbe3d4810cb50175dbad8101"
    "ne-NP"
  end
  language "nl" do
    sha256 "c74fddcac0c901c451f4b7bc9af0aff6a2d8cf28d6b14930b0f366154a17b091"
    "nl"
  end
  language "pa-IN" do
    sha256 "a3f12141a302c45d6e90909e2869c03f91ec6adf9d9299d6efbf412eb4155f3b"
    "pa-IN"
  end
  language "pl" do
    sha256 "f5d1566366ee3a3ce91eaa1ce83b7f8c009f139532b9e616534fbe7be100882c"
    "pl"
  end
  language "pt-BR" do
    sha256 "6842f6f58d4decfa962138a638d53f71912654d5fa9b9aeb56a3ce93c68a8041"
    "pt-BR"
  end
  language "pt" do
    sha256 "0dedfba611ba3d0418b3b74ffd3fc76fc6f2dadcf8c6c61c53ec4195e7f56d92"
    "pt-PT"
  end
  language "ru" do
    sha256 "0add09e5b7af938725085b3ba54860c194eb6bfa1c72ea8ded77fa2592280e08"
    "ru"
  end
  language "si" do
    sha256 "57f7df43c02eed523e600a1742360570bae9422b020406c78d6fcfb0c19a2a38"
    "si"
  end
  language "sq" do
    sha256 "64c20d221fc833bab637e1bfb87b37e3ae3eaa0f3724795c87b972ed1b5b2e69"
    "sq"
  end
  language "sr" do
    sha256 "43a9997aca3f0636f9ff8cb99639848d7f11ba1541710c60c1cc220f209e7427"
    "sr"
  end
  language "sv" do
    sha256 "3a8cf627b25683cde083d08e22a49ff5d1f838e284c52a1aa5ddef477499be16"
    "sv-SE"
  end
  language "ta" do
    sha256 "117f746c8d7d2c9c7a170750ee90d9eedc7f2519844ae6c28d467524de4c46d3"
    "ta"
  end
  language "te" do
    sha256 "6932332867a7ee1250b9ee32de6313a085bd290fb8bbe2a8f22d5536b893644e"
    "te"
  end
  language "th" do
    sha256 "c7bc1ce15f5c52036faa8dc068f42a2f14c32807930531a7e34eaffefdbfbb5a"
    "th"
  end
  language "tl" do
    sha256 "9c573d2235394709c13e2c5f4b193141f6a405220342c368227e4f2c4cb0208d"
    "tl"
  end
  language "tr" do
    sha256 "e5e54f8be1fe84a276506c09835ccd6b02add5d5f5e58708824643da8bad798d"
    "tr"
  end
  language "uk" do
    sha256 "a380dd72b9d2a0a0176edbc6a9935de118ed43b314dba60a513258a50090305f"
    "uk"
  end
  language "ur" do
    sha256 "9240a44f70376fa0e3aa7a9fbc6cc23822bcd0df6684dea16605b52e5028e39d"
    "ur"
  end
  language "zh-TW" do
    sha256 "2d25ccbe8c356c785147ce86c9b835731111f193c78e945056d0cf7ce35bf45e"
    "zh-TW"
  end
  language "zh" do
    sha256 "c3e6d2c9db32cea128b54a26981bdabf51c7b4e872c62a9ef016ccfc805a124c"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
