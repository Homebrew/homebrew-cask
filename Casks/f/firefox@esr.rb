cask "firefox@esr" do
  version "128.8.1"

  language "af" do
    sha256 "9427820d78bded9c47b7b4e6819d4ccffe92372e959da252311719bc1ffbeb31"
    "af"
  end
  language "ar" do
    sha256 "713dacf07e618652803c64c6dc8f50b1214d132c95f921c323b272d101dbb86d"
    "ar"
  end
  language "be" do
    sha256 "94c74cf3b8004a07815338825679e7f967323ab7260e45ca2bcffa2d6bfeb7a0"
    "be"
  end
  language "bg" do
    sha256 "08671ce813b720441cb12a2a73954351729b323be542b3d74c7946d99882a0c9"
    "bg"
  end
  language "bn" do
    sha256 "fabe88d6f4ba3517be607570aa7d13d089b0931f45e7976f75f1a2ece9e374d4"
    "bn"
  end
  language "ca" do
    sha256 "7b31c0958a648fb49fc55cd070af279af970dd610fc86ff404a821fad59a8ff2"
    "ca"
  end
  language "cs" do
    sha256 "4bd6218c3b569a97fc4d095d16af8fda77a150bc1cd76a52770067d82d51eea6"
    "cs"
  end
  language "de" do
    sha256 "e003f38a7d15bf6f01c5e966322861a641a47bb463628ef575d79838310a3e5f"
    "de"
  end
  language "en-CA" do
    sha256 "931b146a6f285474a8aa123dfbec9ad9f213dcd169914e023e56d81f561ff239"
    "en-CA"
  end
  language "en-GB" do
    sha256 "67e9197bbcfa21b13798e9e75abe58fc15d536998b9a53c1df206d0bf0c89eeb"
    "en-GB"
  end
  language "en", default: true do
    sha256 "b0de93d035e521f7a238f3e034df17df6ae71a399b477c6ef3f07605a51eaef3"
    "en-US"
  end
  language "eo" do
    sha256 "8893e9e0018a1b9be3f49dc0e7396bbb0851738788279f76c3cbd486191a6c36"
    "eo"
  end
  language "es-AR" do
    sha256 "229c8bf6d7e527f18c8869577af80594327c7f2658e48e9fec36a8cf5aa61d8d"
    "es-AR"
  end
  language "es-CL" do
    sha256 "c32c3b96d84f8264c1001330eb4b3ed7d51cc8d01d02693f1035528aa30c4557"
    "es-CL"
  end
  language "es-ES" do
    sha256 "c21f41634a871056a6f721352c49c64d2aa47c4e3bd72de20e705d1a5eb4cdb5"
    "es-ES"
  end
  language "fa" do
    sha256 "784becd70af92291dd3601c435b045311733ad24c741a211d13b41ffa24fc948"
    "fa"
  end
  language "ff" do
    sha256 "98c14ba61341a942a6663a5b1e513b21657d1bedcbfb58d96c742befa6160f1c"
    "ff"
  end
  language "fi" do
    sha256 "de823290d90fcfc7d427e412ed142932e795585fc635e4a4addaea76235edd0d"
    "fi"
  end
  language "fr" do
    sha256 "a4a31668d3609dcfe0e93a3e7094d56da8dfa07cf077051c8ed9638af046d8d8"
    "fr"
  end
  language "gl" do
    sha256 "f65348b06ea07fac9b387eb7e33c0bbdf9ac79dbcc479efbc8999822d5238809"
    "gl"
  end
  language "gn" do
    sha256 "0a0cf2cb5cc48df4e1ca5ebcc8be92595f8c971ed0d7f0f4c7b270a6e7147835"
    "gn"
  end
  language "gu" do
    sha256 "c6d4b1bc7732020d24de6f1ef2806a3e82a27b1a0899253c9e59db8892ad51d2"
    "gu-IN"
  end
  language "he" do
    sha256 "58c4a23cd50432228ad0110819a35c5017cb9dd46d891f39aa0962e875be4940"
    "he"
  end
  language "hi" do
    sha256 "91671c76a0b67b0c15bdc7f65c031f80f51196ca47fb66f4a193b2349b294375"
    "hi-IN"
  end
  language "in" do
    sha256 "91671c76a0b67b0c15bdc7f65c031f80f51196ca47fb66f4a193b2349b294375"
    "hi-IN"
  end
  language "it" do
    sha256 "a302aaae9b046cddf04027d8caa062a192b9b6ff6ba5dc9003e79e91e6dc9e53"
    "it"
  end
  language "ja" do
    sha256 "b02f09cb54107f14e669b4030d3fd3ec052e0a7c5550326de9398d6c2c529309"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "4fb19a50d66332ea62f0df00db2e444c3f95055a1af8c48dda19e4ae81e72dd7"
    "ka"
  end
  language "ko" do
    sha256 "d5c73889fd899a97b02fd7003b04e22df3018de28f3181d5cd5102d760fed937"
    "ko"
  end
  language "mr" do
    sha256 "6feb9362b03f909716486e70da5c5ee629ecaf82f59edf5eb4f62a236a160de4"
    "mr"
  end
  language "my" do
    sha256 "c1cdaf377eae104f38e59918f0e80243d061e55cd12a72264291d2b22bde51a1"
    "my"
  end
  language "ne" do
    sha256 "9b37d153db6dd9bf137b195c5aa1dc47a3ddf86662a985bbefff3aafb25137c4"
    "ne-NP"
  end
  language "nl" do
    sha256 "04687a53fb60fd0932636839ed553b6ca12051e674f06441270710df083faef9"
    "nl"
  end
  language "pa-IN" do
    sha256 "359605a19c302a4ccac7f5a776652cfacbb8fac790f1dcd7a3b9714ef7163e72"
    "pa-IN"
  end
  language "pl" do
    sha256 "b833a8799448277594599a40fb867815f955d4c25b6557f8cbdd76233c62415b"
    "pl"
  end
  language "pt-BR" do
    sha256 "b4bca46511566085a12d870c852f4dff531bdac75c03d97b27f277f334c39e40"
    "pt-BR"
  end
  language "pt" do
    sha256 "3c51576a25381a7e60fff84f7696b8b799fc240b59ff0958a612782e6c61cc43"
    "pt-PT"
  end
  language "ru" do
    sha256 "caca020bff3e63edabccf7a5e4f09cc97df00f4d7e0ef82f35079967216fa059"
    "ru"
  end
  language "si" do
    sha256 "c0dfbdf28c5dd79f27889396d560b226af102cb5bd62ea391901c99b47be9aca"
    "si"
  end
  language "sq" do
    sha256 "bdac06f20f61596df2d307613a359a72b48fe4ec14ab08c6e99fcbfaf4f88494"
    "sq"
  end
  language "sr" do
    sha256 "2852df6308e71610110530991dfdf42a22fd49fdd2db79c095455c95c17db48b"
    "sr"
  end
  language "sv" do
    sha256 "40e54cf5b07f72bdba0fb120f194beb53b3a6d05cc223af89aca890f5d5c9b2d"
    "sv-SE"
  end
  language "ta" do
    sha256 "5aa26b93f11a45745e09f5db3c8edeee26a7bf76838a6a006e03eb571542bed4"
    "ta"
  end
  language "te" do
    sha256 "fc2d77fa85be69d1d2a77ac9998ce7811bf18b07627b9c05c522837fa45a53b0"
    "te"
  end
  language "th" do
    sha256 "81f5e2a085ecefcdd9c8a7d591a6e115c8055fe3fcc8ae645ce6992de07c5cc1"
    "th"
  end
  language "tl" do
    sha256 "bba9264ac827f05a9a05a4ec39315eec9ed799ec72c18a7c7a64d85bbe05b1f8"
    "tl"
  end
  language "tr" do
    sha256 "816e4102504cd8008afd9e9195d7324d0fd2d528c688a9ad8854aa8e90a06b9c"
    "tr"
  end
  language "uk" do
    sha256 "196c4064e53ab4e320eb85ce4c8a0804218d68835615537da4d3baf08441609a"
    "uk"
  end
  language "ur" do
    sha256 "ea0093f903234e8e04dda049ad09a3dbd12306f2e6d9163183537bd39df6a969"
    "ur"
  end
  language "zh-TW" do
    sha256 "51a22e33fe6886e354989a69947d2d19aad8c188fc7f9d7a57c2a3f998ea9a6e"
    "zh-TW"
  end
  language "zh" do
    sha256 "e83519c0e30eb082d615155b5772c7509a7ac7a8490fb93162b4e80e899d15be"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
