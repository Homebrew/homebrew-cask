cask "firefox@esr" do
  version "115.13.0"

  language "af" do
    sha256 "5a331452b747af9173c57c6c5998e56211e954015818652b3976c9a4493fbb3f"
    "af"
  end
  language "ar" do
    sha256 "06896855769609962b32ef95a72d0b98769a3c556d9be539b467bd7a2908b603"
    "ar"
  end
  language "be" do
    sha256 "d57cb1a636efda2048e411c9512dc9bee1377016b2beb566b6cee73161bcad6b"
    "be"
  end
  language "bg" do
    sha256 "cf23c31aee6f07fd7803527cc33e245de2e64fd47d7e3c9dfa17dcff01e99b72"
    "bg"
  end
  language "bn" do
    sha256 "e80bd135965d9e0cf180b45ae43f0a7bdc5d1376eca102e72100d1f32c41c9d1"
    "bn"
  end
  language "ca" do
    sha256 "912b9c97dcd4e2ac11725d5cc47682fb1d18cf702de45cb1f5807c39064e314c"
    "ca"
  end
  language "cs" do
    sha256 "cb9dfc809e29bd8ab2fd37041433e537ef35055f2242e4694e513eabb5d03ee3"
    "cs"
  end
  language "de" do
    sha256 "fa3b5bc9a4fd05dfddc2eca9e6f7113852b2f10fcb4f89cbf8e989c11b2449af"
    "de"
  end
  language "en-CA" do
    sha256 "4c51ab77fbd88d926a9e359fc1115ab6fe50c0cdd6530bf1d65764843e236cdb"
    "en-CA"
  end
  language "en-GB" do
    sha256 "16e83758d2a0095e2e10949d4e970697fe0e795d560639979ce78b3eadede162"
    "en-GB"
  end
  language "en", default: true do
    sha256 "a3eb0ce493c82f41fb425b4017aaa00d9755d41baa270c145d38217a0ce212fd"
    "en-US"
  end
  language "eo" do
    sha256 "ea58c6ba5b6717692ce8d01b377592777fe00b8adab82ee93027b8533eb4a33e"
    "eo"
  end
  language "es-AR" do
    sha256 "82c2adfcfc53ac32d3802eca4446a8f0c818918d4777f60eaf5785fd7ffbf7be"
    "es-AR"
  end
  language "es-CL" do
    sha256 "7bbf2d38494cc90b7bc5f8d12786c74d0da91dd6e8d1063436c337c81d738932"
    "es-CL"
  end
  language "es-ES" do
    sha256 "c41b846bb1897e5b5ec3b733c225be812414d57957d10878885a7f82bb3369b1"
    "es-ES"
  end
  language "fa" do
    sha256 "7738f4eaf9d12605439a6516da68554ee904f44baccf67002fe0f6cbc2edbb7e"
    "fa"
  end
  language "ff" do
    sha256 "6ac740c6b0924eea7afde75157201239e0a1ed23c84dd96104d4b8c304ff9bd7"
    "ff"
  end
  language "fi" do
    sha256 "a0c70f5e77c8612c3f4721581107eb0a16cc282a32afbd1b63c44ddd90e3b2be"
    "fi"
  end
  language "fr" do
    sha256 "9b2b9bcd4bea9ab77dbcd3ab2570491684c71a0e96f17dd66e171d391c9f77e5"
    "fr"
  end
  language "gl" do
    sha256 "3f021f077af2ae50baf411b4d52db5454dc382608833efa56763dbc69d018fb5"
    "gl"
  end
  language "gn" do
    sha256 "2c2372aeb9e16ea68b7762d1524f46c90b8441d602d54507bad3ff24fed20eb9"
    "gn"
  end
  language "gu" do
    sha256 "38cdf3a80f0bfe83c242bd780d0b78815ce8001e336c1d8bc9dc73d6e53e2423"
    "gu-IN"
  end
  language "he" do
    sha256 "2d85f94c76415f98ee2ca2a31e0a6156e359334f98d23879b0f535764cde72b5"
    "he"
  end
  language "hi" do
    sha256 "a55782f83d076adf82271722661705d77a96e0e3ae63fa5245a53ed066c87de4"
    "hi-IN"
  end
  language "in" do
    sha256 "a55782f83d076adf82271722661705d77a96e0e3ae63fa5245a53ed066c87de4"
    "hi-IN"
  end
  language "it" do
    sha256 "ea0d905ff4e344510d557c75c767084513fc8f44e6adc7c596a31cdc519f7ccf"
    "it"
  end
  language "ja" do
    sha256 "944b4861b0da91781523ae9df94c01ec11d5bc809b21d4b4d4f82ab15b749e3f"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "259b83058026df150b7ebf458ca3f8d45e986835b38840677861421bce940b7e"
    "ka"
  end
  language "ko" do
    sha256 "2f1a21722fde44c0b189c5aa0e6d6e696f78376c5b08336f33dce778f4f98280"
    "ko"
  end
  language "mr" do
    sha256 "9dd112a6410715f791a7b6139da5443f54b158266cd0955a00b1470260c4c129"
    "mr"
  end
  language "my" do
    sha256 "a95975d740d8a90869e74ed38178d294c2ba39435f4aaa71d3adcdde9463e5bb"
    "my"
  end
  language "ne" do
    sha256 "4aa07015743ff6fff668cb969304eb61ebebc65003376368e6c5c03ebb122a15"
    "ne-NP"
  end
  language "nl" do
    sha256 "50e7afd26d8d326d0142f32ea6731c3ab5f6eefac50abe577b69b11f780d0685"
    "nl"
  end
  language "pa-IN" do
    sha256 "817fe172d630a67dbd1e2549b83be97d58b5d0cb7e5163d4337f9b4dbe79392d"
    "pa-IN"
  end
  language "pl" do
    sha256 "e754eca396c54922765adc7bfdfaa06381a174a2b57480cd89a34727f98084df"
    "pl"
  end
  language "pt-BR" do
    sha256 "b3a2c0d5082e25b88535cc5d774df766665528e368d0558159c4a85a0d17073a"
    "pt-BR"
  end
  language "pt" do
    sha256 "ece3d22043e54117ec5b77be317aea50de0974389dce66418f9706de2a8fe51f"
    "pt-PT"
  end
  language "ru" do
    sha256 "c5b470a572677180f3b827067732863e83cfc5e08aebbffbc9a1e5e77afe523a"
    "ru"
  end
  language "si" do
    sha256 "5883c4f5bac0157a0462a06d59c5555df8cbe7c6fbe065915fb1ec8bd444aa4f"
    "si"
  end
  language "sq" do
    sha256 "b817c1ce81acd829f3e13c3e77411874dad3e69b16a8b8e7ca41cdec8dca8e34"
    "sq"
  end
  language "sr" do
    sha256 "3714e763d88504438336ef4922ca38d6f1e8501687ac27908cb251b371f0906e"
    "sr"
  end
  language "sv" do
    sha256 "f5151f5447751e010a98da380848d73b4ad25dc517c1ceeb9cd35076ec85646a"
    "sv-SE"
  end
  language "ta" do
    sha256 "24ae3584caff966b83bd0d620976a65796701ce5148b4f3f8ea795b8abe98e68"
    "ta"
  end
  language "te" do
    sha256 "58d70b16bd5fb7aa7c3a15c32cc74c738acb531bf5df8a4d011281d5088df7e1"
    "te"
  end
  language "th" do
    sha256 "104ba978462e4b22b07d774642148573fd9f3d00a82b0b2a30bf832deb9e720f"
    "th"
  end
  language "tl" do
    sha256 "dcc67c0ab969765afdb4681d7bf29444166bde237ec38ced65cd9c04f8e42405"
    "tl"
  end
  language "tr" do
    sha256 "ddbbbcd8c7d9a8cfd9ef1043059f9a0f1c383452112b11c17d8b77fa21fe7ded"
    "tr"
  end
  language "uk" do
    sha256 "ba460bbaf627043c667eff12304e8c9b9ce5fb41c8412a37c39e149d13ea3861"
    "uk"
  end
  language "ur" do
    sha256 "4732f55128a9cf99fdfbfeda884486a0a25dba5ba1ac1fc85e3fa2e4a8e22ac5"
    "ur"
  end
  language "zh-TW" do
    sha256 "d7a467ead59bc628d0c01c0e989113163a466e96f43ff0d8d594e2f5f179080d"
    "zh-TW"
  end
  language "zh" do
    sha256 "652afd92c48f98143edc64f2344c1b97e75da0e3360bf49df487dc9cfa17723b"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
