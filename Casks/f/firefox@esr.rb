cask "firefox@esr" do
  version "115.15.0"

  language "af" do
    sha256 "975fa48e36d41fc56b108a2b784e872ac1eae13a9fdd0b4cb13d086ea9589cc7"
    "af"
  end
  language "ar" do
    sha256 "08816af687d688bb5a20611e0cef71a414f5b3e8454f6779a15a7658cd7081e2"
    "ar"
  end
  language "be" do
    sha256 "7e4d9c56dae870b1042f51462e4b527693798b7a1a2b1c006df1657aabfdbf09"
    "be"
  end
  language "bg" do
    sha256 "d5f9ac6dc3341b48800bb2811634951656c8b09fbf4e9fa7c004622e1a8450de"
    "bg"
  end
  language "bn" do
    sha256 "fcacb04e1c15a1b7b5aa2a3bc6f6a34e32b529bcfb2fe1cd665ae85ec2147100"
    "bn"
  end
  language "ca" do
    sha256 "8cba52fd75b73084e0f014cdaed988b96e315874e25c146f690d7ccd8e49d21b"
    "ca"
  end
  language "cs" do
    sha256 "4e0aa6ac67554e131569a0ce5c2b592aca57ec172cf7326a4bac7e023a0be5d6"
    "cs"
  end
  language "de" do
    sha256 "a28d129adcd1e548010f9107b943255e13be0743144d61aec9872f66263601ec"
    "de"
  end
  language "en-CA" do
    sha256 "169a8fe8bc898af8f36335884c1b8311d9fc5f2e543fd1199ebaa55682cf6236"
    "en-CA"
  end
  language "en-GB" do
    sha256 "d86bb91378685b98e00e41d5589da31f8bd2173e3a5b90de3a5814092ea9ae03"
    "en-GB"
  end
  language "en", default: true do
    sha256 "d0cd73672d1a8499ae9188083472088509593d4545a4e8b219a4e17900dfc35f"
    "en-US"
  end
  language "eo" do
    sha256 "08f71a77711099de2796e7a58f547594c4da1beb7e7db360794fcffb306e0cb6"
    "eo"
  end
  language "es-AR" do
    sha256 "90cf2795ed3bb3f97edc87c234b8332395c7506370ab8d078ea7cd9542809e01"
    "es-AR"
  end
  language "es-CL" do
    sha256 "ca12223121702ff9aee97c32d305b79235775fad63efb5459a32ee591d90f1f3"
    "es-CL"
  end
  language "es-ES" do
    sha256 "3846a897acaa5ac845b3604e87d0e4b4b85f01046aa8dc9eb3d59cbe85265f4f"
    "es-ES"
  end
  language "fa" do
    sha256 "e3001efa21cdf1d4f61a58404fcd0e4ec92e926dde4e4efe8356775a557a45e1"
    "fa"
  end
  language "ff" do
    sha256 "7a51b03f59a5eaeb537cbd1f71caa90a61a382fb28d435a61c70161bd2593f73"
    "ff"
  end
  language "fi" do
    sha256 "d2270527528ba4a9b305511ff317d40eee62a9f347ebef22c70a4dc3ce1c1383"
    "fi"
  end
  language "fr" do
    sha256 "cd2cdea45306ca9c291ee1b5ddf48a2c889c9ae924e0f87bc3012dc088ed77df"
    "fr"
  end
  language "gl" do
    sha256 "1ed9d8e8de5ab5cfdb8ac3f0ff4fa78bd1d29d73abde54cbb4428f5374cc7430"
    "gl"
  end
  language "gn" do
    sha256 "93eef7dcd2935431e8ba4b0ff0f32c320fd2291b8057b9e9de2a68d29756e4cd"
    "gn"
  end
  language "gu" do
    sha256 "6d517d1534c597acb3d639fba0eaff56378c62f2691e81a15e6f6235756c8979"
    "gu-IN"
  end
  language "he" do
    sha256 "b1869926cf712d2d07cf704e463d1d14ff8a00792517d1a378f2392297b946a5"
    "he"
  end
  language "hi" do
    sha256 "de53845cf24984ac1f9e49a20ed38e8e0aefacdf4aead1e2de3b325b14d7637a"
    "hi-IN"
  end
  language "in" do
    sha256 "de53845cf24984ac1f9e49a20ed38e8e0aefacdf4aead1e2de3b325b14d7637a"
    "hi-IN"
  end
  language "it" do
    sha256 "9e193ceb6a4df874be14adb6dfab7dcc55397eebee9d4d4e69e06a742d7a9845"
    "it"
  end
  language "ja" do
    sha256 "c4f90817d06f1d7b0e9e0bb3f82b5038b833a7ad1806208840e1f890bf0415f5"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "02038b1ddb47d7133f9bdba1f8a919a92fe15213c64ded1ffd74d0ee0406a078"
    "ka"
  end
  language "ko" do
    sha256 "085dd93bba2271fd5748b2ba4d20fbabe593dc8a44a58e685a0d8def7ae953d0"
    "ko"
  end
  language "mr" do
    sha256 "f8fda8ffdcdb92c6354bf7d433b425ccbbfc89c810fa04bdb35e30127b9578cc"
    "mr"
  end
  language "my" do
    sha256 "473d6c70af74635ece83899d8a949bd5bd897cfaf9f691a7c0d414892a095b78"
    "my"
  end
  language "ne" do
    sha256 "cffb91f51a0aadff1060f6f9a5ae18ee4c75e9b4435a08702323f841c73ae39c"
    "ne-NP"
  end
  language "nl" do
    sha256 "36ac2228ae50216df1f8379b7655dfffcb9e63e6b514fb3b96ec9b832e0fff49"
    "nl"
  end
  language "pa-IN" do
    sha256 "9014e2dec2db906a06c84ff36a851e50efca3bee10b83afbe3fedd2d04de1efb"
    "pa-IN"
  end
  language "pl" do
    sha256 "d46d3bf1eeafb8ae8881de1a010a355dce994a1344d2fb410f0bcf80f916ab99"
    "pl"
  end
  language "pt-BR" do
    sha256 "700fb5dd57e5eb971cf945af70088af3076c05c2c011ec4202b908e0173d2c12"
    "pt-BR"
  end
  language "pt" do
    sha256 "2732745b05a5ba7f83eaac6132673449d3e8a4d5b0f74b082e322c4f3a63fea6"
    "pt-PT"
  end
  language "ru" do
    sha256 "3774798901c2b50185e9ab84235e66ace23b893423419e2ae4ce2350b5ae939f"
    "ru"
  end
  language "si" do
    sha256 "a54a6700d2b950d8e80885fd1a0a343178c467eb824c5ff38621c25315285bd1"
    "si"
  end
  language "sq" do
    sha256 "44f66a5baa2ef99a2876126809bde334e487d5feedc2a38fecea5eb22c01fa8d"
    "sq"
  end
  language "sr" do
    sha256 "9fc0e15fd0a2a85e351529fa5ed603dc5000339a12d6c65d07f84cd0a89da659"
    "sr"
  end
  language "sv" do
    sha256 "405882fb47d0f827d106e08f5626040a527a990bdc7cba060a8d0e449cf15032"
    "sv-SE"
  end
  language "ta" do
    sha256 "bd46d2457683687bfc41809bc5e528fde7db68f096a9b2566bf2f9e629e3875a"
    "ta"
  end
  language "te" do
    sha256 "20f25e5375f9ae59cd5a4bc36619d4e80d9ee00e683016ed7841b10d2ee6fa59"
    "te"
  end
  language "th" do
    sha256 "15401ac931ef8f8f89ee53bd0fcc5dc017e2bdebe8554134436d89de6dea6516"
    "th"
  end
  language "tl" do
    sha256 "d5aced6c7fa8cb9cedb2639adbc4b669349538a29b54e843ebbe230a9c244d09"
    "tl"
  end
  language "tr" do
    sha256 "c5bba7728ef128d5c30f13666de1afeb94308148679bcb8d92f938708929eee8"
    "tr"
  end
  language "uk" do
    sha256 "747f43f2e95b232d27dccb52dbe1fae903c40cea69679aa00fe6469ccfe0db85"
    "uk"
  end
  language "ur" do
    sha256 "d784f3bebd8779c0cf9ea913137893f9e373b0b11f45313a56b5767cf5dc1acd"
    "ur"
  end
  language "zh-TW" do
    sha256 "00285026036a37868975806575e50ab1157d21d9ed37375b58d229bddc60736c"
    "zh-TW"
  end
  language "zh" do
    sha256 "508531b655b90197f6b89fb0d2f2b3314b265e39ac07200d99845823b8029170"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
