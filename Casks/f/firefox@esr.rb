cask "firefox@esr" do
  version "140.3.0"

  language "af" do
    sha256 "69b29912d5ba13546e38712b452cde8e2b2f7c11c5258162bb54197dab453873"
    "af"
  end
  language "ar" do
    sha256 "78a61d862a4d4d14e782864199834bd15c262e9b1c91381eb01cbe21a09d9ac8"
    "ar"
  end
  language "be" do
    sha256 "6488bbe82544f135d3a942e3e8318c9117679cd4058e735cdff968dd5c3cd6f6"
    "be"
  end
  language "bg" do
    sha256 "4603ec473e7f907533ca287a25bec011d98336264220f9e33b05a05ccf374d59"
    "bg"
  end
  language "bn" do
    sha256 "b131f0824a09cdc168ee36d62a903564720483289ed6de3350b8dd1c01e23d25"
    "bn"
  end
  language "ca" do
    sha256 "15c89695020d790024b5d528a5c0b07e5f5f6462d9258c30ef7a56ee19e4fae1"
    "ca"
  end
  language "cs" do
    sha256 "2140ff157bb49c1d9c8e1aa286684b8a4a487e622bbf46320fde132d1a65787c"
    "cs"
  end
  language "de" do
    sha256 "316b397e2c7bfbd5365a7efaf77774d0578925a3c9b70abb875a6b40710b6a79"
    "de"
  end
  language "en-CA" do
    sha256 "0bde815f22cf5ee2c69e19a6058d9c32ccbe959056e68e6606604384aa9a5fc8"
    "en-CA"
  end
  language "en-GB" do
    sha256 "b58370123175ac111d9dec86b947e4872f1adeab2edc079e09666db42d35b504"
    "en-GB"
  end
  language "en", default: true do
    sha256 "193a1116440fa1cdf909f61c3c1990a151e52d8dce1fe1abe6f0440f552a5284"
    "en-US"
  end
  language "eo" do
    sha256 "fa5de6edcdad6b8643f61ba297860e42f64cf33a506d71f8026886c4e8b77989"
    "eo"
  end
  language "es-AR" do
    sha256 "96a6d01637109b9a8d5eddb3a6cfd25e72ed66f351e0442544ca64b20fc24890"
    "es-AR"
  end
  language "es-CL" do
    sha256 "fa83a17bed49b5b4b0b647d6d97a243a01ccfcdb74d1be6ca4d0d99b155826fc"
    "es-CL"
  end
  language "es-ES" do
    sha256 "dc114ef148302e39e1a6b3a0b685f280d5c00e48d629dc906368b974301b6bc0"
    "es-ES"
  end
  language "fa" do
    sha256 "d2a40168c32c7be54a091a70b19a2c73fe4ddd70be9f2600b60954ab97c1833e"
    "fa"
  end
  language "ff" do
    sha256 "421a8e5c2fd29acbd66d0f173e180b0c24f8b1024114cb927c09aa06c3e94aab"
    "ff"
  end
  language "fi" do
    sha256 "b4b9a1eb56b38b1423ff37ea03e474d2b33088aa586ef6bf2041f3cc2ab78062"
    "fi"
  end
  language "fr" do
    sha256 "02d88cda3aab4e6f14eeb1420785095775d24b46629d8e94c3c5c6452ddf5f67"
    "fr"
  end
  language "gl" do
    sha256 "bd45511e1d20120cc6b0e3da153bda67593b7697edfb9afbc390598087bd55d6"
    "gl"
  end
  language "gn" do
    sha256 "ef1a1a556c0d5dc85a103335e4090b7d58de67dfef15aa75b12cac3cffcfcc35"
    "gn"
  end
  language "gu" do
    sha256 "e34b6e65527f2c5496f1c3b44f35279acf474f282e02134831092b6f740522c0"
    "gu-IN"
  end
  language "he" do
    sha256 "b127b36d3abb8727aad725527005f9cc6bcea5be3a382ab170ef71bc87ef269e"
    "he"
  end
  language "hi" do
    sha256 "3fae2814879a974fb142de67fd7aef548efe32843a9ae32a5831b47bcf2237a1"
    "hi-IN"
  end
  language "in" do
    sha256 "3fae2814879a974fb142de67fd7aef548efe32843a9ae32a5831b47bcf2237a1"
    "hi-IN"
  end
  language "it" do
    sha256 "b0b10312a2332a8d134d90471f855aacf87e4d6c9f0cd0e754601dd28786f845"
    "it"
  end
  language "ja" do
    sha256 "a40b2d7b5068992706aeeafb19978d92bbcdcbc8560d5785040be8416ad8cbe2"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "d590678e2d5f27718197500414ed0ea2b396105c8fc8d66a66051387feaeddc7"
    "ka"
  end
  language "ko" do
    sha256 "37b472a823fffcc350398640cc55c052904c7d00a70b360b3c63b251d6bfe9a1"
    "ko"
  end
  language "mr" do
    sha256 "f1ec4dc22b7fe9bf810d259ac0c593aa830ccf559f5b7e7b1c5ad33de0630e86"
    "mr"
  end
  language "my" do
    sha256 "2f9e9aa95f3aa7ec7dd66618d45762714a1d218e4ba03fa98f4af19495bae98c"
    "my"
  end
  language "ne" do
    sha256 "2a24ab9cb4fd328db04a38e6049b11c6b29e4f7b4bdc783b347d9ad42c49742d"
    "ne-NP"
  end
  language "nl" do
    sha256 "ae0af2069fee7e8e073d82c5a2ed17d8d0452ffc3cd4785059c0ef63bbe7ef0f"
    "nl"
  end
  language "pa-IN" do
    sha256 "5c88ec0c3d0693e8319376033b3017b8c84d1136d45f7c2de2657e8d045fd6e3"
    "pa-IN"
  end
  language "pl" do
    sha256 "14ef44bac7856ce7c05c436b114b2ea840cf1845b176e910d4bf25f06fea0404"
    "pl"
  end
  language "pt-BR" do
    sha256 "84f196fb9ef07954054aaf2da5072cc5cc17af7c16d6c029794c1932cd152821"
    "pt-BR"
  end
  language "pt" do
    sha256 "2f8941028ad7d350bf0c3715e3bb54e47b5dad1ee105c6cf9579090b8021dfbb"
    "pt-PT"
  end
  language "ru" do
    sha256 "a0c9548a6e7d279888e1a083f8b0ec9649c1d7903b9a11868dd2cd36c7b11a68"
    "ru"
  end
  language "si" do
    sha256 "13b268bc9e558f60a05dffbd04f743e90cf05c9d71b2b4f6fe56586bad1123b8"
    "si"
  end
  language "sq" do
    sha256 "8fc48b2f88dc662042344a8e0a8f585ae6f8831dd0298ede80254deda99fc46c"
    "sq"
  end
  language "sr" do
    sha256 "a82cb8ac50a383c6d02f4da8f3e6de4d88b79d4bf488fff1c7f4126dc5eb411e"
    "sr"
  end
  language "sv" do
    sha256 "b76bdc30fbc32b76abc952fc8d63e78e848eac92f805469db8bb30866106aa6e"
    "sv-SE"
  end
  language "ta" do
    sha256 "171194a856d41379d93104488e1c068d2d9aec32155e98e143067760ebba6ec6"
    "ta"
  end
  language "te" do
    sha256 "ea0e7c94ad2546d5a6eba6cf98b3064f6004e003b8c31d546abe76a770ddf983"
    "te"
  end
  language "th" do
    sha256 "7aadc9abc237aae7b8eb73798bf757e8bf325227b8d1dc601c37cc375c129cfa"
    "th"
  end
  language "tl" do
    sha256 "2a53141c13980a1b1cf7f0756c279c77a815124d3df90c12c513558b4599e08d"
    "tl"
  end
  language "tr" do
    sha256 "1ef73d485be982dcc76383f1e61cf6764ae5db92e357886211fbb8cc41103c6d"
    "tr"
  end
  language "uk" do
    sha256 "d5b0981237d22f3dc15a9df1091d16be02104dee27a9f190bc11f20c73a92576"
    "uk"
  end
  language "ur" do
    sha256 "34a230230d91fa9c486541a3a1b81ee780ae0e3426faaa840122b96b9c8751a5"
    "ur"
  end
  language "zh-TW" do
    sha256 "547c64f4308617c7bc295e8ed70c229b52ea5e74265fb25a1d52ec43b305badb"
    "zh-TW"
  end
  language "zh" do
    sha256 "47dd2db78603374a33c9c10d24e2e4c8889b31bc42357749534673387ad551d0"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
