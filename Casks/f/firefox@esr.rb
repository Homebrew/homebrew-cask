cask "firefox@esr" do
  version "128.10.1"

  language "af" do
    sha256 "439b916bfb28184b018552dae95ed3f1fd22fce3b67a3f6e251569e922380544"
    "af"
  end
  language "ar" do
    sha256 "a9dce229f309aee87ca9ceeecb04b9ef4de459975a3130dd6350164181aaf33d"
    "ar"
  end
  language "be" do
    sha256 "4bae89168ebf672d40d2ce39e47982a884d7b1cc0c3d79197dd8ec598da72b7c"
    "be"
  end
  language "bg" do
    sha256 "d6307845b6b8ec0cedae440c0be502b8ed478129b56afb54eb687c0226b62c6a"
    "bg"
  end
  language "bn" do
    sha256 "73b7b929e53aafe9a4d6586909cfe427b0e99a67aaf7ef2395b44acffbb33766"
    "bn"
  end
  language "ca" do
    sha256 "0ab78382f27e710c53332e42e18cd9de5eba42996c233a85da055bd3e14a8901"
    "ca"
  end
  language "cs" do
    sha256 "521854ad1f0b09270d8519b42903a1ed6d96f5755b9c2adcbc652a84ba35b630"
    "cs"
  end
  language "de" do
    sha256 "830946ce5a321a1a3e50d8ffba67b688ed5f54826f905e9c906525622a3fb8f7"
    "de"
  end
  language "en-CA" do
    sha256 "2d75167fc3a313bdcb9b9059ac3a98e760a02aac37c5c44606833a409b0d061b"
    "en-CA"
  end
  language "en-GB" do
    sha256 "d7c20bb00ffd86ab2b789f2e9bf8e315feaee1a276c7dffb358f24fe4b0f6d4d"
    "en-GB"
  end
  language "en", default: true do
    sha256 "d422ae4b858cf531e476193dbe6cd689562d8e266200fb37c250db8c7474bf0b"
    "en-US"
  end
  language "eo" do
    sha256 "f943fc67c4fa3baa3e5bfaa596921c021dfd989f50dbd5cfa9d4de768a0c06c8"
    "eo"
  end
  language "es-AR" do
    sha256 "9897bee584cf011ef6e8f6c6696fb6ca30eac27b0686798034a6d81d39119572"
    "es-AR"
  end
  language "es-CL" do
    sha256 "6ae2f90ac1c0ea36473a829f7252c44520b4a89c7b6ea74de8fe8e170113730d"
    "es-CL"
  end
  language "es-ES" do
    sha256 "e00952c0db936bb31ed2d9d40579a6eab7a9268a48ef9425d8c1702c3a71cdfb"
    "es-ES"
  end
  language "fa" do
    sha256 "cf107259b40ba525db5225c08401e2a8f98d85ef5e58917c6e3cbd76026dc020"
    "fa"
  end
  language "ff" do
    sha256 "abe48918ee0adb4ef7a8972f1971b276a09f1098d24936daa6b76c7c08b265b0"
    "ff"
  end
  language "fi" do
    sha256 "ddb82a19ee068f6d26362973d1e270a24e9b689b3f0e2b3f303c48763358a8f8"
    "fi"
  end
  language "fr" do
    sha256 "e84eec3cee51b0faf5e997396061a635d70197ede315cdb5e36807343e8d9282"
    "fr"
  end
  language "gl" do
    sha256 "ec190725dbdfa9df51912bb6863c00e77fd4473b639df9f336a883f61a412dc2"
    "gl"
  end
  language "gn" do
    sha256 "c099b5ab90383ace104ea711e72c252e565b8f6575032d896618566bea84f902"
    "gn"
  end
  language "gu" do
    sha256 "519dca29e5afa4513ec430960a53b347a86165ad7b49617319e572e43a573fee"
    "gu-IN"
  end
  language "he" do
    sha256 "e415526e13acfd4222b9c5f8914b3db40615dbd72fb257473ef81eb3c2410631"
    "he"
  end
  language "hi" do
    sha256 "c14e8ed8f2a23e111efdb5d1d6967f2ccf07af74aafa111b787e45fc2e444e2d"
    "hi-IN"
  end
  language "in" do
    sha256 "c14e8ed8f2a23e111efdb5d1d6967f2ccf07af74aafa111b787e45fc2e444e2d"
    "hi-IN"
  end
  language "it" do
    sha256 "a6dfc0f950c8096db6cb6d8d486f148d78bc790ea963493eed8333906a9e66b6"
    "it"
  end
  language "ja" do
    sha256 "e99b0292b817c12681c2caf2302a893b50c286b3a348f56460b0dfe2a176d1e3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "4767b93b9ceb3f5f9599cf59aa01d6e96949182b7c3c635593c1854c3bd3e847"
    "ka"
  end
  language "ko" do
    sha256 "60caeb04b0dd34fdce63e16a829cd6d64dfc685b0dec833ea4542fa3b2f9fac9"
    "ko"
  end
  language "mr" do
    sha256 "34eee632337878518eb12f5729910360243a44f442a49fded56419855c69677e"
    "mr"
  end
  language "my" do
    sha256 "74d6b702191e09e728b12a378e06bb12944c171a700f27168bcb2b2ff16897e9"
    "my"
  end
  language "ne" do
    sha256 "c34b6a9cccc2743071c51a887fe81eca03aee48fcbe7b806cf3b04ddecc696d8"
    "ne-NP"
  end
  language "nl" do
    sha256 "2f8c939ea3ca40e5624bd22bde06304f18140c05e837194afd28e3a827025504"
    "nl"
  end
  language "pa-IN" do
    sha256 "f9aa5529750aa85c6327127a189145abafacc0e891c3478871575c942cbc9f20"
    "pa-IN"
  end
  language "pl" do
    sha256 "303d8b8a30e7785e79cd314b3b1922a313ce4403373aaf011469d67a0216d000"
    "pl"
  end
  language "pt-BR" do
    sha256 "51472176d9c889392cbf97e201a0798a13f7b2cf03a88f4b4b55be0c1f2a48c8"
    "pt-BR"
  end
  language "pt" do
    sha256 "65e11b0580abc8b57c2a07a777f88080cfa9d52a419801c199c07479798f71a4"
    "pt-PT"
  end
  language "ru" do
    sha256 "0dea576211c662a06d9c8a00cd3178096dc9887f6037d43bfcb7a626f94c9831"
    "ru"
  end
  language "si" do
    sha256 "281c81b8cb797e8b8e884f689a25bd3c468a65e392e8daf5d99b6612bd21c9f9"
    "si"
  end
  language "sq" do
    sha256 "326cdb154f91a8d99bec110d4e452640b16ec731321558b987049abcd7c34e3d"
    "sq"
  end
  language "sr" do
    sha256 "5cbbc55b49c09e961dabe031b46e782e53ce149193f9c043ee292c8ee91b2059"
    "sr"
  end
  language "sv" do
    sha256 "03f02ecfa4a4d8c7b7281d76970b3062cc168f6afba3aca0ba02fcf097a9cc3d"
    "sv-SE"
  end
  language "ta" do
    sha256 "131122995617b82d54a30a409cbea504e31ed9a3e099f0f7582c24707aecef61"
    "ta"
  end
  language "te" do
    sha256 "0405dd262bb244567b65890c6f6bc184fd8211901864751941e47a51fa8ae5f5"
    "te"
  end
  language "th" do
    sha256 "84e44b7742f5e66ee3db5b19186ec120389ae402769cd90d7c6f2d437dd0eb97"
    "th"
  end
  language "tl" do
    sha256 "0b0189bac018f0135bc44fc276ce9633151063256e658ece61e4e5d08e81e59f"
    "tl"
  end
  language "tr" do
    sha256 "ca84d95eacb1be30450826b9e339aa288035eb6d13d7e8d429a1a55797875810"
    "tr"
  end
  language "uk" do
    sha256 "ed4faeb8a46e34d778c756a2861d2e0d4142c762ffee6153b34d3d25f965728e"
    "uk"
  end
  language "ur" do
    sha256 "baa3109365b30dbb2fa0f448ab19de913548a3716c3b5050187e7553d120e1b3"
    "ur"
  end
  language "zh-TW" do
    sha256 "d6386e21b7b257d59cf9a61929c5e124cd99f37baec15a92f56d9ec65dd5289e"
    "zh-TW"
  end
  language "zh" do
    sha256 "5f34e3eff3a8e5e2748ac3802c5577a9bc558651056cb6145273e1345b674d1b"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
