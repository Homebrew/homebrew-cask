cask "firefox@esr" do
  version "128.13.0"

  language "af" do
    sha256 "1fa9241ed592e7b5c1d4281fa692344074f5a243391d62d7877f53da51465a59"
    "af"
  end
  language "ar" do
    sha256 "3d51f53c0ba5ed883b50338718911c5028854a314bec330fffcb9253bb6ec93a"
    "ar"
  end
  language "be" do
    sha256 "8dd792790de33397e4e6f250086c6fa9031bbf8a87b063f7ff608bef45c31319"
    "be"
  end
  language "bg" do
    sha256 "1a9cdff5c22d5b121aa9cabd65756acb6c4d2f2486d6935de43be173b9929475"
    "bg"
  end
  language "bn" do
    sha256 "98449566a91f4860062c7b50ff33e522339b0234cdf3b377579ebba3bc6dfa1e"
    "bn"
  end
  language "ca" do
    sha256 "cd9abee33e424e794b4ca1f9ec1dd78e8601130d7d19e7b1601e380b2f30745c"
    "ca"
  end
  language "cs" do
    sha256 "2273374fdb4bf43032d72764175686e84b5bc2e08bfe3f5b0d2d7a5dced34f51"
    "cs"
  end
  language "de" do
    sha256 "7da8f88deb18547e207c86dd23b5718dcb20a0c6d91b8b45d42303891df3b1ab"
    "de"
  end
  language "en-CA" do
    sha256 "9af266ed2afeb88712a9775c8545b7b9c43d5fbcb4a14701c41b6c7bf23f144a"
    "en-CA"
  end
  language "en-GB" do
    sha256 "eb60682287f78e80faeece70764b054a376674a7c462da702c1e8cecf8ee7734"
    "en-GB"
  end
  language "en", default: true do
    sha256 "8a587bc56269d2466653c04d7d7ea9233fcfb6811a6d74c5111b65f34d3dd54f"
    "en-US"
  end
  language "eo" do
    sha256 "aa1eb0b3c703b3aa6b5bf0f20c7d1853fe81b16504e392b64992a98e4f504343"
    "eo"
  end
  language "es-AR" do
    sha256 "cc7314474f020da41b2384fd4d913d5346aca0437511ff5a53c2b1632edd121d"
    "es-AR"
  end
  language "es-CL" do
    sha256 "310f1ad99161b5307a3f1b7ce7d441f810d43ccdae5389341e30979b5de75b55"
    "es-CL"
  end
  language "es-ES" do
    sha256 "f1d96b85fd1bd4acda607714d4c62003d3a6bb51ef8f872dd5d64ecb7dcd0988"
    "es-ES"
  end
  language "fa" do
    sha256 "d2dbb5850e3819bc07e0ddc782abbc98381e61bedf47ee29d36979e3fc85f090"
    "fa"
  end
  language "ff" do
    sha256 "7ac4152badfaf12fc6cc4ef4fab025a7db261211d64773a881568360581d543f"
    "ff"
  end
  language "fi" do
    sha256 "d78b6559fcf5b66ea1239452425764819baf2dc798c3078c09fa98ad911cff4f"
    "fi"
  end
  language "fr" do
    sha256 "7534760b3c07a3aa43125f3a733bd516d01989d6b26f57b14cc24a6e1a664b46"
    "fr"
  end
  language "gl" do
    sha256 "f3af1d279e6ce2e78f94e24983c5e79bc1192e600a46b2326cf5a1f674abd137"
    "gl"
  end
  language "gn" do
    sha256 "b739323a9a278733e9868359b5ce254f20f48131601dc8643f5a7536b82a6463"
    "gn"
  end
  language "gu" do
    sha256 "e0db76c2bcec415294f02f3b7369699e4dd7145434e77c795d537475e2151e17"
    "gu-IN"
  end
  language "he" do
    sha256 "293d5b8726c021b074958d0d93d98cfc86981a7e3c8a6c7531df76c060eeff99"
    "he"
  end
  language "hi" do
    sha256 "11246c9b2104ee307d7f5e5df6006c60a9dfae2503e61d4b3840172df1733b5e"
    "hi-IN"
  end
  language "in" do
    sha256 "11246c9b2104ee307d7f5e5df6006c60a9dfae2503e61d4b3840172df1733b5e"
    "hi-IN"
  end
  language "it" do
    sha256 "17ed2dfd2b164bbd6322b398ca935e178f01492edbebf5f29c870292d703e2ba"
    "it"
  end
  language "ja" do
    sha256 "077e10e8222415d4a4492dbc98c08d86164f78b106e18e09ee58e7751b093104"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "851c0dc73d9ca7bd6bb4c4b105028ebe9533cfce024dafe396cce5321cdaa87a"
    "ka"
  end
  language "ko" do
    sha256 "32d3f911dd0b500fb7ff321f3ee44d46104d008a286c5ba4205ea838c03e3a6b"
    "ko"
  end
  language "mr" do
    sha256 "c2e1217f51588421be5052ad9e6ac412304d5f1f6e227cd45279fbcfdc61bf6b"
    "mr"
  end
  language "my" do
    sha256 "aecfcbba655f35306c5f68a46f33f01c08a198d8d162e1d2f1efcadb0a721882"
    "my"
  end
  language "ne" do
    sha256 "af5fbb75bc250291f30a01aace455facb76b0a53d6af644aae623956a21fbabb"
    "ne-NP"
  end
  language "nl" do
    sha256 "c322aec41ad2c1229a2fac552a24607ceb840a028658585c4b5783047aa1d2f5"
    "nl"
  end
  language "pa-IN" do
    sha256 "f3bb9b4f97a282539a4c712694a17f38cdb5631c80bb012aa0aaaa7f1d525bca"
    "pa-IN"
  end
  language "pl" do
    sha256 "838a0b9026a9ec36fd771e73c5f35bfc9140d8b3a02ace7c98eb8c482eed4661"
    "pl"
  end
  language "pt-BR" do
    sha256 "4b7d3c0f950eb15d490138fb744c53e8c8264a17c05c6bed49468ca0eb94a31d"
    "pt-BR"
  end
  language "pt" do
    sha256 "ca7cfca6e9c340fa2173c469a1c263ce2f360e9b485349572df48283fe2db7db"
    "pt-PT"
  end
  language "ru" do
    sha256 "b8f1cdfdcb9e66f3278bd288f4788f40d42ecefa1fbd4f6560e6e072b62d013a"
    "ru"
  end
  language "si" do
    sha256 "667abc0f04641a576450913549499381853b3aa48f482b0ffe627b403cfc4937"
    "si"
  end
  language "sq" do
    sha256 "f81cabc47a7bde7b29c23e9c8559e89cc229a0818c0fefe013438ce3282b3136"
    "sq"
  end
  language "sr" do
    sha256 "b657f1afecd5032dfc54934f11d0097b8cde0c3a06a3674bae95f9d5fd8fdbfe"
    "sr"
  end
  language "sv" do
    sha256 "55eb98de0dcba129206fac93cffa0f0a3b11566e6b4871cdf6bb2d2507c0acf4"
    "sv-SE"
  end
  language "ta" do
    sha256 "d2c11c6a4308de37371f0f7ed2f24f97025b114eac8be72ed19d1cb7e0d8ffc9"
    "ta"
  end
  language "te" do
    sha256 "371ca7d573750d8d30b08b3afc5c02d934a66d294c3b74b5353bd6775774f364"
    "te"
  end
  language "th" do
    sha256 "d8d7bb81b3d33807035d1441720abcf741d39322d6888a4de02455a042544b9b"
    "th"
  end
  language "tl" do
    sha256 "3d1c87b84f030fae3579d2538722e95ba543a424f20a80f6860b085437edddb6"
    "tl"
  end
  language "tr" do
    sha256 "55f3b8b49c4c67cffcdef06fc759a9e6c015b2b60ef17cadb990418079faf440"
    "tr"
  end
  language "uk" do
    sha256 "0fe89bcb41803f02782f051cd02fef05e1bd5f3d1425aa9943e7dab8ca836d78"
    "uk"
  end
  language "ur" do
    sha256 "5d155f2b604796934e9091f0e2dc262f3635cd53c5e3501994a13375013c5ee1"
    "ur"
  end
  language "zh-TW" do
    sha256 "bcffb61d4c11e0abfc4c20496c0ceb98bf0177e624e7c8a30b443a6ea1b58861"
    "zh-TW"
  end
  language "zh" do
    sha256 "04b41424b8cd703b2ae413e872786e959bf9c4d143bf755dbed3b099939866c6"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
