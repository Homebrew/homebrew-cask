cask "firefox@esr" do
  version "128.8.0"

  language "af" do
    sha256 "5d5baf4244df2a108f946b4c85deab4f53fc1e40ad299059199d3101f9148395"
    "af"
  end
  language "ar" do
    sha256 "47f3bcad2a7aaf300584b9336dc1b9dd8a50afd29b94a7b7b27de89eaaba6066"
    "ar"
  end
  language "be" do
    sha256 "64ceda7557a4086516e35c8af4dc07f8683f0b7b4fcf154ce897bf0ee427b15d"
    "be"
  end
  language "bg" do
    sha256 "6e17076c9a993b5645acfe98b1ef1758372068e5b7219b89b58aa1736c857820"
    "bg"
  end
  language "bn" do
    sha256 "529bad28aa32234fe3c71589c8d5867ec59f3c7226b7f7bbb33521db6e015881"
    "bn"
  end
  language "ca" do
    sha256 "6470cd929111139eae93ad8de69bd9fb3ffd53833c8ab7f6fa8adda2704b5230"
    "ca"
  end
  language "cs" do
    sha256 "1341b5bc2ab761f9c20b31ca4ecdeca8b0edaf66f0dafb4ae021901a19877de3"
    "cs"
  end
  language "de" do
    sha256 "ccea1626be3728e25321c763cf3543b6d3e4440618a402d77390ae6108f46d59"
    "de"
  end
  language "en-CA" do
    sha256 "f43bb238184f1e279a4f719ae79cf64eaddc9605a707c0c3a3dc663f5a556a83"
    "en-CA"
  end
  language "en-GB" do
    sha256 "0897203e6f0d6030a3d3fa70b2c5463133451eed3fc51b20eb8312bafb272e99"
    "en-GB"
  end
  language "en", default: true do
    sha256 "814bb5b7cad681f7a866d155d061ca2f08852be63aa5b5fad30382f18470fe7f"
    "en-US"
  end
  language "eo" do
    sha256 "66fa6e758aa80225fd192a8de471356a0c76a790999daa6f1282fbe3f14622eb"
    "eo"
  end
  language "es-AR" do
    sha256 "8fe6f177e26422977e0bb69091658f86fb11834252df5862bf77db8a7dbccf90"
    "es-AR"
  end
  language "es-CL" do
    sha256 "2a0134c859f63ed9cffde2fe97e7f325ada1993632070d0dd00ef03740226c3d"
    "es-CL"
  end
  language "es-ES" do
    sha256 "a01bf7ed599638b883437701f42332afea81169a33e87699f952155919bccfcb"
    "es-ES"
  end
  language "fa" do
    sha256 "5b602e81d3298a822d4af3fc564144757b61e39c322c73c4e5d155c43f1d9e2b"
    "fa"
  end
  language "ff" do
    sha256 "6d46e56b6d810594b95381444ba56eea740a802f1cec0e9922829d2af6c4d62b"
    "ff"
  end
  language "fi" do
    sha256 "f6d9a4df6d3a7ec956d6d65517cb295a5e9a7b4fb55e3d13a9ab566b8a690c9b"
    "fi"
  end
  language "fr" do
    sha256 "ef38afcde59bcb04fc6477d97378d72268268429301ab5bf50c493aefe45cd6d"
    "fr"
  end
  language "gl" do
    sha256 "e904a6be0a813a75e1e5ddec23cd99f502704aba2451fbcb917ba16619faeee7"
    "gl"
  end
  language "gn" do
    sha256 "86db5e46b7dc7757e8a79a3e5c2de2c14acc863d1971f8776a4d9aa643a9d536"
    "gn"
  end
  language "gu" do
    sha256 "50b29d212c90fa377d156a27f60d74bc6e53f05ba8c87d4e5681353ba243716b"
    "gu-IN"
  end
  language "he" do
    sha256 "c16cc5bb95848f7fbd1f84817a91081e7231ffc5039626990677af6b9eea1306"
    "he"
  end
  language "hi" do
    sha256 "0b037935d7187d897a5aa22c4ba8c2e40c4930e39cd435b778bc5611c64295e5"
    "hi-IN"
  end
  language "in" do
    sha256 "0b037935d7187d897a5aa22c4ba8c2e40c4930e39cd435b778bc5611c64295e5"
    "hi-IN"
  end
  language "it" do
    sha256 "4900ade75fd61317e2c3fda59bd196e50a7e5ee650dd6b732392469786b6b9a0"
    "it"
  end
  language "ja" do
    sha256 "30304787c5564eea796c1645b3f7024d6516f9357935eda209dfab87e17b3888"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "77e261bfebcd73296a52c95bca5d787e5d68c8fb552a630c82767e543936128a"
    "ka"
  end
  language "ko" do
    sha256 "f7807de50ab86bc46bee20f27d4fb149f09cd432004905ca775b6036bf9f1538"
    "ko"
  end
  language "mr" do
    sha256 "eac4cd7ef6f7a1072db83132b9f7f414512015cd98cab601a29e55f7a82bb55a"
    "mr"
  end
  language "my" do
    sha256 "938f10d2e914f81e37cff7dc0b2ef091e351383097a0f47dc14dae5a1e1c7aac"
    "my"
  end
  language "ne" do
    sha256 "619a47943292702f92b0eb8e99abbb83cbb878663c5d7aef8f1194112dedfd5f"
    "ne-NP"
  end
  language "nl" do
    sha256 "9db951c58cd06ac098046d179aece6f2ab8d45150ebed3bd9a918907c2421818"
    "nl"
  end
  language "pa-IN" do
    sha256 "9119e44c9c1417fd21c3b3a753dd94d8a28fa67e190e2d19ca83df75840f638e"
    "pa-IN"
  end
  language "pl" do
    sha256 "79fd228b277174e529f6144c10ee273f5c3df84407a95d1fc26c8c7e5b5a3568"
    "pl"
  end
  language "pt-BR" do
    sha256 "83013b2ece981e8c212703dc8c7dc26a45c69332f3316b853f76fa320f30816c"
    "pt-BR"
  end
  language "pt" do
    sha256 "91b2e6439b3b6eaca3a616704ec298ba6b09065e69272053f7a0721aec85436b"
    "pt-PT"
  end
  language "ru" do
    sha256 "341eddf020c5ed9ae1f6540d546d526b8357f7f0aae45f8390b22f12225f92ac"
    "ru"
  end
  language "si" do
    sha256 "ecebf4c494b882e699349491757367804409e5969d43bef33663c4b170485890"
    "si"
  end
  language "sq" do
    sha256 "eeb8a10f31f206f1a72e84051c4142c4c22d006e59c6c9207fb756e6ab93379b"
    "sq"
  end
  language "sr" do
    sha256 "dbfa7b68dbd2c6d0509250a528c072dbb951371af38a1be8ea6cf57683e8ac5e"
    "sr"
  end
  language "sv" do
    sha256 "e92fbb8cb9b2768a1ee798a0af7d9a546b987c1851eedd80bfa3dbd1ebbf3335"
    "sv-SE"
  end
  language "ta" do
    sha256 "5c23c4e44d5acd0088189c81c3e5a58609a698ca535803d0d9c075877a7ae2db"
    "ta"
  end
  language "te" do
    sha256 "aedacd8001672a4cf96fb6c3ceeca6bf9a86502f3621a8d2019b62feae729833"
    "te"
  end
  language "th" do
    sha256 "a37d8b6b49488e33128b398bec49ba6679190e6b96104dad47a1acdcd2097592"
    "th"
  end
  language "tl" do
    sha256 "3d1262c76b04e0c4fe5ca0f74decbb0b75bf89812a616237ba859f294c604798"
    "tl"
  end
  language "tr" do
    sha256 "4c2a3a004562b5652ffde8602b23cf2a01d88c6965b6c604838214c2fd5771d3"
    "tr"
  end
  language "uk" do
    sha256 "db736707494e6b5e4a8b6660f0a7b774d3f40fcb1fcd6f7d6921b2aae32c7fc3"
    "uk"
  end
  language "ur" do
    sha256 "7ff7e685834722e87140e87be573810531ad83fbc9c1950bfbec40ab3e3e06c6"
    "ur"
  end
  language "zh-TW" do
    sha256 "d597e38b66133f08be6104999ab474cd4d2467e8e1bd6fc6e1800d6e3a44adde"
    "zh-TW"
  end
  language "zh" do
    sha256 "4b95d60318ca7eb8bd95921b0891276940a02fe1b2d5c0e0388943019d6020f6"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
