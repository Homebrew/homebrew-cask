cask "firefox@esr" do
  version "128.5.0"

  language "af" do
    sha256 "2eefb82fcb19b99fa4a4b706aa7d04b969b82366ae23c4a3e21fd8756e18694c"
    "af"
  end
  language "ar" do
    sha256 "96587cb4ce193b6b54b35c89da05d7564c43ff71ed400e460e579667b23a0636"
    "ar"
  end
  language "be" do
    sha256 "4e100638f1f24f7e7d08050af7a36e13ceeabac28fc9a17d0b343a9d4e52ebf1"
    "be"
  end
  language "bg" do
    sha256 "c4020a5a34ce12bd4d890ca93eebc6df16178f529898575c85bbc3287546f38f"
    "bg"
  end
  language "bn" do
    sha256 "43cd5b2d0ef563e9c36753d0995ed45fd0fe180f69f1cbf882e1d32e7e82d9d4"
    "bn"
  end
  language "ca" do
    sha256 "1b8298dc8ba58b89adfdddab2fe2e7d7fb185f026af3a0448c8faab964ca593b"
    "ca"
  end
  language "cs" do
    sha256 "d1d0ba617b0c5a893cbab009ed1e1ca252a7cedad0ffa138ec75cad0431b79ba"
    "cs"
  end
  language "de" do
    sha256 "30b2ff298c4079c3831d010d03ce3afcb072066b002b5bdf94763c736dd290dd"
    "de"
  end
  language "en-CA" do
    sha256 "e24bb1dcb98dd6c3de2214e255b46c6878563f7a1b892fb4eb679e5e784b9a26"
    "en-CA"
  end
  language "en-GB" do
    sha256 "f6634f92d5aac0810a9929df3cdfcf88b10e02ae66a33e4df22e3c0d9423f360"
    "en-GB"
  end
  language "en", default: true do
    sha256 "25e8bc0c6953bb911042a2f7a77931f51ebbc45a6610a8bdd68a4588893fffad"
    "en-US"
  end
  language "eo" do
    sha256 "55cb5cbc08d678b1f099d15392f51c40a820b34642c7eb148c3a81bc8d0d8b33"
    "eo"
  end
  language "es-AR" do
    sha256 "2fdad5af8d9008a5f886e423233beafc5fdde7708afb3eac9377fc7ce8cc127c"
    "es-AR"
  end
  language "es-CL" do
    sha256 "e506ab8bdf51649f78372ae2dcfcd9d0eb6a8c9d63b4331de761cfd012798216"
    "es-CL"
  end
  language "es-ES" do
    sha256 "3fa5334047ee618b421bb94537288d9509dd2113439d1339a0f527b3de1af98e"
    "es-ES"
  end
  language "fa" do
    sha256 "45955a47ab9427fe85cf2d94b990415b963f76161572eb36532915e341c8a6a2"
    "fa"
  end
  language "ff" do
    sha256 "8b7bdb674c330fefc5e4c6514610802b3c92c716ba1a462f7eca33ae73af36ad"
    "ff"
  end
  language "fi" do
    sha256 "ea3caab3d929235189d4004faf0ce9315a1201792101be98b026b688786acbb3"
    "fi"
  end
  language "fr" do
    sha256 "4f7fa1cec3511866f2a07dfd1715b672e7679865f6c4626d8b5feeeb2e25cd40"
    "fr"
  end
  language "gl" do
    sha256 "dc9cf87d7d448a27fb08b125baec3ca99f460d0229fa1fa1431ab95db47d3301"
    "gl"
  end
  language "gn" do
    sha256 "b786c9b1d4bf1d222ba6757862443a20da01aab5161dba4b9e0a3576c01e107c"
    "gn"
  end
  language "gu" do
    sha256 "a8a8058c601c82471e404f2de5ae86ee90add1f93caa811d85ae22281201785b"
    "gu-IN"
  end
  language "he" do
    sha256 "576127154a75488e1ede11326a3cd5ed0f1f01d0542c1ce9e1b19eef6d7626be"
    "he"
  end
  language "hi" do
    sha256 "e111df6bcdb2c73607fb18b859bb14e60bdaaa14f8222465a857900f36b13407"
    "hi-IN"
  end
  language "in" do
    sha256 "e111df6bcdb2c73607fb18b859bb14e60bdaaa14f8222465a857900f36b13407"
    "hi-IN"
  end
  language "it" do
    sha256 "ef99efe9ccce7c7e74e951c14b96a8ebee199f8f9ab879878c56d5f05c421af5"
    "it"
  end
  language "ja" do
    sha256 "6fe4a9a53c10cee118e287cf06e553dbab7f54362c4ef91729fa6ff6098f5e19"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "3a636a93179808c2683a37cb15fda8d92f0eb310011f76f72451e78085f29911"
    "ka"
  end
  language "ko" do
    sha256 "20e9cc9d51771588d025639d94e9dc98980c59066688bf5218fe8887de57ccb8"
    "ko"
  end
  language "mr" do
    sha256 "f2864fff3bc1328eeb25974aac06a18cca36dd1731496ad745daee5b157debc9"
    "mr"
  end
  language "my" do
    sha256 "ecfccb146be1bb981020b8ffaad4fabdbbd9b1d5f25d62bee07fe23574ceee6a"
    "my"
  end
  language "ne" do
    sha256 "4b8f5e99de823372be4aecc95b87bd91f5e139a481c260d7251d2a7ed2e30740"
    "ne-NP"
  end
  language "nl" do
    sha256 "4c72f4690ed3bd687c09cc10cc71140b575cb97aa882ae5849abf818b8390070"
    "nl"
  end
  language "pa-IN" do
    sha256 "77d4f03b051eb6418c3c8b82e3ff79ee5baeceb3173036b288c862b4b191448b"
    "pa-IN"
  end
  language "pl" do
    sha256 "bddbd4a87db0b5bd0d1fc25e678b898ca8f90d471d27919b2bca5e3d13675ffa"
    "pl"
  end
  language "pt-BR" do
    sha256 "bfc9c706ecf7e47a5dd3164e4d41cab684816b1e97d61b3a3e2a414800810954"
    "pt-BR"
  end
  language "pt" do
    sha256 "3d57d3b0f9bc9354058ac5c9f1f9f756959314e212283f456daf5b3e6ed54972"
    "pt-PT"
  end
  language "ru" do
    sha256 "c88439b5248e9fa9b8fe68d18ad544e735d36043457273124af89a856644df2c"
    "ru"
  end
  language "si" do
    sha256 "7f09f8c5150331f8127b5dea8f6c1ae1e15c3ce4231a6c4564481982dd86605f"
    "si"
  end
  language "sq" do
    sha256 "1ef1312d609169ab75ed4c7e4d1c35d33938460be03f48d766e037f147ce4acc"
    "sq"
  end
  language "sr" do
    sha256 "aa51f85ddbb385cea755d2f738e55cb70c78ae41f00db6ff5397147786eb1d88"
    "sr"
  end
  language "sv" do
    sha256 "81ca54e5fb8737b428a76e565a07cb21b338239652832cfe205e75412e12efbf"
    "sv-SE"
  end
  language "ta" do
    sha256 "8708627d420b06ac25b912bbdac07c1b3f4322659367d95792d94ed3f291bf51"
    "ta"
  end
  language "te" do
    sha256 "81968c006891d6a485ac1cfe5c6f8e2e2c8e8b2be8db5023b49b31c50c512ca7"
    "te"
  end
  language "th" do
    sha256 "2ddf3a42d6a0edd7bc460c4cfdd66bf04f8deaf821a8efe6db149b474b185810"
    "th"
  end
  language "tl" do
    sha256 "65a8c519d908771b60ac726c73fa36998aa4b5897518b00bf0d16088e7482c34"
    "tl"
  end
  language "tr" do
    sha256 "060c3aec0fb11eb1194d1ba4e9d9cb25794aa9a542cadce42fcd85c27fe95b7f"
    "tr"
  end
  language "uk" do
    sha256 "dceaa886997767f018f001229b3bcc6b256c31ee719fac8d2f42c672cdea7626"
    "uk"
  end
  language "ur" do
    sha256 "890242bce80a31f4d267f4ceada5abdb1abd8d34c38102598fd294cd820e0df0"
    "ur"
  end
  language "zh-TW" do
    sha256 "fc28eeefdbd0d13b3cdf349ea06118fb1ba6019c79edc746b4dd110a879d90e9"
    "zh-TW"
  end
  language "zh" do
    sha256 "2b74bef07d05dff25b9d2d915116af96e6524aeacb0997c85d2710a785006fe0"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}esr/mac/#{language}/Firefox%20#{version}esr.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox ESR"
  name "Mozilla Firefox Extended Support Release"
  desc "Web browser"
  homepage "https://www.mozilla.org/en-US/firefox/all/#product-desktop-esr"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    regex(/v?(\d+(?:\.\d+)+)/i)
    strategy :json do |json, regex|
      match = json["FIREFOX_ESR"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox",
    "firefox@beta",
    "firefox@cn",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"

  uninstall quit:   "org.mozilla.firefox",
            delete: "/Library/Logs/DiagnosticReports/firefox_*"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
