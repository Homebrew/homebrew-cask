cask "firefox" do
  version "117.0"

  language "af" do
    sha256 "64faa27ac24ed396586df17a7949fa324650427f1af4a712f14958876e645f04"
    "af"
  end
  language "ar" do
    sha256 "e7bad847df85c14048e19e6a381c6e43218874354bb13a4f903ce96d2491cf4f"
    "ar"
  end
  language "be" do
    sha256 "67857001dd1a84532863ffae9646f5b0940a48f0c5a4bf96e19fc16c19f0742e"
    "be"
  end
  language "bg" do
    sha256 "6b3f48d2dedecb55656c591a07929a95324db7ae65b581e64e0e8c614be1c07a"
    "bg"
  end
  language "bn" do
    sha256 "280e279135f64df2f6783fb9979f35c552d80f902a52f554d0090056b8cc5d4b"
    "bn"
  end
  language "ca" do
    sha256 "c9694c427924d87cfa187bf834f1611c78b9279d095369fd7dffd43c62ed88d7"
    "ca"
  end
  language "cs" do
    sha256 "02d3154bef868d3b4bbf45f025d5c2d46b35f2289a26f1d749d07ccdf913f71b"
    "cs"
  end
  language "de" do
    sha256 "d151b2f86c2ad0e842137b077aff06d93f292db7f4a8c7283b0a77859fb571bf"
    "de"
  end
  language "en-CA" do
    sha256 "665c16f993020b99f860e2c665326a94f3992ef1fbe33872b2ed8a28fc4b399a"
    "en-CA"
  end
  language "en-GB" do
    sha256 "23366835256e8989b0a7019f002ae8129e666ced14a3dd6a66917cb9649ab712"
    "en-GB"
  end
  language "en", default: true do
    sha256 "eb9fcd6a7ea0feb56d64795367c32a1faea93db113d40b7a6b93e178af56e258"
    "en-US"
  end
  language "eo" do
    sha256 "b528bd0ba7d5f83ed2a73f8e6bbd54226d99077c1025a490c38de8254b58d39f"
    "eo"
  end
  language "es-AR" do
    sha256 "de099ce37d736dd11030b8c312c194157451b3daadaee22e867bd30a520977a4"
    "es-AR"
  end
  language "es-CL" do
    sha256 "91ae7cb3050f53763fac6765fe1270a43f7cbe59535a5038e96bda04eeb74f0a"
    "es-CL"
  end
  language "es-ES" do
    sha256 "e1b923b0c30c99d990ab3b54c9cc2618f8c668a1697a5a95db4baf9fb1521514"
    "es-ES"
  end
  language "fa" do
    sha256 "2ac8808351e146c03af5e7f81cdef093f4136a3fbebcf81491dd6bde2601310d"
    "fa"
  end
  language "ff" do
    sha256 "4f9c8e97886f484528de18d16f6428270ed4011d96c1b627a4887510af9c096c"
    "ff"
  end
  language "fi" do
    sha256 "4db80cdea2e53697737a0eda5755833c646642a9cbe9926fff67383eca608d8f"
    "fi"
  end
  language "fr" do
    sha256 "1149319ab102715f4a8b91d9621f362e0a253c689b9f8013de1ece5cb277032c"
    "fr"
  end
  language "gl" do
    sha256 "61ff77fd22aa6a9fd435da03b9931c011cd6820ff364c22babfec3cb1634ba03"
    "gl"
  end
  language "gn" do
    sha256 "94a991c978337035edaec4790b9eb4d57f59359cb662734b208349cfba44b70a"
    "gn"
  end
  language "gu" do
    sha256 "e0342690167fd6a23b331fbba68225708672b42f0c5a0423ff68250b37dc94de"
    "gu-IN"
  end
  language "he" do
    sha256 "d6a82ae80ed1270dba55f9c3a25be5f7ce4c6c49073d0d96b3a31fedf9e75245"
    "he"
  end
  language "hi" do
    sha256 "640d5e21c5556f641bb2b952778eeba4f28aed91a9af0c628d7e108957e6f7eb"
    "hi-IN"
  end
  language "in" do
    sha256 "640d5e21c5556f641bb2b952778eeba4f28aed91a9af0c628d7e108957e6f7eb"
    "hi-IN"
  end
  language "it" do
    sha256 "86ad1800ba0e552c6c35b8293accb23713793a3f29dd6022ea48c48c0cecf81e"
    "it"
  end
  language "ja" do
    sha256 "878aaff643d3156969346856831b4937c720744c9d7e6c8f5c9617af81f2b08f"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "b9e2f8051898fda46dfa03e9a17ac3a5b562af2831e3d08000d1586e0df68029"
    "ka"
  end
  language "ko" do
    sha256 "cdaf96dc921fee549838946e049e1506016c2b3b7347218a1b8894e4ed62003d"
    "ko"
  end
  language "mr" do
    sha256 "664f199438e8467ec76249fa680fc5045dbea88e9ef17170dfe377c930a584d3"
    "mr"
  end
  language "my" do
    sha256 "0aa4a14d1f4b799317e42468e9b21a5260cb540ddfc07b9a184172473b1ee8a8"
    "my"
  end
  language "ne" do
    sha256 "08456cebe09afe2e7ae85397653c77a9b550f2b3dae84023775ad4144a418311"
    "ne-NP"
  end
  language "nl" do
    sha256 "71312320b91071463eaa124e0cf20de914e1bdc97820421b6e89c949319d1239"
    "nl"
  end
  language "pa-IN" do
    sha256 "4c1040504e7776dc0873c23ea3676b095bba31bfa6dabe78a24773c16fb1f967"
    "pa-IN"
  end
  language "pl" do
    sha256 "205f6946bfe2966b2b1f14afc1640fd62ea44b612088cc9ebd6ce053b3a51e19"
    "pl"
  end
  language "pt-BR" do
    sha256 "ee544c3827eba33f53e3d14657c6254f4d0d4f72a23bd79ed97f3506d3c9da6d"
    "pt-BR"
  end
  language "pt" do
    sha256 "c360cc21c6373b7ba6279d774688ff09118e74876f059526a268659ad8c2b5fd"
    "pt-PT"
  end
  language "ru" do
    sha256 "087ee50048369d10e88c90ffbfc8c7cd1c4ce0d74534b82eb51f44a95c0690e2"
    "ru"
  end
  language "si" do
    sha256 "9ba223334c3ef74ef74bfab87b71201ae8a596f249263ca4f21ae947acf0f078"
    "si"
  end
  language "sq" do
    sha256 "b37dacabad08febf7ee88df143665ce3027537d79328cc73372475d8e55d9b77"
    "sq"
  end
  language "sr" do
    sha256 "6e53b7f273a0af81e71bf02e1203a5edea8ed7d84c5355a74c0f5cd53a8e78f4"
    "sr"
  end
  language "sv" do
    sha256 "1adaa07781e105bcf035645202b0a53a63288fc9418d08a7d4345c59f2251fb2"
    "sv-SE"
  end
  language "ta" do
    sha256 "27db53f10960b5596c8962c58e2bcd6141be03808b747c708e499badb7641204"
    "ta"
  end
  language "te" do
    sha256 "a102ab5722b67c0ab1f45fe517815da23f39a13419a2fa9c8ca76a8d56257bff"
    "te"
  end
  language "th" do
    sha256 "fed6bd59b2f9faf1bcf3c64a4668d4749040ccc8939478bffafd6fb5f51ec1f9"
    "th"
  end
  language "tl" do
    sha256 "d93169daa562d4fd1fe82a2eb127e16ff1c86509fd99619f4eee8d52b0a7f2f7"
    "tl"
  end
  language "tr" do
    sha256 "c1de1dd59ca3dc4f98702497e53fa0af3f71afa7beedab5037778072ba65c04e"
    "tr"
  end
  language "uk" do
    sha256 "5d389895927fd796e17c1e4aae5979b944fa66b9edfffb0a898258bdcff90a9e"
    "uk"
  end
  language "ur" do
    sha256 "9c2f38b363bf3ff36724b8a82678dfc9c706b1bc3c4f9e9b9a640279d3a76f2f"
    "ur"
  end
  language "zh-TW" do
    sha256 "80ae8dcff7fe5322b18ad455fc7416920f90376c35aa20a95828fd60bac4dc57"
    "zh-TW"
  end
  language "zh" do
    sha256 "430771da037a2e89f3b9d1b7c9e080b90fc36f06ee3d2fee9a7b603abaa2c3dc"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
