cask "firefox" do
  version "120.0"

  language "af" do
    sha256 "3530ec893f268670668582e273b015fd2f3d3d7b7441b8dc4324b849e3f096e2"
    "af"
  end
  language "ar" do
    sha256 "c1ca16a148f743b555c2c06a3d217d6234a509832a641ba6350cec8d81f6e6ee"
    "ar"
  end
  language "be" do
    sha256 "dfc52ae14c4049aae960afb8c812631fc34acde3bf9b04f49833dd1625d5f30a"
    "be"
  end
  language "bg" do
    sha256 "2f9eaa4769d1084ab96116278487ff1d84082ebcb1161e441a1171eae440545c"
    "bg"
  end
  language "bn" do
    sha256 "de8025557b292f4f76df1d5d5b2991fd255be82c8ff21b95b244cf2255a03dcc"
    "bn"
  end
  language "ca" do
    sha256 "ebefbd26e22a90fb6137ad5f4aeedc00ce66563f5150dbc4049c79ce15759684"
    "ca"
  end
  language "cs" do
    sha256 "089de38bb921050cf08093716ca3de72a28912fec9869373002a35a352ec4b82"
    "cs"
  end
  language "de" do
    sha256 "e288bfe29e05b4725f35b122d7cc7db6cbd01e26cba4018ebed43eff613a4dfa"
    "de"
  end
  language "en-CA" do
    sha256 "ccfd57bc7ebac440d408cfcfcf34aa3a202e8dbbd10e694d4dad7d0e20a1cbc4"
    "en-CA"
  end
  language "en-GB" do
    sha256 "13f8a7f5dc7de5455ff1d72559264186c6ba304eb440b8b252e1bdbd58fe3a1c"
    "en-GB"
  end
  language "en", default: true do
    sha256 "0977b1360224ebdd0488d34a1cac014b301dc7b1a6dde08157a391d0d173efa9"
    "en-US"
  end
  language "eo" do
    sha256 "85033fe92ae82a6865874e89e5a8c9f2b7d0c9bd5621453e9d46ae940e47df56"
    "eo"
  end
  language "es-AR" do
    sha256 "29463df9aa12dcd390c67721e4712127b55fb09700835e624f0fc4d348ed136e"
    "es-AR"
  end
  language "es-CL" do
    sha256 "e011a3dc346717fa839ae69b0cdb14075f7260e2ac3577261df73e80c986da47"
    "es-CL"
  end
  language "es-ES" do
    sha256 "45589101408dba8684faf4a4287da1d9e9055259fec9f6a6812ef61c45d2780b"
    "es-ES"
  end
  language "fa" do
    sha256 "64fe3074a8a75055990f4998a84dc91eb8f2fba250e47a27f6a4535d842836aa"
    "fa"
  end
  language "ff" do
    sha256 "dd20d47423d21e62666ac0065e2b4f4281e6146212ed608f5b93350238228e28"
    "ff"
  end
  language "fi" do
    sha256 "33351cf2bf1b2432a8b2636004eebd13086f9f4f5939ef63cd7935b16b4ef39c"
    "fi"
  end
  language "fr" do
    sha256 "d7dd61ba391101c05695016025bb2d7ec2b0cd3f404fc235f76dbb32ea70468a"
    "fr"
  end
  language "gl" do
    sha256 "2f54dc573b459b8146534feb50a09186e7c2eab47c3e55ac44eaf774a6f93449"
    "gl"
  end
  language "gn" do
    sha256 "8e929342fbdad785cf9ced4677fbd7fc1713072b30573913975cfcca4dd3a191"
    "gn"
  end
  language "gu" do
    sha256 "7ef5b9b602619b1514d12fb445f7721a7013ff59359fb70d70bea50bbbbda0f7"
    "gu-IN"
  end
  language "he" do
    sha256 "575e58130158569951379c86bbdb50a375fb9f6ca660861e8f3862d22d3cbd73"
    "he"
  end
  language "hi" do
    sha256 "e1db47aef9aa097a8511b5489923962c9a858dc6d47906ec4315830c2033d124"
    "hi-IN"
  end
  language "in" do
    sha256 "e1db47aef9aa097a8511b5489923962c9a858dc6d47906ec4315830c2033d124"
    "hi-IN"
  end
  language "it" do
    sha256 "96033ffea500d549fcb2a892ccfeae4e96733f74005c33cef8abeebb7cd71fe2"
    "it"
  end
  language "ja" do
    sha256 "d874c718490865103c089f4d1a946575347fc66dfa4989d359e5f8f6415a0e2b"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "d188975640fe4c6da90e389fcd77ef4b789c9eab011c524bc1d3e48c17ca49f7"
    "ka"
  end
  language "ko" do
    sha256 "5aa8ec0757ed4e0e21ae8e0807b29fe734a834b7c145b505a54394d50b649db5"
    "ko"
  end
  language "mr" do
    sha256 "63ddb4236795c691a28d222861308acfde0e6342f764747b4e1e5ce2f8e1096e"
    "mr"
  end
  language "my" do
    sha256 "1529351527c46ea11511a4f9f07990f14cceefb84db237ffb21672d3fd56a519"
    "my"
  end
  language "ne" do
    sha256 "ef3ae5159219e12b8254dc79b03d4ecdf6d4f76b8ac0526e3078261143efd5d8"
    "ne-NP"
  end
  language "nl" do
    sha256 "6e1e7a3c8584fc75b1750f8ef17516d20818520fbb68ddd875d3ffb606524b7b"
    "nl"
  end
  language "pa-IN" do
    sha256 "30665437862cf6a8c84d851bd6e409520bf6186f074fe496a76c885dd54014f8"
    "pa-IN"
  end
  language "pl" do
    sha256 "2b8fee7a84f0bff30a4fcd8507834ee76eb4bfe8b4600ba1743b8000b3055ed2"
    "pl"
  end
  language "pt-BR" do
    sha256 "09734491cb359f4feceb3909673dd8b5261f47f2ac8fb5e91939ea49b12c13b6"
    "pt-BR"
  end
  language "pt" do
    sha256 "410e1e67535586094cb9756ca17e143062506de14e1dd40b28a0e0f66c02e07d"
    "pt-PT"
  end
  language "ru" do
    sha256 "a4f6b569ea8a93b0ad7cf99c323c3987c66af6f2a63d347802f2d26041dadf96"
    "ru"
  end
  language "si" do
    sha256 "38ce18df2e22a6377c47c176217c340bf6090afaa6b5f35da345498f8feae641"
    "si"
  end
  language "sq" do
    sha256 "9b84834c012a8cca27098294ffaa24e5cc51c1a8948653ac91a71e3f84612ec4"
    "sq"
  end
  language "sr" do
    sha256 "54de33a26a0a15652dbe331419dc4fe437989399cc58002861f6bb878e106ab3"
    "sr"
  end
  language "sv" do
    sha256 "3bd8de579dbe5096eb529bd230d525bd0e4b5b5e01f03051385489fd1ba9a4f8"
    "sv-SE"
  end
  language "ta" do
    sha256 "7c4277ac760a6a9e853dc9bcfbc88fda1709bde93aba5d9530d48589cf456c62"
    "ta"
  end
  language "te" do
    sha256 "26aa218287a4ba8268ef5aaec901aee0f3b4bae2fd4b33c664e1fee38eb3cdbe"
    "te"
  end
  language "th" do
    sha256 "fabe122a41f328ed1f49db64bcf9a5fb93bff6af092914236b33f4158924dbd8"
    "th"
  end
  language "tl" do
    sha256 "e293163ac988908d01c5fa76935b20a8ae8a33a1e9af65cb6ea3c0c3a65ff3f5"
    "tl"
  end
  language "tr" do
    sha256 "434777c8b382f5ea4e03ba933b79f4589e644c1760a69f7e588dd68b1421c541"
    "tr"
  end
  language "uk" do
    sha256 "66df4e236c01c5ff7ca705854b38f353a071a07b1126c5e7f0047fda26d2b14e"
    "uk"
  end
  language "ur" do
    sha256 "fe5e5273398ec7906c0e0bde6da94122b2a177d9f6530791dd6127b864a1ef25"
    "ur"
  end
  language "zh-TW" do
    sha256 "93be15c5db299d3075b40aed73bb5f6d6e56e64238e2579a7d9caa5e908625ca"
    "zh-TW"
  end
  language "zh" do
    sha256 "9d30d5c492008c26849c0d4d4368e835dada49339c087f0c84ffb87690bad364"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
