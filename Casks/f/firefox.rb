cask "firefox" do
  version "128.0.3"

  language "af" do
    sha256 "1db72ac61f38fc4f05c3762a73c123c408999b564ee70e990a7e1449217a6789"
    "af"
  end
  language "ar" do
    sha256 "6ecd5777e09e370dbb09d8d2f3f45988c9e3f1df219a58ee4f3a439c39cdb48c"
    "ar"
  end
  language "be" do
    sha256 "5df55373f458f959d294a31f9cffc449e55f67e3875ec102dfc60b8804618e92"
    "be"
  end
  language "bg" do
    sha256 "7e5415f2d02aea35af9794e15b5f151db55787e1f0168e4f5496ec761f909748"
    "bg"
  end
  language "bn" do
    sha256 "6c07f9e0398f9c4290005e3fd34c004d8f9a7bff0a8546d2433cfea82df98781"
    "bn"
  end
  language "ca" do
    sha256 "58bc4a9e6c6507f9b505111e7e8affe483f1becde0a98e90594c79c4948e98c5"
    "ca"
  end
  language "cs" do
    sha256 "988c958205bedc74c727b2e89d70937d9f3efda3bd9ed5ce35661cf7d2badf95"
    "cs"
  end
  language "de" do
    sha256 "3e4ac48c22c4d749ddba880afed13cb15c80ad6153d99440f307026a6fbccdc1"
    "de"
  end
  language "en-CA" do
    sha256 "da6b864976a17041ba74af5a028160218f30ad401580f98ce6c14b841960de97"
    "en-CA"
  end
  language "en-GB" do
    sha256 "7fd2b9af6783ea70dffbf77cf733ba2ff66d2a5b791564f662cb4b31dc4e0d5f"
    "en-GB"
  end
  language "en", default: true do
    sha256 "bd9b7a006b869a29ad09948a018d9af6ae85d4da2fc663624d1436892f0d3731"
    "en-US"
  end
  language "eo" do
    sha256 "b14cc7481b7300543b589dcf90494f001e23b2d45629d3c1cb0724c72db250cb"
    "eo"
  end
  language "es-AR" do
    sha256 "fb8f934e00160a763a9405ee1eb0f5da3421b8ca5d91c1d706e0260ae1dac060"
    "es-AR"
  end
  language "es-CL" do
    sha256 "57ab3d54ad2856da23d07de1be68bb3aa1c90b2817d2355dfd01fd217842cdc6"
    "es-CL"
  end
  language "es-ES" do
    sha256 "1bfc62e5622678b28e7e43f54065dbeab32b5ad0288d6a3fcd3383ed9667611a"
    "es-ES"
  end
  language "fa" do
    sha256 "55c3f75229798b9d5e78344aeef5a3193bebd6dbd2e7e69d351e536a86979c00"
    "fa"
  end
  language "ff" do
    sha256 "977540587baf217ac1ee04fdeec8cd140d46daa0059b43826806b694bc55c3ea"
    "ff"
  end
  language "fi" do
    sha256 "58e2ca50317090d4f1c45793e4d5a41d23fd93e20b497d9a66f110dc604e5e01"
    "fi"
  end
  language "fr" do
    sha256 "2982f7d84edeb046079404f01009b48e7c6ba13ddbaa5443a54b4cd4c2359c3b"
    "fr"
  end
  language "gl" do
    sha256 "bab5fde88b3cb57ceaab34028e57dfadc7aa261ff63c0ca6e9bd19ac7ede05a3"
    "gl"
  end
  language "gn" do
    sha256 "73f773e4f876009e3468e56db5391d3a3e5dcf19e618d7fbee51285ce0a25d6b"
    "gn"
  end
  language "gu" do
    sha256 "a81843d9df3d35535e3d097da0db55df5b40b5742928caa76b3ce20285b546b0"
    "gu-IN"
  end
  language "he" do
    sha256 "9eb9f046a980f5d8567061da8c4fc9fc3b0bb85a2a7d60b85a781be8fa40fd10"
    "he"
  end
  language "hi" do
    sha256 "0ade6e4a7d4068d5fbf01f26bb8e185f7a08d40c14ee149a76a533dc38cd8136"
    "hi-IN"
  end
  language "in" do
    sha256 "0ade6e4a7d4068d5fbf01f26bb8e185f7a08d40c14ee149a76a533dc38cd8136"
    "hi-IN"
  end
  language "it" do
    sha256 "01c4b1335136c0f86e4c272e16c228853d25091544ae8131102e2d0360b8280e"
    "it"
  end
  language "ja" do
    sha256 "be71fb302dd69c6b398b28bf2d0af228880e37df9be2fb69e0586532a01a1bf4"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "2d21c7fbc5bd4ec7bdc2c7c42aa5cfd5184226c6c4a0c7ebf0549d5f1eb5b3d6"
    "ka"
  end
  language "ko" do
    sha256 "cfa188bcd7afbc1542afabf9ac3d7df9c97c1fbfda9d632b2c40b193bff2cdd4"
    "ko"
  end
  language "mr" do
    sha256 "d60be5eb89e9b18b488f2e5f8f8f1c0b5b27d214d435d0c0bb102d68030cefa6"
    "mr"
  end
  language "my" do
    sha256 "a27e4d0d4373a31c78c4cddf2d830621af22e713d85409873f050abd8cb3e870"
    "my"
  end
  language "ne" do
    sha256 "9c556449a831f6672316a61fd9770c2dbed3b17b16ffe11b70b8aac0e53f949c"
    "ne-NP"
  end
  language "nl" do
    sha256 "af2fd563603488b6e2c2c84a446b112c5753482e2f9693e29305207a4fb0f01d"
    "nl"
  end
  language "pa-IN" do
    sha256 "55c96cc43be097f4af39a64e2cf4374a4ea2e8817b0d125c9c23f58e998c1a42"
    "pa-IN"
  end
  language "pl" do
    sha256 "e595ae9984924fd601546469e8abacc9c1a069ac6d178a6a5161ead0b0944986"
    "pl"
  end
  language "pt-BR" do
    sha256 "fba7b1e237daba24697b18f6d666dde5757ababe7c7fb577bb6a656b2912daf0"
    "pt-BR"
  end
  language "pt" do
    sha256 "265cc2bfb2f319d3c942c86d122cb06359f79d4cb316f712b9bb0ce3e2ebed10"
    "pt-PT"
  end
  language "ru" do
    sha256 "6d5f76438e8f02bdf0818a529862d9505058fa18bf6f185eb255ab81f1e98b85"
    "ru"
  end
  language "si" do
    sha256 "39a550205c8604f644279e2dce9afb4dd2e4ecdf6e8233f9ccd375c3dd3ff8dd"
    "si"
  end
  language "sq" do
    sha256 "0dd1ebd250ef189ac15443b0ee57bb1ae5d4278e35a3a24c7df9f4167fba798f"
    "sq"
  end
  language "sr" do
    sha256 "7eb87f3d38cc4b01ae451ae87670b66c9181180f9f02f729c429ee8fd6716b34"
    "sr"
  end
  language "sv" do
    sha256 "f534e55ac4f9b93427226ca68af0fb250a916e5273354e22e2ec01980c5129b4"
    "sv-SE"
  end
  language "ta" do
    sha256 "cec35b189eea2efa3cf7d2ebb5848df312c40ca99a93a6e9eba20364b5311137"
    "ta"
  end
  language "te" do
    sha256 "4d90f14c573920ef8a89c975a71fdda594efb75635118c0dcbcba28185717649"
    "te"
  end
  language "th" do
    sha256 "00513261543e35731971103fffb5f8d6a6ea0b18bccea8016ad043369556927d"
    "th"
  end
  language "tl" do
    sha256 "053bbdd676c3bb9fe453bd780df4d177839492adc4e878eb45c654405276761e"
    "tl"
  end
  language "tr" do
    sha256 "a83ccc37fe8b9841903facaf45e8e1733c8a98c78f35697f756160b52e234e43"
    "tr"
  end
  language "uk" do
    sha256 "977bc4a811b17fbb77757c1e4592778e0705c698e5ddd665477b04d2c67316f1"
    "uk"
  end
  language "ur" do
    sha256 "220a40f7ecdf04cf8a9db2a03c39b2e320990ad651711a83b31fa2367fcc9cb5"
    "ur"
  end
  language "zh-TW" do
    sha256 "6d6a113a564c249af455b59fbf140a2fc48b7e191bac998674fcd89f2f609c1d"
    "zh-TW"
  end
  language "zh" do
    sha256 "0644218efe644e751aea6c770c7417b841eb50a7c53069a3136969b48cac2542"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
