cask "firefox" do
  version "118.0.2"

  language "af" do
    sha256 "a7e9b37c1504de70f019d98e0f7a0adf3c1e52c8344b7677b6023102030cbf89"
    "af"
  end
  language "ar" do
    sha256 "4a65119b1b4be707c072c24e2dcc61ba7d970bb35be21bdcccea29dfb66bc270"
    "ar"
  end
  language "be" do
    sha256 "b063b32819ca1de5de5fc478e6af9527a19d1059bbd99217cedef8794fa5f117"
    "be"
  end
  language "bg" do
    sha256 "702c0cd268005f02e08f2059990cb137496098ffb8fb5dd2bb70d6d45daa3447"
    "bg"
  end
  language "bn" do
    sha256 "180cb1b50a5700fefd3583193da3e7610f9aceb014c74b0191f9e60e6001e09d"
    "bn"
  end
  language "ca" do
    sha256 "a3b4f550eb84d0be7792004ba40048207291e021b38523084bc235c906612609"
    "ca"
  end
  language "cs" do
    sha256 "e65b76608983f091c85d49b6bf66ded492e6c855f77afedb185d15ae4ede5134"
    "cs"
  end
  language "de" do
    sha256 "78125bb5807990123a3a3e2448789d1518d633c7b20fa55e6be6e6bc56fa607e"
    "de"
  end
  language "en-CA" do
    sha256 "4b16a0985e4a758e9f2473d0e17bfbecb0fd174a987ee4d0fb258b987819ee06"
    "en-CA"
  end
  language "en-GB" do
    sha256 "082fe4f7614049b57d98145ade934f0d0ff975f17d7d3761955a0eed9e151bae"
    "en-GB"
  end
  language "en", default: true do
    sha256 "ab8cca216aa1360763986bd1556d3e92f2294f66726ba69cabb5bd1152a5e586"
    "en-US"
  end
  language "eo" do
    sha256 "658a333d33da43fddf9ed7ceb42a3451f5fbdfd70dacc8b4775d97dade4dd8d2"
    "eo"
  end
  language "es-AR" do
    sha256 "158a7b8ee107035cf8e33ef3811c606c9110af63df97eee7058b48ab8a9a191f"
    "es-AR"
  end
  language "es-CL" do
    sha256 "427a239626db841a9d164f09c5a09cb33e02ed999c39c39a23640bd49f8b899a"
    "es-CL"
  end
  language "es-ES" do
    sha256 "df593b9dd0db099af5cba938ff9a8fcb290857bda2d7266633997bc8b6a5a942"
    "es-ES"
  end
  language "fa" do
    sha256 "a756b8bf4a13646fe8d3b96fea6216ce26e3a1966aeac524a1606337a356bf31"
    "fa"
  end
  language "ff" do
    sha256 "b222199f8cc94aa2191883e58c64cfd58d25d03a1b6dfa84f80bb9736fd6af31"
    "ff"
  end
  language "fi" do
    sha256 "83c767695d92f9ac616976d9bdf2ecb81c96558847b7e8134760f7d7828efc19"
    "fi"
  end
  language "fr" do
    sha256 "4c9662bf0e3323e455993c2d692b319ba2682e05891cde46d21d81ffc9676660"
    "fr"
  end
  language "gl" do
    sha256 "a2f1d38d6d374a0c426def035140fef505905f0c07d198450cb1b3dec4f9ef07"
    "gl"
  end
  language "gn" do
    sha256 "0ebb835f7c62ab29769df0b051485543ab4e66e422041668714bc1e9069a1392"
    "gn"
  end
  language "gu" do
    sha256 "cc658cbf815dc815a0cdc0811fb490ad03445ba887b221ae85d05934a5f4a3aa"
    "gu-IN"
  end
  language "he" do
    sha256 "8eaffa5c439efd03e73313b52ceedc1890e9dd4c90c718589c9fdac6c67a112d"
    "he"
  end
  language "hi" do
    sha256 "4e7a657a5c0aa8eac96a9a1e0b999ab22075148589cb089668cf886b51492324"
    "hi-IN"
  end
  language "in" do
    sha256 "4e7a657a5c0aa8eac96a9a1e0b999ab22075148589cb089668cf886b51492324"
    "hi-IN"
  end
  language "it" do
    sha256 "2ada065d856fd7321a94e161a285feb908c4116de7ad812dd1c41a5c5a7f7d1f"
    "it"
  end
  language "ja" do
    sha256 "c588404dce58468a553c56a0fe56c2ff84e004d17b1ac6f03f9b6905ed50014b"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "afc9920cac4010f9e325e90707238a24190dbd0a6ed6f0778e994bf886805e8c"
    "ka"
  end
  language "ko" do
    sha256 "3165b4b218d55510d4cbdb57dbec58dcc00f0fc0ba1ca1e084a3b610d4cbd87f"
    "ko"
  end
  language "mr" do
    sha256 "5ed1b49f92f3ebea579f1637fbfeda0f659d0c75af205641eba10af09ff9e191"
    "mr"
  end
  language "my" do
    sha256 "0c8913b9ba083295a945e698f10785d1889bc76c05f1ddb6f7c4a4e95506f87b"
    "my"
  end
  language "ne" do
    sha256 "36c79cd22423f62d91eeb1f37fb2308848d69970c92d584b454e04ba86040bec"
    "ne-NP"
  end
  language "nl" do
    sha256 "efdc31491a09adbeefbe6b90e6c89a7c84438943e59608f7f6d9d9c6e3375551"
    "nl"
  end
  language "pa-IN" do
    sha256 "32b00a6ea3f7b944a4d187ed829c940118ef06a9744fb64d1ba413283eaa8418"
    "pa-IN"
  end
  language "pl" do
    sha256 "119acc14cc4f5822c0d1af649d381321e01ae9bcc63bf176facc1ae6277e6ee5"
    "pl"
  end
  language "pt-BR" do
    sha256 "a047fd146abd6e71aded2d2267db29279707ad30635548b670a5b3960294f423"
    "pt-BR"
  end
  language "pt" do
    sha256 "4f35b3ce7a80ade7c5d18861813c090494646247de078936300a67feaa9b0802"
    "pt-PT"
  end
  language "ru" do
    sha256 "600c7d9aba56e0a45b06145c523de681b735df2564ae8a3d9464bbfb6b558f36"
    "ru"
  end
  language "si" do
    sha256 "25b84f1a84d38b7166346eb901ab3dcda7a5b1f9392f8d1ff6745f3779711b0d"
    "si"
  end
  language "sq" do
    sha256 "77e40bf002787a9e6dda1c9b69d43c8d63d320ebaec3d8bd19def7c46858c826"
    "sq"
  end
  language "sr" do
    sha256 "75ae75f04eba7c9b865add9806109efa6259702e86c51f6b28a7ecd66be19e2a"
    "sr"
  end
  language "sv" do
    sha256 "0671a011edc57d0c2086f6c360b7fa0d3c03f7539308c5582ac1dad84758b9cc"
    "sv-SE"
  end
  language "ta" do
    sha256 "6c9c8e4002edf0e569e18891454fb553a9cf7d1ab2813c87bd3a2465e02c09f8"
    "ta"
  end
  language "te" do
    sha256 "3fe7a491ea13102ed73c84ff1511fdeecbffbda4060d74f7bacb2bcad86db13d"
    "te"
  end
  language "th" do
    sha256 "5224a6ec6549452e02c11e7e521b07c141e803cabc6809deadc279b7d9ecd656"
    "th"
  end
  language "tl" do
    sha256 "a4dfea3142f14f6240b8e68e95584e2db72aebf8cd6765e6706ef42955c09c01"
    "tl"
  end
  language "tr" do
    sha256 "faf4455f67e953d512eaed33a03e29fc0c62d5384b65a9eff436a090095812c5"
    "tr"
  end
  language "uk" do
    sha256 "0e4c3850dabbc5a0a0ea30a0827aa610a30ce65c29ac1279a483fdfd3e3bff6c"
    "uk"
  end
  language "ur" do
    sha256 "58482ab34adcf0a7fee8ee3a0c699c2413092a85930807ae24b96ba76116a031"
    "ur"
  end
  language "zh-TW" do
    sha256 "4ba0730839e3ca570cb4ca7ee81a635c757bfd965af5cb2955824a99e55a056d"
    "zh-TW"
  end
  language "zh" do
    sha256 "567e9e634edbcd7e6a04298efd96ff270130d4dcfaaab5dd3889e6dfc14c558a"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
