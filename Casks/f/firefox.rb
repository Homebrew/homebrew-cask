cask "firefox" do
  version "122.0"

  language "af" do
    sha256 "629649600e133fff2f6050c7d8acd3c0cb516c0e9d1b4e8afbce9297497486c7"
    "af"
  end
  language "ar" do
    sha256 "d11e0a817b947e702e3b9815ca27ba780b1c780b647087925210861255a113b6"
    "ar"
  end
  language "be" do
    sha256 "7b444c4b77c0e44ea2ea309532c74d0f7042cb2caabc9c5328f6fce717dc8247"
    "be"
  end
  language "bg" do
    sha256 "ee9f77aa243ec08ae89074aa3c3dbb44125f3cf89e59e1abff89301940051084"
    "bg"
  end
  language "bn" do
    sha256 "ae0308584b93bfdcebfacf1c7a2903c03e8e3eeafba4fe2edac350306f917feb"
    "bn"
  end
  language "ca" do
    sha256 "a78d6d5ea5f598826f5f7d4c41d376f7d13f8cef1e70d377c649190d5f823ce4"
    "ca"
  end
  language "cs" do
    sha256 "c4830e27d5b3a5a398491d7e283c13db0d30d2c226824eda5bae0f9278975a55"
    "cs"
  end
  language "de" do
    sha256 "8e84a96db2d1b05fbe1d7e396e074d3a8cd066738dbeb40b38259b4a729179f3"
    "de"
  end
  language "en-CA" do
    sha256 "573763935b7c00c660a49989af10966db2761fe1b2d165bdb85693940312f8ba"
    "en-CA"
  end
  language "en-GB" do
    sha256 "246654e4741aaad4d5af496dfa8b766f82f2832d7d670da4c09ce2b41b124096"
    "en-GB"
  end
  language "en", default: true do
    sha256 "ccd68fe5388b044062410ce71885911f618fd4222cd617e429eb8ab0b68795d4"
    "en-US"
  end
  language "eo" do
    sha256 "e9e09b4db4f0d743e6ce5971e2621beca0d3a3ce69272d44581f7fd21b3d0955"
    "eo"
  end
  language "es-AR" do
    sha256 "55fd826e67e9e38f431e227b62bd3452f50e830e9693c39cf6612eba62a866d5"
    "es-AR"
  end
  language "es-CL" do
    sha256 "26a3f075135d7c2ecc2094a699cb9eb56c3819e16c19dddb49b44d3a610f78c5"
    "es-CL"
  end
  language "es-ES" do
    sha256 "9387ae5848106ec2ab96e5bcd3074fa7b25aea196ff95a0bf7e0f5e3f1acdd84"
    "es-ES"
  end
  language "fa" do
    sha256 "c983c39dfe852d73a470d6b9d3f5533da52952c580d95f6a7a49068d1c7c9cbd"
    "fa"
  end
  language "ff" do
    sha256 "8729cb2a48c5bad26b912f3e4da0337ab82e6c83f9448cb79fc81be3cff39f78"
    "ff"
  end
  language "fi" do
    sha256 "2ebcfab4289d8f39075a8430d9db8c8b5e272bb805c5d9e4c9a1fd3f20d66240"
    "fi"
  end
  language "fr" do
    sha256 "703ebfbd66736b58ab8dadbf01212c14b9a6225a14da9f84dd56e51bf41cfa62"
    "fr"
  end
  language "gl" do
    sha256 "22ba5fbb67ec11b86cad3760a27fa5670351ea12abea62dcce94af8ea112845a"
    "gl"
  end
  language "gn" do
    sha256 "696b5e4c13af5ebf1882950874163605f50cb83534d873121f3aee3daa1b2a86"
    "gn"
  end
  language "gu" do
    sha256 "3cd69a2c19bac492b011f7670ed1d200807ba2bf603d76e48080d0d20a1929e7"
    "gu-IN"
  end
  language "he" do
    sha256 "fd9913d5a4cedce096f825810f6b511eda50b0aaa78e2b632006d1c044b56f68"
    "he"
  end
  language "hi" do
    sha256 "f3e03ab8f1d299ff3ef801a44522fc96b6d3bd13f1648775eef7f9b1fb6e5c15"
    "hi-IN"
  end
  language "in" do
    sha256 "f3e03ab8f1d299ff3ef801a44522fc96b6d3bd13f1648775eef7f9b1fb6e5c15"
    "hi-IN"
  end
  language "it" do
    sha256 "437f5290e3383f126bb796b122485e9a8516bb04987fd68b452880e3330674dd"
    "it"
  end
  language "ja" do
    sha256 "cc7004352fd063accd7853477b90c81f211857d8d81299c2c1a27e896303b7c5"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "18cd48afd3472dc1d5dc64ff2af1bc99bd85a4a46c749043056b8fefa4afe838"
    "ka"
  end
  language "ko" do
    sha256 "b4e4c7e1d28cfc81ac47a367d9d05496d4c04e593595ce2b634e1f2ec145172e"
    "ko"
  end
  language "mr" do
    sha256 "029a25d037f76e1780a023ac2acb8a8d04dc8e7669197b74e53749f61525dde6"
    "mr"
  end
  language "my" do
    sha256 "8e6f7857eed8f5014971b7b23af62712957519185d1097a5f48ae302ab3b7ac5"
    "my"
  end
  language "ne" do
    sha256 "471f73f77ecf29391c13804dce4aa3cda64d2278ef3593c80d4db439e3f7cca3"
    "ne-NP"
  end
  language "nl" do
    sha256 "e2577c5a2e21fb214e704524994e1b642c01b55fe1121f2efe3ab36e7bd9714e"
    "nl"
  end
  language "pa-IN" do
    sha256 "acd7d41bb25f5a0c06dea6e486c48eda3bdbd2fa32d8d9ebcd774c6f82be3f80"
    "pa-IN"
  end
  language "pl" do
    sha256 "f3c83747a2f3f7dfeae12de1c9ca1b5d560a4d9e26f2fd25e333e130bd2ae14c"
    "pl"
  end
  language "pt-BR" do
    sha256 "8f75b2f1460ddc583560273a6f32f5eb95126a1c51aff30d1e9685e357103c96"
    "pt-BR"
  end
  language "pt" do
    sha256 "d60c7149fcb876c8db0946f4f5864c08962061fbfdefc3d52dbc762f6a7d7a62"
    "pt-PT"
  end
  language "ru" do
    sha256 "9b7c234e0e74b08f6624be663027d015f7c6034877d682a9e287f788006d03d5"
    "ru"
  end
  language "si" do
    sha256 "4e0bf85ef8b6971e89024526e1ac647be4feb4eae63865ca1724144156001c11"
    "si"
  end
  language "sq" do
    sha256 "a3a60a545eb6e1c76dfe9076080fdee9bce5efd3f5022f27b9e5113bd58f01dc"
    "sq"
  end
  language "sr" do
    sha256 "25d04ff0251a2d61581d289b93a52313152da45eecf2ab42540d1b04a3188ca1"
    "sr"
  end
  language "sv" do
    sha256 "bbcbb742257dd66fddc710528fbcdca5f713ba0d2b35d6ce3de0ddf590f3b509"
    "sv-SE"
  end
  language "ta" do
    sha256 "07167757afdc88a0ffb9f0c645589f49442ad4ff0f80b0c2ba0678c5877134a2"
    "ta"
  end
  language "te" do
    sha256 "d3696f6266ae134980cc6d9a73d3ddae592abdc8be3bfc969b564bd0ae98eff0"
    "te"
  end
  language "th" do
    sha256 "934285e94df576f2ea867410df2d3aa554559be34d64d3e098e49df420cd2676"
    "th"
  end
  language "tl" do
    sha256 "e1aa7589aba29029f7a5d96ac2186f937005da23b111c0321577f171628c8756"
    "tl"
  end
  language "tr" do
    sha256 "48baa53ec96ada9913b2f16327cd9fe5ba5fce0de9384c3b5bdb11119093bbc8"
    "tr"
  end
  language "uk" do
    sha256 "5bcc0990009b22ff98d823720a9549e7c32aff6cd40f6eaa3a983f4df8e495c7"
    "uk"
  end
  language "ur" do
    sha256 "1d8ef47e69a70fddd8428e90cab40681629595bfae6b177fec10e279a2761b57"
    "ur"
  end
  language "zh-TW" do
    sha256 "ebb3f6a5254095808867cfeab6512cb3eb864dd9f2881cf3ae4a2f3ad9df1338"
    "zh-TW"
  end
  language "zh" do
    sha256 "279e3405fbbff264e8dd0fb00d1c67e6cac2c821b3fa8305ec276b83040a0191"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
