cask "firefox" do
  version "131.0"

  language "af" do
    sha256 "aa6f9d1eefc19db547d98b1a89f759efcbd4189d74709f3baa09becc48a1048e"
    "af"
  end
  language "ar" do
    sha256 "27df335844449306bc2547c0ec0dce6c6835893818289c45e8b1a9862ea6ee9e"
    "ar"
  end
  language "be" do
    sha256 "b33818eff1ae768fdf18b3d6a088fb06a8eaf9e8978cd0b8573416705896d58b"
    "be"
  end
  language "bg" do
    sha256 "d232b278c9b1bb05e0bce5373836d36339fe699962e3bda683a539d014c7e478"
    "bg"
  end
  language "bn" do
    sha256 "1537bd5ab19bcc29e4be5868cee79fed5a84c41995cf2e26b833382ae31f2346"
    "bn"
  end
  language "ca" do
    sha256 "16dbf2cc7da3263399811102e4254f136f195f5419a0765e835a028668f5aecb"
    "ca"
  end
  language "cs" do
    sha256 "714909e749c0e922fba2d49609c366b77272138a64224bce643ea0e8469caaab"
    "cs"
  end
  language "de" do
    sha256 "6167cf8f346289d618d717526c5d41800aa527ab3a12a17f61a6fd4c12f11881"
    "de"
  end
  language "en-CA" do
    sha256 "7cfa0af4eb818aa51dfe635ca696d762b856d999ca2f705fe5ff406a1aa022c6"
    "en-CA"
  end
  language "en-GB" do
    sha256 "4cb79fb68c39c5adfa4fd1317c8b33e0071c9e867dd6a29616dfe66cdc71baa7"
    "en-GB"
  end
  language "en", default: true do
    sha256 "cd243b44746f56ee2042572cccab2736c0c6d419f85f90ad163a4ba04979ccb2"
    "en-US"
  end
  language "eo" do
    sha256 "a01cfda7a4c7379193df3efe0f2f1a3ead25a30d1f0746d619da4c15b5a936ba"
    "eo"
  end
  language "es-AR" do
    sha256 "7d3e4958baf3f4a8f53a97a0072e7f8fc78d9592072f814e4e3afe32c648ca76"
    "es-AR"
  end
  language "es-CL" do
    sha256 "f53d7df94d620074d5b853e71e9d31f3f5079be4306810b382fe2b2740d613e0"
    "es-CL"
  end
  language "es-ES" do
    sha256 "9b1138cc77416bd102a468d04573c4889fce8d27106e02e0f1220117eb845250"
    "es-ES"
  end
  language "fa" do
    sha256 "806c8b0ee46164631b6f2c90b3f7edd43def60ce2285a73b64e69c2bddac7d04"
    "fa"
  end
  language "ff" do
    sha256 "3fb55423f473605fe9cdc1442f278598eaf3d3b2643b1fbd6b8b0725ad88997a"
    "ff"
  end
  language "fi" do
    sha256 "45a2688b2560fec81480807d07d2512e100df2e46c1011452a965a15e3bc959f"
    "fi"
  end
  language "fr" do
    sha256 "ac08c15961441eb1aeb9dddc69ae70461efa94378dc4a0422ed7931b9507935f"
    "fr"
  end
  language "gl" do
    sha256 "3e5d0cbe25d96efa5399ac585279096c90cdc7d2bb9b2288679e8e7b3c3682cc"
    "gl"
  end
  language "gn" do
    sha256 "e75a961a73481dd01751627c6e31f2cf3f3f51097b2662598dded5a3730ce624"
    "gn"
  end
  language "gu" do
    sha256 "e1d01d0c5b0eb17f3cf78ac33059887bb0f60bd295bfbc7855b40bf1363cce6c"
    "gu-IN"
  end
  language "he" do
    sha256 "25977dbf687ad008264f57ffea8a11f6ca7666fc8649b2bf2e60fbebdf1410ab"
    "he"
  end
  language "hi" do
    sha256 "c8db77542899ddd5d9d8e9ff92d0f4048609b186752efc583abfd08cf621a340"
    "hi-IN"
  end
  language "in" do
    sha256 "c8db77542899ddd5d9d8e9ff92d0f4048609b186752efc583abfd08cf621a340"
    "hi-IN"
  end
  language "it" do
    sha256 "6dcae8beecfd12c15b58ea55f4dd71980b37eb02ad01c8683c20fa5a06404379"
    "it"
  end
  language "ja" do
    sha256 "4bd02a25c86b2222404165cce13d4d63943a9b5ca7681a1cf6077dfe5180999c"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "7f1e93d68e1e3ad36b8a1ec4e2ebc0512bec7d61359ef87a4eb679d14e565de2"
    "ka"
  end
  language "ko" do
    sha256 "b3bb3a51ce78f954aeac3bc60622a93f2207256cf6c30d01fcba0c2abfda09f9"
    "ko"
  end
  language "mr" do
    sha256 "48a2600804e64c99ec5af6adede65d5e09ff15cae01c31193eeab6f77523215b"
    "mr"
  end
  language "my" do
    sha256 "ea1e204a1579aa6f99335c35e57310817cb75c44473700d59a158fdf3616f44f"
    "my"
  end
  language "ne" do
    sha256 "4e42d0d293351c435a73301a74ca7f21640ea1af0957dd1b797491f9a40e6567"
    "ne-NP"
  end
  language "nl" do
    sha256 "54d5e339fe9da681682ed1e0ae6da8df4e6c9ee098e5b789f100927f9d3d6f3f"
    "nl"
  end
  language "pa-IN" do
    sha256 "67d5e1a6bb7d40339dcb072315f72d09f1c7deb7303e39dc654e55e59e101dd5"
    "pa-IN"
  end
  language "pl" do
    sha256 "4fa019bd31376b84c262d786b9160b2eb60a1bb4715560eea2ddd04bc47a7ed1"
    "pl"
  end
  language "pt-BR" do
    sha256 "65d58bb9b143a31b27e0319b6bc2362239538c75cebc15c40d92c1a03a4a6423"
    "pt-BR"
  end
  language "pt" do
    sha256 "7cf2e818f934bab2fb650976b421da656c1bf454ef2ca874f43e947970bbdcd6"
    "pt-PT"
  end
  language "ru" do
    sha256 "7e45aec76123f2fd2585109bf8968cdab2518d1470e7f01754cfae1f17111907"
    "ru"
  end
  language "si" do
    sha256 "43407c0ca51e20e3abff902ef62d05949127bbff3e24a1a32af19e88b88e4e4b"
    "si"
  end
  language "sq" do
    sha256 "a89f2f00948925c194452d92bf090d099376dd1801e4ae84952099db6e9165d3"
    "sq"
  end
  language "sr" do
    sha256 "d2507337901a7e0a90f8afa9553f2a63f92f247fc2b261ae2429ed97e77889c1"
    "sr"
  end
  language "sv" do
    sha256 "df9350f46019d331d4912a86751dd7a3da0849c7f64ee193b24a730c404d4e8e"
    "sv-SE"
  end
  language "ta" do
    sha256 "a1d729eff884163026f759e34d051946b8ec6750e66e2e04a5c1519bb43b6afb"
    "ta"
  end
  language "te" do
    sha256 "6635dcd29a130fde9829624edd010a5dcd31e4a7f89d66fdd55f0fd76d18719e"
    "te"
  end
  language "th" do
    sha256 "6c9b7aeb4131863705927a2b2e5b295b0377d3482de775250f5aaade4fcf0d11"
    "th"
  end
  language "tl" do
    sha256 "11389cc77c5168b9283b00c75739035bcdda732e7ff8c18d3432c5c4567a1fcc"
    "tl"
  end
  language "tr" do
    sha256 "0433461a7c58d73d7092336b847091a3fe2479c6f2639722f7c3580d16fe39e8"
    "tr"
  end
  language "uk" do
    sha256 "9e8628e3cd8e23a92dd90cccacdc5655398aef50432ba227a1a955b8067b7571"
    "uk"
  end
  language "ur" do
    sha256 "82759a0e7ed4bbbb87d4c72c31747722e0e2715fad5e1982b0fe6c7033e062ab"
    "ur"
  end
  language "zh-TW" do
    sha256 "3acc1c688864ee194ae28c8d8592c367124b9dd777e9d3f06c20599beed65265"
    "zh-TW"
  end
  language "zh" do
    sha256 "e3939025a03ff58b6159f685a2fb45e47180903cec2080b839472dd9899e8cfc"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
