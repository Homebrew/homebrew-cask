cask "firefox" do
  version "118.0.1"

  language "af" do
    sha256 "e830065ab375ccdc50a46728aaecdde54b2ca56cb930276adfefd0b3932fd002"
    "af"
  end
  language "ar" do
    sha256 "41a070d41f7d9172e7b7132e4501b5b4a7c9dfaf7663316d418bffad46fc9cd1"
    "ar"
  end
  language "be" do
    sha256 "89b9f3ebd6505ae294613a08e49c6d225aca22ac7b47b050dc7f3ddf9b72317c"
    "be"
  end
  language "bg" do
    sha256 "e6b15f90d0bb2dc3fe2e56d81a17ce23d683589a90b55caa4cb0eb7f981e0210"
    "bg"
  end
  language "bn" do
    sha256 "4cfe45d87636f4f28893677306a5149b5686ea5a15f9dd003e617631e115c053"
    "bn"
  end
  language "ca" do
    sha256 "1ebeeaf36411bf69314567311d35372163a52c51f58cc3d32cd422e2febe8bd4"
    "ca"
  end
  language "cs" do
    sha256 "da8af8e83852ba352d7a4de068de9cb6a497de7239483ae1a07d8d9227b51cb3"
    "cs"
  end
  language "de" do
    sha256 "88a33b8e0b20c043caa5a89ca1c12193a73efa80a7aba8f5d58080d28d518ed2"
    "de"
  end
  language "en-CA" do
    sha256 "e57fadc540b6a1c4f495ccde1e833cadec4bd9e48b0fab931957b35aa4a345fb"
    "en-CA"
  end
  language "en-GB" do
    sha256 "2f5727c95db669894171928da7f6241cd9a0403805b6e9d8aa2ed8f7cf7d1b6e"
    "en-GB"
  end
  language "en", default: true do
    sha256 "98471851ece004dc0cf79ddb6936b86ca112bbde3b4b839961acf11b3b2e4de9"
    "en-US"
  end
  language "eo" do
    sha256 "a89d23d9ef533d30f7659c6056cbb7ab6c20ad0144c06c0d64fb428efa755bf8"
    "eo"
  end
  language "es-AR" do
    sha256 "97c6177a47ab9e99762d8535ebdb547fa08d8b52b6484f9c505b452b80a65636"
    "es-AR"
  end
  language "es-CL" do
    sha256 "ac53c1de5bdd83c24c9bf52f1c77ccfe46bc264f9eb85af5dd571cb6853f3bdc"
    "es-CL"
  end
  language "es-ES" do
    sha256 "4709ffcfdf3170a72076a117e0a0ba58f03c17aec23c6f96d335446b27c578fe"
    "es-ES"
  end
  language "fa" do
    sha256 "0e64087e6876f4afaeaee9d699372110646f0aa0d043b759e1efb41e05d3da94"
    "fa"
  end
  language "ff" do
    sha256 "76d3a1eb6923d3e639146085d18d610de4a25da6090414c8d1fa6defb78c12f1"
    "ff"
  end
  language "fi" do
    sha256 "fc1c30a5d96ab5f3f10dc718493a7e0c19de09198d9126d89f9e8b91d4317dbc"
    "fi"
  end
  language "fr" do
    sha256 "fb074e6baeaeeb2a375a96d583404953ef050c98039ed1c306e532aaa505cc17"
    "fr"
  end
  language "gl" do
    sha256 "e2e3da0249669ed555a94c05efd213658951b40159bafd962e3fe8799a760efc"
    "gl"
  end
  language "gn" do
    sha256 "cc5622efab1d8f97904afd2b79005033d53214cef8c0b1e41eab79f4c686c1c6"
    "gn"
  end
  language "gu" do
    sha256 "5893fc9cb3dec5118870137f5d16d96e9385dd2ff95e9dc20e4d77e39fb554dc"
    "gu-IN"
  end
  language "he" do
    sha256 "ea827b8bad70725edd6e52533becc147bb77a8fa55232a6560e107f736e9290c"
    "he"
  end
  language "hi" do
    sha256 "4490f4427d71bf0cbd9c76d5f16438ece0e2cd056d6bfcd6af84dd81ef53b087"
    "hi-IN"
  end
  language "in" do
    sha256 "4490f4427d71bf0cbd9c76d5f16438ece0e2cd056d6bfcd6af84dd81ef53b087"
    "hi-IN"
  end
  language "it" do
    sha256 "93bded63c28e6a7455176a516bff16f925eeed6a95891d94a8ed2facac82c775"
    "it"
  end
  language "ja" do
    sha256 "dee8971b946edf6df3dfee60826b51ce72f7063339ee918148a6e5687386d0f9"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "05cef2afe87524db2a36c7db7cb0283a6b8987fda9f71f192200e942267a784f"
    "ka"
  end
  language "ko" do
    sha256 "fede22b099dbde39693f3c69270d0112e118ea83776694b36b45e80dcaeabf72"
    "ko"
  end
  language "mr" do
    sha256 "af03b0fe24b1c8f2395b16b403bf9278a1ada0f355a58819ca6cd87395313e9b"
    "mr"
  end
  language "my" do
    sha256 "109686ddc0588558d8f0551a39e6c9dc8fe8f8d210c8a6ea39bd945d7095ad36"
    "my"
  end
  language "ne" do
    sha256 "93bdc429f4a18f768af890c819381966454b9e2d9c9a416a07e5a8d9a06ea449"
    "ne-NP"
  end
  language "nl" do
    sha256 "5fc3f4e7db514f5f215b5a15a5c4afdeac00b9addfc7c33caba3466bab11f3e5"
    "nl"
  end
  language "pa-IN" do
    sha256 "9f69f712e55b71a7d3fc59dc205916e8be0d535465626c7bf011fcf6f9937bea"
    "pa-IN"
  end
  language "pl" do
    sha256 "b4efb14f7baac6f0f80d2f9b1a2cfdab7a02c526eba66bbf04d21419d4c7db91"
    "pl"
  end
  language "pt-BR" do
    sha256 "4cecbb1341b93806640744e3db6b97963551a2ed6360fcc43ddc1f68a580ba97"
    "pt-BR"
  end
  language "pt" do
    sha256 "08b6c809a68bfaea51bf8783b68e2878450bb78ecb3ceaa5d77ba0c9c29087fe"
    "pt-PT"
  end
  language "ru" do
    sha256 "fc155f0844f485159b9149f654553172c4145062cd3b0963eeead5a5f4caec92"
    "ru"
  end
  language "si" do
    sha256 "e7fe2a28639bbc22b87dd6ca905ef9a564261005df5f63eddf9dc5891ed391b5"
    "si"
  end
  language "sq" do
    sha256 "8fd5a1bd481c0e075474f9ebb80dfb27d4fcd6f294d2979b05d4a48ca87673fe"
    "sq"
  end
  language "sr" do
    sha256 "6d3cf018326a582bebdead195273c3176a03760c32aaef2b97d5f214715a56a9"
    "sr"
  end
  language "sv" do
    sha256 "51184281f94d0753603ad440c965c7ecff6367bc2c0a9043de73726355b73339"
    "sv-SE"
  end
  language "ta" do
    sha256 "47947fc8514f77390c5918f134c8662f1cd987ab268dc770962fc081e099267e"
    "ta"
  end
  language "te" do
    sha256 "247b780dffb4f73c6fa2e9892c0dddf00262cf711d8a6de7dc420540e05cd216"
    "te"
  end
  language "th" do
    sha256 "8e3f5aa6b4b0e906e963efac5c3fd2846b14665f0cc486205d46d492cccecaa4"
    "th"
  end
  language "tl" do
    sha256 "774f7205004990e6e3732392e1fb95bc474a4e2a36bcd52b20f4e568b308c89b"
    "tl"
  end
  language "tr" do
    sha256 "8205d720b70fe0e618a36b5781d9fcb66d97c267971782d5bebaf814cc04f117"
    "tr"
  end
  language "uk" do
    sha256 "a2148cb0c3ed6d9461075853a888b844ffc8b9daf5e1c3eea3fc28dc312c7272"
    "uk"
  end
  language "ur" do
    sha256 "5ee43d8098423f4b2a12cac4dd54db1a353f0090de173aeea27d3f040d6eae99"
    "ur"
  end
  language "zh-TW" do
    sha256 "dbcad179e429fe602a72febfc0d1972d2cc5259fca21afb81bf5502704821b9e"
    "zh-TW"
  end
  language "zh" do
    sha256 "69dfa78ad55a00ac43f5b1d4523906b64b0afcdd8c02dc106bc6f8b1956e3c78"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
