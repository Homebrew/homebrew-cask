cask "firefox" do
  version "121.0.1"

  language "af" do
    sha256 "7344bfa8bfa504fa81bc9a869fa4180e503435c36fb9762891fe7ce5007633a0"
    "af"
  end
  language "ar" do
    sha256 "4f5e8b9d27150b08ae743eb6a7c2bab8adaae34a2e2c2d81f081a69d5d8d6f1a"
    "ar"
  end
  language "be" do
    sha256 "70db407248cf9a27d12aaca6ef837c68bc79de2da2f343b0ab7d9c30989bba1a"
    "be"
  end
  language "bg" do
    sha256 "871afd510fd669ef747c7a24028b747b27df9726f8286ff32204f13996870147"
    "bg"
  end
  language "bn" do
    sha256 "680d5417b31ecd55b62979064a7b042b2e74fb0393c9f818b2d504d18c3c3399"
    "bn"
  end
  language "ca" do
    sha256 "9f5d9c750232775dba8454dd968a39e035e000cb56eb06e16992ba656d9b3c67"
    "ca"
  end
  language "cs" do
    sha256 "da3595ab1de29a3c2956e82439727d04598e9f31213f83613a5922e175d12927"
    "cs"
  end
  language "de" do
    sha256 "9eb7806321aee5c36ac2e3dc8660acca097f7a6e8fa5d3bd302397bff12c8dde"
    "de"
  end
  language "en-CA" do
    sha256 "3b9c168f536ff795dc232baaa12e6a59f75945fdb6ebe6437759463ffecf08ea"
    "en-CA"
  end
  language "en-GB" do
    sha256 "17004c4c5740ef2fe403e6dac6aae7306c1cdc1218fdb0f46382033bc897635d"
    "en-GB"
  end
  language "en", default: true do
    sha256 "234b599abbbcf2ba553a625e2e97437cef08008a4d8484d9b889d8954372acf2"
    "en-US"
  end
  language "eo" do
    sha256 "2b7abdf4906ba2746364159f91eee2f0ce0ad121ae1f247f1ecb197479041127"
    "eo"
  end
  language "es-AR" do
    sha256 "e58db6dd139ab3ef1857185f262d2a3037461dbf041feb155b1daefe2e14f281"
    "es-AR"
  end
  language "es-CL" do
    sha256 "08612e1151ed97f824ec6d91f3cec865dd1511d50c63f6538d464ddcbacd1cab"
    "es-CL"
  end
  language "es-ES" do
    sha256 "ac39041226fd7ade6ee7715476760f10a2858b2fe675c45227680f52827ab186"
    "es-ES"
  end
  language "fa" do
    sha256 "a9b85beac8a629b61cf348edd3689de06bc8cfb1fa4233dad1bc9df91b49b947"
    "fa"
  end
  language "ff" do
    sha256 "1adff64543f00d348e97b986ae29be47d3a2e02c015f5271cfa40eebaa08a460"
    "ff"
  end
  language "fi" do
    sha256 "da1104234a4f88d4ca8c6e6d077b162cdde7863aa060a1de4447312f36daa573"
    "fi"
  end
  language "fr" do
    sha256 "6614a275695606076d27cc1f4aa3f2bb1f9f9c02c1aa5f5a30ea6aa2ada77928"
    "fr"
  end
  language "gl" do
    sha256 "8bce04b4d77fa63c76bd28d98fe429efed7a631e9a95cab756257d1bd288a2ee"
    "gl"
  end
  language "gn" do
    sha256 "6d24d371103ca955c73e95463e7cf403f99fc73e3a131ccaa891b6fa8a8e138b"
    "gn"
  end
  language "gu" do
    sha256 "2517b5c742e8059674ebe2f5c5306dd6db71845b380e8d68779dea112fd70e26"
    "gu-IN"
  end
  language "he" do
    sha256 "344abc9696b8856ffcc53c08d95418b39fb39b540fa14b36d274fcc3c96bb4ca"
    "he"
  end
  language "hi" do
    sha256 "5d6dbccfb224cea043c4d9afb97191d79a384e797099da5d70e07963123b211d"
    "hi-IN"
  end
  language "in" do
    sha256 "5d6dbccfb224cea043c4d9afb97191d79a384e797099da5d70e07963123b211d"
    "hi-IN"
  end
  language "it" do
    sha256 "254d741955a5a97ac66617ec56ad54445c46d5c171c9a44df24c2aff8b5a5098"
    "it"
  end
  language "ja" do
    sha256 "651af94fcf374d6e7cb880d21885673d06bc398048160fdc796a89119e35b578"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "da78ea757ef5fc253e59e17d8187cad652d08c38defae808612b006636aa56d0"
    "ka"
  end
  language "ko" do
    sha256 "d23d7f581f50a01beaa45dde69bd27882375686f09ece9bc71ac371cae9b44d1"
    "ko"
  end
  language "mr" do
    sha256 "548844bf3cc1a854965a0cb6f0e206a28796e781e7929f2381baebd980becfab"
    "mr"
  end
  language "my" do
    sha256 "1e27d80e1e13e0a10af9b50c85d886032ec333700c72ae50d7a6d4c929f00f5f"
    "my"
  end
  language "ne" do
    sha256 "062f1280bffeeb0fc42e8df42a480446c63bf576ad6f3b4a1fcc2a22a8781276"
    "ne-NP"
  end
  language "nl" do
    sha256 "a0ad5c9fb78522f8f49e5d1c5a43ed6500527a53fbd146ca6c93a666b3e503b3"
    "nl"
  end
  language "pa-IN" do
    sha256 "dc86d162229c7d89949b4832f009ac64cb7eccdf3201073248d85721fe38eabc"
    "pa-IN"
  end
  language "pl" do
    sha256 "61265b3b61326d7314e3f5272590b74c6935b0ea57658038c96c3f8125ba835a"
    "pl"
  end
  language "pt-BR" do
    sha256 "46e18f6d9524f2fa743133b1c2e61f3655593f06597dffdca862949c1f307fb4"
    "pt-BR"
  end
  language "pt" do
    sha256 "04407ac1474e55f3c910fb2243e888e58b9ba0a82338c4fc0ed3baa9122dc094"
    "pt-PT"
  end
  language "ru" do
    sha256 "d4a78f8c8388eb5f276bfaeac0d2730c307530eb27f90ff69a809153354f3382"
    "ru"
  end
  language "si" do
    sha256 "1324f52f9e4915e5d3d0f0db5e4ffda1059217e23e22908bcb50d04e2adfbb7c"
    "si"
  end
  language "sq" do
    sha256 "73d334bc912dd53e758e12b107813dd02f725aadba812ad135006d7e68862e23"
    "sq"
  end
  language "sr" do
    sha256 "7be4cf5e2a7564e0567d5a55aba6ec0515b8e8de57e8ffaabf1d568ed1525ba8"
    "sr"
  end
  language "sv" do
    sha256 "07dcdce102206e5fef0f0aabda60c443317de663f90595c90672a4470db779f4"
    "sv-SE"
  end
  language "ta" do
    sha256 "92c3b82d0e17f1b2bd290c49f902d70def643df73308c07db03fa89ec6f1357d"
    "ta"
  end
  language "te" do
    sha256 "4adcfec12fd7361653e6cad89adca56df039c1b8e11a8fddd7ad734a64dc767a"
    "te"
  end
  language "th" do
    sha256 "70a84fd8cb96544717ff903c2b68633e7a396c9afd09ab25011695832f4b69aa"
    "th"
  end
  language "tl" do
    sha256 "e5f8195694fa61d4f8efcd3c551f129453d4758a135fedb6cb813c25cfa154b0"
    "tl"
  end
  language "tr" do
    sha256 "f2196a47ad8f08e5ffb2644c87bcbea15df54d123a7d70b5a15ae4d2b811dc59"
    "tr"
  end
  language "uk" do
    sha256 "a6147a3116ae3b8dfd3611c383885572dce5551e5a055e2d401fcb5ed77c25e6"
    "uk"
  end
  language "ur" do
    sha256 "da772e625f3a3b8978f973181147473101d1c1476ebf9489923114d74f361d3a"
    "ur"
  end
  language "zh-TW" do
    sha256 "f94f92e42e781dbc9e1707596e14294d8b9b065d518f001531a0f1e6cf0e6d39"
    "zh-TW"
  end
  language "zh" do
    sha256 "26eba3f2df24c8f693fd3adb8d35f506db988f3a89fffcaec0bd7fc2688d8d4d"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
