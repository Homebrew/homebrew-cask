cask "firefox" do
  version "128.0.2"

  language "af" do
    sha256 "534fb22b685e8cef1945a641c436a84c69da70b040534014cc297df78412b803"
    "af"
  end
  language "ar" do
    sha256 "65e6066e2f706c07f47d6943e4b0e28bf328f5dd0bbae3f4d07046ac932304fc"
    "ar"
  end
  language "be" do
    sha256 "2f3a50522e6b85566328507f5f781682d7e024669985d43514d56743bf0662e0"
    "be"
  end
  language "bg" do
    sha256 "66b72e082b647259fbe14c0b6d5364ec8c8c7042518a7cf423150ab0b5448cc9"
    "bg"
  end
  language "bn" do
    sha256 "2d72643d579c3284356a51e8257322ec254f61eec8b284ab63d2f2fc83c3a2fa"
    "bn"
  end
  language "ca" do
    sha256 "218f28dc3c2476b626791c2e2b2a90fe6ff5ec167da432ec96f5fd3f06e96980"
    "ca"
  end
  language "cs" do
    sha256 "a5bf2615692bd386cafcef3e13f5d241fb94d1c81f13c4be6f1f3a311d461fe6"
    "cs"
  end
  language "de" do
    sha256 "364970bf12c797af2d83645b3f9dbd8f85a01caeff8b5c8038a0371f3ec72d45"
    "de"
  end
  language "en-CA" do
    sha256 "e3ffb2cc1ffe36b1c697bb5db21761b311a77deea7c2fea5458f9a83113408b4"
    "en-CA"
  end
  language "en-GB" do
    sha256 "dac8e632e6dc42c8e1e98baef168fe1e87f4ce215c556db206bd0f2f77a5f4de"
    "en-GB"
  end
  language "en", default: true do
    sha256 "66cfc0e8880bb4730d1e15265377db7ee08d4dcb2ab46356e60f38773c310c24"
    "en-US"
  end
  language "eo" do
    sha256 "6f7ba9f650001f0d07174e6e3f4995969b19cdcd5ad619a87f7245b810e5bf93"
    "eo"
  end
  language "es-AR" do
    sha256 "15098e4b0f91b0f8dc34d96a4aab9c58161794010f014cbb555a48a31b670efa"
    "es-AR"
  end
  language "es-CL" do
    sha256 "d51b0f24f35509de56ebcc0bc4f20e57b41e630334733059d0b9f343212280df"
    "es-CL"
  end
  language "es-ES" do
    sha256 "066ad9acdd57004475a4f6e28c5a5946a3c90ebecd4335297095940ee8085a57"
    "es-ES"
  end
  language "fa" do
    sha256 "d5e12b080cf3d4aef5a2048935b27ab43bf48fe8b32a5a8cf1067db3c4578a7a"
    "fa"
  end
  language "ff" do
    sha256 "d62971e45ee4493c67c90bbdaf05aa2c55fa7a0d5a9a7bdc9e273eab9e0e40a7"
    "ff"
  end
  language "fi" do
    sha256 "b19b61cb77b2044707a602377a033071463e88ab2abcecd84a6e2f56d099b4b4"
    "fi"
  end
  language "fr" do
    sha256 "8a0fbe83a254e7b4d3deac56fb7b0f25dc48464d6964b8e5f16677ea214deffb"
    "fr"
  end
  language "gl" do
    sha256 "2ce33ac4932c30208d8f7ce8982dd66383b90de2a05c79c1574adae21eb2ba80"
    "gl"
  end
  language "gn" do
    sha256 "26bfce37ae73644a21311982ce4e6b9eab253b3fa9cc33846bcd85d5953dcd35"
    "gn"
  end
  language "gu" do
    sha256 "a2d551eac1af4bce1fcf06a12125d235737f738d3b282f9096c129e5224d5483"
    "gu-IN"
  end
  language "he" do
    sha256 "b1d3aa70170d659306568354d89aa4a9336ef2e3dac818ee2c8c41dad44c58d5"
    "he"
  end
  language "hi" do
    sha256 "e4cad28ec7179a1d60b31104a658f32f87b2e78ec355ffb8115988f024de985d"
    "hi-IN"
  end
  language "in" do
    sha256 "e4cad28ec7179a1d60b31104a658f32f87b2e78ec355ffb8115988f024de985d"
    "hi-IN"
  end
  language "it" do
    sha256 "bd2c4927e89a06379312e4fab07b16e614a27de23511a7eb450ddbd6cb5acbd4"
    "it"
  end
  language "ja" do
    sha256 "f5792cc37fe032dd96d802be5be97a5f1f187c0bb116ea833e72c0da36556058"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "c672ef619cee4f41bd6cc5f427371226328cee344f978869b04cf07851a63854"
    "ka"
  end
  language "ko" do
    sha256 "4cddf909f72833abff3e4502e170443e62c027b33e6a6f0ed8abc4c606fa4698"
    "ko"
  end
  language "mr" do
    sha256 "a4caf96c243ea23770c170a2c3a796b5a36a87ec4327439a5a28a410f48e98a2"
    "mr"
  end
  language "my" do
    sha256 "8d068b4797f5a2db1d7b38f3378a52747839b2b2ee36a5f62944e8de405de66f"
    "my"
  end
  language "ne" do
    sha256 "c847c1f246ed8d89fe06d416636dfbc3025ee212a261af66083889eb4e760062"
    "ne-NP"
  end
  language "nl" do
    sha256 "7dd2fe46fdf2a8362d72c667596ac81000d96b7748658b54b78df14db926a906"
    "nl"
  end
  language "pa-IN" do
    sha256 "2fa5086e6452b92bc95af4aa1a75bf4aceead1e454a2ff0eccfd5e3022759f6d"
    "pa-IN"
  end
  language "pl" do
    sha256 "4aa343d8d1163ccf43341ef2b15df63c2f6f63f12de70e0b05f676b39005dd39"
    "pl"
  end
  language "pt-BR" do
    sha256 "916db475a446d362fb1f84d6b0e80e4d27bd0ae372e1edbe132871ce2ecad556"
    "pt-BR"
  end
  language "pt" do
    sha256 "7d9a27b48a95ad2b4788eabebf1f4f515ba1cb6d3aeecf2d994e1274d2951059"
    "pt-PT"
  end
  language "ru" do
    sha256 "315119c13a1473973fcc48115669da40ffbe7ebff184d6834a49699aa467ead9"
    "ru"
  end
  language "si" do
    sha256 "e01bb64e23a8d7cc700b9bc325f035a387f2972373391d75f8b5bb582fbd5399"
    "si"
  end
  language "sq" do
    sha256 "bd39edd56631584e34538aae917b092c975629718326952f9af29b9511be986c"
    "sq"
  end
  language "sr" do
    sha256 "5c1f5f62f01d20a634f908d85ecd102630589d0b634817353008c01b3a7ffac6"
    "sr"
  end
  language "sv" do
    sha256 "9a3e3a06b66cb981aa0bac1a6fda561ce10ea7d33ae5699b2cafb935c8237cf4"
    "sv-SE"
  end
  language "ta" do
    sha256 "65cb914b9c23d5601758b87de18fa8003ddc0fbe5ac1776394bd6a2c0cac406d"
    "ta"
  end
  language "te" do
    sha256 "0c20aca19b5096707c83b4c7924bf0860c0da27a6ab5578c1f42a18e579433f0"
    "te"
  end
  language "th" do
    sha256 "de8b6128e4973b7fff2d4213cfa4ed6ef9c92d36d3fb755a38f365a799a391b1"
    "th"
  end
  language "tl" do
    sha256 "f919ef2511e47652a9b3e54acfd752347e523e5a96bff922014f41bc8aa5d610"
    "tl"
  end
  language "tr" do
    sha256 "02545adf413b622b953ef7d3187e4aebe8319a0c1c48a6ec3de3905dd87d5ac1"
    "tr"
  end
  language "uk" do
    sha256 "7a08bd79592a137792d821f69f811b463dd950b9ab596cf73313de0f881b0954"
    "uk"
  end
  language "ur" do
    sha256 "b3ee4a0aeae2cba6032b83bbc51639ea31b656aa4248304103001ada94d7baac"
    "ur"
  end
  language "zh-TW" do
    sha256 "6020432ece0d49d34555cfa93f8bb810b4f6480670514feade9822b8a6cc0d20"
    "zh-TW"
  end
  language "zh" do
    sha256 "0aeab3b6d728f779c8e999b7001f9622cb75277ddf929b2395f3a1dd86b25d59"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
