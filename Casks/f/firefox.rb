cask "firefox" do
  version "119.0"

  language "af" do
    sha256 "0554b5d18af7c65ad6802ec97353f3d93e42c1fa89bb97e38f0796cb8d17e49f"
    "af"
  end
  language "ar" do
    sha256 "ae023333a2d83722cfc6fc880469633b2ab31373a2452cbf0cd79c9b56b8fce9"
    "ar"
  end
  language "be" do
    sha256 "81d6ca9babb0ab021ecbe0d746d6960843bc0bb7731f89e4748d1bfe40ba3a69"
    "be"
  end
  language "bg" do
    sha256 "8faa5266987e713ced0a21e5e8ebf7604b06f5e573759e7a32edc6857ddb895f"
    "bg"
  end
  language "bn" do
    sha256 "e2cbb3415d4bc7bc2e4929286d7a53be55bc3e7cbf8bf32dc66427202bece534"
    "bn"
  end
  language "ca" do
    sha256 "e7891fe3ef5f3fd88f9ed248db841de61d451507b1d965d5f293db021b1e7926"
    "ca"
  end
  language "cs" do
    sha256 "84b8cbeaa1baeb91f1734af1976aefefa2ebe6a9476b126e4b3f2cab7d2f94e6"
    "cs"
  end
  language "de" do
    sha256 "d13bda4b699d99658bf289398a55d6783a46570725f74e929784f90b01558e4e"
    "de"
  end
  language "en-CA" do
    sha256 "9891b06874b2a022863e499636cceb56484831e04bcb6fdf34e6f3b88f63deee"
    "en-CA"
  end
  language "en-GB" do
    sha256 "3b0c8a8acd53d47cc2052d5417f77be1806f0f54c4ab2c6fcb4a14bef29bd05a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "9ea862f623fb3ffbdc6af5cbab34aa7a57aff0c7b13789ccca03ceb73ccae2e9"
    "en-US"
  end
  language "eo" do
    sha256 "a91f8f1f05f8745883d363cc8a5798fd0cbef6eca381aefbfe154fa1527e8d10"
    "eo"
  end
  language "es-AR" do
    sha256 "faa3a3ac68112b92a51d7a0026044ae9c3e1139b4f40ba1c8e7730e46b3d5131"
    "es-AR"
  end
  language "es-CL" do
    sha256 "4e6df4ae9da12748ad621ae782c52dbcd99f0c44ca3f04e1adfd749d697c5db9"
    "es-CL"
  end
  language "es-ES" do
    sha256 "5413eac4e2cbcf6aaf0537a6fc46c4e3153e5ad11aaa01ac695088f30fe9613d"
    "es-ES"
  end
  language "fa" do
    sha256 "c8e5bf3011dfde6bac4e5c19bd8ed2760688cdf98c88bb3724d2c9b9cbe10c7c"
    "fa"
  end
  language "ff" do
    sha256 "40800dbc641f3752332802cca6e588365e47bb89be95524148e1c40e6bc6dc0f"
    "ff"
  end
  language "fi" do
    sha256 "46a3914a35312d4ea34f2a214807238b3a818b432c167ad4fe28da5fd6541a7f"
    "fi"
  end
  language "fr" do
    sha256 "c64a621c83eb9229199e0919f14111e1cdffeaa1b4bbede75ec26df8cd275fbd"
    "fr"
  end
  language "gl" do
    sha256 "315fd34b65b83d78bfd30e7de7980a2ed4e4a9ca42faf5c1208419bfccd961b0"
    "gl"
  end
  language "gn" do
    sha256 "312ae0542ab19dcd7a0c2750bce83f6c7876ac6ffc166660ed11a954adf5f970"
    "gn"
  end
  language "gu" do
    sha256 "aa488a0a2c83c28ab52298572f035963c02e81a385448de3e30d2bc940e2b1ab"
    "gu-IN"
  end
  language "he" do
    sha256 "e5c5c2a3e117bc6087f9b2506ac5c8d8169c64d5d0ff4276426c4bcceefa76b0"
    "he"
  end
  language "hi" do
    sha256 "e1ad1fe50ebe90b3a7fbdf52b0994f4c6a4a36a2eb95afcebabf85f63f743a08"
    "hi-IN"
  end
  language "in" do
    sha256 "e1ad1fe50ebe90b3a7fbdf52b0994f4c6a4a36a2eb95afcebabf85f63f743a08"
    "hi-IN"
  end
  language "it" do
    sha256 "5086132d7beaa2c1144e859a552c7ca9300f3ebb9be6e75a9b8c86a59e7e9f0c"
    "it"
  end
  language "ja" do
    sha256 "01388653bace9c573e8f8dcaba17f15eed1157c6295468e9c3f08df7ff5b482e"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "ebe155b72a48eeb7065f74b57d725f3b66219dead95207f2c5a162cfb1d879ed"
    "ka"
  end
  language "ko" do
    sha256 "4c745312d9833991121d5202ad2b7eb4a7cdda8ac8815e60ac4cf5d8326ef662"
    "ko"
  end
  language "mr" do
    sha256 "3d84e7e2f9d2f9c8f3c8a78f967a21a7328f5aa2de9218acf3b2bb9b821b06c3"
    "mr"
  end
  language "my" do
    sha256 "b304ff67048bf1a0a5e6308b69d3385f577a8a1bb282500d65db8ecbd802027a"
    "my"
  end
  language "ne" do
    sha256 "ee89488a6a1859c94ef4ca8b09c3691765faa550a23261fbd77bdf648319b15b"
    "ne-NP"
  end
  language "nl" do
    sha256 "30d26fe273ab7b1113c8574fbfa1a8f6e128638c7595a7dc880424ea52722e0d"
    "nl"
  end
  language "pa-IN" do
    sha256 "7a40f2fd6a38872ffc7ad6c708bcbce968da5e4ca722bb2bb396488f6a53bb3c"
    "pa-IN"
  end
  language "pl" do
    sha256 "15cf484d23e97134e97da12c1378fd88303e5b93c272346fe3ae7f83c5ab3d92"
    "pl"
  end
  language "pt-BR" do
    sha256 "6c4c8b9ecb00d0e800cf646dc290742a1756316a35a75aba13cb7adaca5035c1"
    "pt-BR"
  end
  language "pt" do
    sha256 "286c8a217e39ce42aea520708b07cf18ee9cff68b8bb27428437183d442df38f"
    "pt-PT"
  end
  language "ru" do
    sha256 "cc2ecafddc13b4e17eccca3a120ffa88f3859a7835f308320ebdfdc3f687a919"
    "ru"
  end
  language "si" do
    sha256 "bf9d1515fc98bca7e7e5056563cbc28077c52a39d89df5672126294da4b8c980"
    "si"
  end
  language "sq" do
    sha256 "577a6f88d554b9f4d0158b6c3febe8ec84ff37d18a042a91958df8538adf04d5"
    "sq"
  end
  language "sr" do
    sha256 "43d1fed1e7739181e5bcf06963689f3939b3db9a1ec23aa57d87681ae49075f2"
    "sr"
  end
  language "sv" do
    sha256 "04a3771b3cf1c886170f3b60f399a12b96cf3e40dc844debd31ffd5b1eaca174"
    "sv-SE"
  end
  language "ta" do
    sha256 "57a907bbbcbc4188865639e1ea572e629ed7acabea931d1187b0952854c21aaf"
    "ta"
  end
  language "te" do
    sha256 "70d5c0d8c6346518d5b6a3eb1b32c9752db0af26ce7f8ef21093bb6a471a0708"
    "te"
  end
  language "th" do
    sha256 "8065fd4d3ca9e724e60d671461711fe2622cf4bb6c8a9a66be16a318cee03106"
    "th"
  end
  language "tl" do
    sha256 "1f79fdb392dbe9bfdfc3fa47ac5d3cb7e5d2cd11bd33a269bc5c77fdbe3b5fea"
    "tl"
  end
  language "tr" do
    sha256 "a3df5e2c54575efeead8625c3a0f61f7bcdea1b5aee218b6daf71092c31473d3"
    "tr"
  end
  language "uk" do
    sha256 "90fa4f6d610bec28f0b9b110d7c701c443b4eb14c1435c4e71bdba0c7912156a"
    "uk"
  end
  language "ur" do
    sha256 "30ebc9fabe88e2faa85d634d7dd22042a6d573d5178d79e7cd3d88cbfefdf85a"
    "ur"
  end
  language "zh-TW" do
    sha256 "75d0af0512f7c51182cd4226069c9ae988e49566be5ec8a3bf3672d70c38c90b"
    "zh-TW"
  end
  language "zh" do
    sha256 "11a5189bb0961d6bc37fb44b206538f4751745a4014c8822e6422441ff9600e3"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
