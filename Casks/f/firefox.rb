cask "firefox" do
  version "134.0.2"

  language "af" do
    sha256 "a91d7707762cbf4782f008d500c6858029270607f0efd16836fceec9dea6dcef"
    "af"
  end
  language "ar" do
    sha256 "34c1057bf0ddfc25e58892b434a0e8f9ada241ef7fdca2f20fd4167d86844253"
    "ar"
  end
  language "be" do
    sha256 "12a5355c9915fbbb63758b81152a467dd31b71db9d80a506f315fcca1b63a313"
    "be"
  end
  language "bg" do
    sha256 "27ce14be9ba650ee0523138ef5ec038b3527f4b93e450b665a173ec690b392d1"
    "bg"
  end
  language "bn" do
    sha256 "2f1fc6c11d4c2dca4d48f687531fefa7471ce963fb0b1997ac6c8e6d4fb7fa35"
    "bn"
  end
  language "ca" do
    sha256 "357345f8d46a756121d551944385d38613c4035f69f63cdbad3492c7261f17d4"
    "ca"
  end
  language "cs" do
    sha256 "15e2bf03da07ffb5b0c362cbeb0f14eb4da746d39f96e998767d3b32aa6b5439"
    "cs"
  end
  language "de" do
    sha256 "7e33062341d3bb4c1e080e4485d9ff8e4ddbcb2a90628e05447c4770f1e7e81f"
    "de"
  end
  language "en-CA" do
    sha256 "7b7b1c3715a4e9654c2554ead6417cc12aa1995d25fcc5ab1810ca0d7b47dc53"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c54218528812fd0a8b45a59990dbc645fa1e3e6cc9fec7949d77de57f7886ef2"
    "en-GB"
  end
  language "en", default: true do
    sha256 "7832a8d1e1a13322dec1b52d32e1e64d2b6254de8348575f2d22af4975d56a85"
    "en-US"
  end
  language "eo" do
    sha256 "4125c0b59ae6fb54535784cbdb10a4d9c07718b0294921bbd7fedf429d0b95ce"
    "eo"
  end
  language "es-AR" do
    sha256 "712ddb75fdbb851ea33ccb57851492eb1c034da8eed65839aec2b76d75478b76"
    "es-AR"
  end
  language "es-CL" do
    sha256 "082cb50fb713b5908f484534e033d9cdabfb5a33fe6ab455cd5c6a8bf43b90f6"
    "es-CL"
  end
  language "es-ES" do
    sha256 "59483ea16ac5fdbc201a87be638589fec3ae16d35c280d56d523c2be5bc5f5d2"
    "es-ES"
  end
  language "fa" do
    sha256 "753d1c19bc1d1a32471feef619731116ddc2d9d936d5e34b3db704b4e66dddec"
    "fa"
  end
  language "ff" do
    sha256 "ec772e71621532cb39e001dd00c911364091b239e75c07ae781c558e1bc255e3"
    "ff"
  end
  language "fi" do
    sha256 "e7847a6ee395f5ef661408d2acb78dec99de053002903b345bcd80e700cb5b4b"
    "fi"
  end
  language "fr" do
    sha256 "5ee21927bffe38359ae0cab6f63ddc9b44f4ac2d6d60eec61e24c22dd6a1db47"
    "fr"
  end
  language "gl" do
    sha256 "ac97ac617c47e203e32d530c832cf9b64fb59e41112a64a065fe72db47f1282e"
    "gl"
  end
  language "gn" do
    sha256 "a767bbdce12ec5ebf0450512a1b43ed9f0a678710cde09d3aab003799d94b07e"
    "gn"
  end
  language "gu" do
    sha256 "91a372e534480d480466ba531f7771a77cbf6613d39d86889f73c316b7f87401"
    "gu-IN"
  end
  language "he" do
    sha256 "b8e74102a687ead27c2fad1a527cd1c0d9b21fd089419b07ca12a498896c729e"
    "he"
  end
  language "hi" do
    sha256 "69614953c5bb7db3bf8391666c3b08688e2a865510ed9dc4ded7fc7f77c341ec"
    "hi-IN"
  end
  language "in" do
    sha256 "69614953c5bb7db3bf8391666c3b08688e2a865510ed9dc4ded7fc7f77c341ec"
    "hi-IN"
  end
  language "it" do
    sha256 "9a2e492a85309f4ec7684b937841540c53b98c9cd91098c1b606c29befdcea80"
    "it"
  end
  language "ja" do
    sha256 "545e8883092a4ee392660dab3293165b407078a681ac6430ca588c33499f2cb3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "8e81d6c57e230d83b941aa3db0c9520d721969deb7f9c8fa5518a4267ceb9602"
    "ka"
  end
  language "ko" do
    sha256 "aedf6b4a309511efbf3151cfbf63f9cc480b32db675740387aae05ebaa4955de"
    "ko"
  end
  language "mr" do
    sha256 "9bbfbe4c4ec25414ed5418a0addc2fdf4366a95b24b1a5346bfa12cd220dc4a2"
    "mr"
  end
  language "my" do
    sha256 "4e45fc7f2a64e7007e02d971e4f973f3cd4da5f5e79d462a88c7ec0ffcfbbf74"
    "my"
  end
  language "ne" do
    sha256 "57781f018e9d21e35cb7ec951003458a04d505bbcd781c496031a839f3f2c672"
    "ne-NP"
  end
  language "nl" do
    sha256 "20a4a4d9205a1d3cdcc81f0d5d58e2f44c7e4d5ba806f464143cd4fbc92bf88b"
    "nl"
  end
  language "pa-IN" do
    sha256 "72faf6adb62c7612d963ef9c1f39de6ec730e2b181233a9aa1e3d7530754ee6d"
    "pa-IN"
  end
  language "pl" do
    sha256 "c1e0ad61e4051fc4534958c0e9aaaca251585b78bb333f6d28096a15378af4c5"
    "pl"
  end
  language "pt-BR" do
    sha256 "d54f6de2775cd6dcce9a146399e25acdc9c78f19f8b268c8c9795184fd85bbb2"
    "pt-BR"
  end
  language "pt" do
    sha256 "b3328ab514e73fa92362348ed67f74dde0f9e7a8377fbe362e7487edf6f1bc32"
    "pt-PT"
  end
  language "ru" do
    sha256 "5a92a61dea52f8234485c5da32d4b3bd8ba8315e8de77843ff2973ebbe4bcb39"
    "ru"
  end
  language "si" do
    sha256 "27265000c69778d102c0ce228fce6ee0fcc16dddf235c347300c0abf06f57b80"
    "si"
  end
  language "sq" do
    sha256 "173639208150340102ac9b588f810e54340265d742a2b7f54884141ebac2dafa"
    "sq"
  end
  language "sr" do
    sha256 "2655d1b5e23c8355ba654a3b8d32c2e4d524d3c10ad1d6189f84cc4ec61bca97"
    "sr"
  end
  language "sv" do
    sha256 "db21efea6ff3e16479e3684d6fed9ee7a9fd417a9e0a02f97f4c630d265a5d2b"
    "sv-SE"
  end
  language "ta" do
    sha256 "244506ff870d7f7959b92a492c679fbc92b2263087c40555beff7975eb9772f0"
    "ta"
  end
  language "te" do
    sha256 "952b438f01162c8a45c2874de9ea2373761263663ece869a0b76ca78fb77c9d1"
    "te"
  end
  language "th" do
    sha256 "ac5c5c38498451c8cfd0065c43c489f57ee66071d530bc70d04a901fada1b671"
    "th"
  end
  language "tl" do
    sha256 "6f8c99b6e762de0be5022a2ab6c5c5c6771969279e17fe32559309d59fe0478e"
    "tl"
  end
  language "tr" do
    sha256 "64d7c34f48a75a2fe259586cf2811ac1135f120cd82c0e5b4771001e31600823"
    "tr"
  end
  language "uk" do
    sha256 "c2ff13b30ea7a5cae33a6a0c214031a89ad95b3983a518a9bcb87502287ae4d1"
    "uk"
  end
  language "ur" do
    sha256 "0dcf14babe9a9b467c7f357208ed3f0e03c8213b29f7f5a987f5ef66615ec0b7"
    "ur"
  end
  language "zh-TW" do
    sha256 "acfa33f96fc14c59203166d20fdcf5c32c7dd35ce4a4be25e8236a869e9fd14f"
    "zh-TW"
  end
  language "zh" do
    sha256 "7d8defb8608d089cb1ff3a03223b8701cb08aa1bd918ffc4e8342cebf47458db"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
