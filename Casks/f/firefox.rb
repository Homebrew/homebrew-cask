cask "firefox" do
  version "129.0.2"

  language "af" do
    sha256 "60c0b66b6a4791850ab7e6a407d234ca956e21fded725256c606be46cefd9ba8"
    "af"
  end
  language "ar" do
    sha256 "1016aa6c438a8e2c6c6e36aa808e4223fe40f9aaf772690c7a32e91ea602e5ed"
    "ar"
  end
  language "be" do
    sha256 "d78b490bd5dfa02903dc761ed07738fabffd03662a82048cb1dba85d6a1e042d"
    "be"
  end
  language "bg" do
    sha256 "f52dc6d4c842e42b9d3fe2e15e87dd179c65d29d3f785fc82e23ac797d5aff68"
    "bg"
  end
  language "bn" do
    sha256 "75f021810e3822b76eb89ab28c2c762ed51d159a5afa53c834014f66668cdf0e"
    "bn"
  end
  language "ca" do
    sha256 "a5fa638abca4be68a4ce3c8f6312f2eaf7fdb44978d17e667da9b26f322b3fb1"
    "ca"
  end
  language "cs" do
    sha256 "b459ce4bc3a970fd081a266f42be09dcb58527c5ffc9fe0747099768dcf5c38f"
    "cs"
  end
  language "de" do
    sha256 "be6edffc719d552e189d9de12f9a9910a05ce3f1f03e81057c3b0ced0ebbeca7"
    "de"
  end
  language "en-CA" do
    sha256 "23f1d00de26bec91bac35cd3d8a83b897ccea138f766133e5a686c92a6b62775"
    "en-CA"
  end
  language "en-GB" do
    sha256 "a370c43c9622459509b85cc842da5f9db23a518c16968dc60c5f2ddaa0d959a0"
    "en-GB"
  end
  language "en", default: true do
    sha256 "04e84a82ade99d031f8b28bd36e9b9606b83dc09905aac42e992c8e59a289539"
    "en-US"
  end
  language "eo" do
    sha256 "b9cb8a56391270b3bc221815e8d17c9a0dc90aa48877b707a908988cb5cf5b9f"
    "eo"
  end
  language "es-AR" do
    sha256 "8e21a6e91a6d36f16851d7e12f4390a8d7caeaf6f214f1df7d1ef1a43e88f359"
    "es-AR"
  end
  language "es-CL" do
    sha256 "3df8dd0c1699063ac2d5c5595ba5261c8ae7c710f7099b82b0c0b84dd2a0a16f"
    "es-CL"
  end
  language "es-ES" do
    sha256 "9c58d271c0220eb4d11c1245cdf10262980bdba8bf326485c7d870a8f3140395"
    "es-ES"
  end
  language "fa" do
    sha256 "fd27921a8154c04673d6e8f6b6da6332e631fab58daf333ccd1f70526b1a492c"
    "fa"
  end
  language "ff" do
    sha256 "daf767588debf82f4a92dd9ee97e98144c7ca32f06273f56a1f34f633026d5d6"
    "ff"
  end
  language "fi" do
    sha256 "9aef90f91894381d147bb7ba18163ac45a6e2834c0f41eb491ae99574696708c"
    "fi"
  end
  language "fr" do
    sha256 "869a23927b0e01454896635d822dca82a96bd6f5329cc7f6242584a72b01b9a5"
    "fr"
  end
  language "gl" do
    sha256 "c25db4bf25da0ccbb87c6483c698ccfd02611f8cc75724392d59e03dd08cf43e"
    "gl"
  end
  language "gn" do
    sha256 "7a4bcd10513c7452dfb07ea1d24e55f741dc744125e33da4d0972215f8083e4e"
    "gn"
  end
  language "gu" do
    sha256 "c16dd4d71654ddd67622abca84438cc7163285ab6c387f5a99862b8583f72010"
    "gu-IN"
  end
  language "he" do
    sha256 "283f60dd655a41c1a34a25bdca1af1829a2cce82d2fae7b3f92bd0a70c68b928"
    "he"
  end
  language "hi" do
    sha256 "d02070cd94a060a16f65e4e67adb2b7ea013743a1a11a9ea1bc3404e79b1175a"
    "hi-IN"
  end
  language "in" do
    sha256 "d02070cd94a060a16f65e4e67adb2b7ea013743a1a11a9ea1bc3404e79b1175a"
    "hi-IN"
  end
  language "it" do
    sha256 "ccc1d51aa940bde8cad081d13c1adab70d41ac113bbab76a12677aa1ce28bfcd"
    "it"
  end
  language "ja" do
    sha256 "71879ee95fc9042c210f162193e8f8d8969401aae6fa675dd07707ed942951e8"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "ecf03a3ff7d4193fa1c150a18578df7dacbc01873675220d3a8d9ead93fef8fd"
    "ka"
  end
  language "ko" do
    sha256 "d39f680bf71f5312e1714d29282cadffed989c3dbbc44cf18a5c532c3bcbf6cf"
    "ko"
  end
  language "mr" do
    sha256 "416bb982340e8870b88bd314a8dd3ed0700327a5feb93dd921a24ec9d9265e8c"
    "mr"
  end
  language "my" do
    sha256 "87c88602d4010226ad777edfd6db1db60aabab62b5633c5856aaea1102a34381"
    "my"
  end
  language "ne" do
    sha256 "dadbad680df0d5ff4d8ace907054af84351b267c1338d2f506bcde2d8ff100a3"
    "ne-NP"
  end
  language "nl" do
    sha256 "d2a73b1d842825324839fd3564470cef50ef95ae9689fa3274971e28a01b97ac"
    "nl"
  end
  language "pa-IN" do
    sha256 "660d9dd11d0fda57165d0a5d7037e800de979de230bf88ea53619cdd6ef1cda1"
    "pa-IN"
  end
  language "pl" do
    sha256 "6b0fe28b12ee646c46025f48f49ee9e786af7260bd58ddaed595151ec190de3e"
    "pl"
  end
  language "pt-BR" do
    sha256 "4f959416b2a8370ced5ff66bda1371423cba605c8e882be857c9162aff011836"
    "pt-BR"
  end
  language "pt" do
    sha256 "9b783476d46cad16f21e18b6429104fe088940e8dde5375c63e962738634f504"
    "pt-PT"
  end
  language "ru" do
    sha256 "db98f377327e8ed10e81d7aa5da4182b0b87a4a80a38528dd5c51b670148b147"
    "ru"
  end
  language "si" do
    sha256 "20484b14d392367dd93ecad2c7bc12dad6f431b44120793c7d56c3330d920542"
    "si"
  end
  language "sq" do
    sha256 "a518de582f34fcd3b50d845f0b055fa8b415fcb1a22bd0ed32a9df66d4910b1d"
    "sq"
  end
  language "sr" do
    sha256 "a70965f20baf5974de5707cad6ce1796fceca147a4f76b97c061efc36f00c4d0"
    "sr"
  end
  language "sv" do
    sha256 "b06d8dea0e6e209665889845c0370d286db6aa2c3b02da26070bf37336c052ed"
    "sv-SE"
  end
  language "ta" do
    sha256 "63a484ed023aea31ee99ea8b3224d05938a34cbb0dd81db574a72d0e2db638a2"
    "ta"
  end
  language "te" do
    sha256 "e8a274c71fa9a04a6e0c70d2c95ba3d963e62d5efc6907f674347a08cadf0f46"
    "te"
  end
  language "th" do
    sha256 "0b905810e97a0a52d6ab9d1f9ff63da2bfc8fab7133b03acec36d005eb218b86"
    "th"
  end
  language "tl" do
    sha256 "a0b2a4535ecc2de24b9ea3d2ac5bd27cbad5a7998e65461c78c723cd3742ac26"
    "tl"
  end
  language "tr" do
    sha256 "9b8b3e38d4ee93d1276b0c4cffb1f4481ca15cd4442be1ef373cf0cdb37936ae"
    "tr"
  end
  language "uk" do
    sha256 "c9fb5bc88b27756895b36a1080df3d50d29d8b722e0d53359dd518e382eb7ada"
    "uk"
  end
  language "ur" do
    sha256 "019f6a61d89a6ba7086e3bd3ce73be9b456afa02b8eaf70708e5afa225102f7b"
    "ur"
  end
  language "zh-TW" do
    sha256 "899fd089f8de2c1a3b70ee337f32213e936f0900dd84a96f76c06b94d5d4dce9"
    "zh-TW"
  end
  language "zh" do
    sha256 "becc85a2a6b193a660929771a2c1696c7ac6339872e13dd744d473e56c4b59ed"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
