cask "firefox" do
  version "133.0.3"

  language "af" do
    sha256 "2408bc9bc56128240e21d59e0f8158cbd2b6a63e9b8314e7b9b9369202f0a0b1"
    "af"
  end
  language "ar" do
    sha256 "c96fa0324befb64a3e23a11fef516224a6f1b31bf2efddef2b493babff8b8098"
    "ar"
  end
  language "be" do
    sha256 "34ba96caf1a14b25788847975a0556e2f8d0c281ec2cfce68ac2373658f6aaef"
    "be"
  end
  language "bg" do
    sha256 "effb41a059d3053720c14654bd48ef4f67f1a238b0ea6714b696cff08c115b9e"
    "bg"
  end
  language "bn" do
    sha256 "75013d3f96502c7ae143fc7f8c5566beabbc0aca56892642359247db8718bc13"
    "bn"
  end
  language "ca" do
    sha256 "f984dcdc24110951146ffebffbafc39b0eaf48486e7556ebd18b97b015d375cc"
    "ca"
  end
  language "cs" do
    sha256 "e46687f10f091857ce3c6eb3ca54700086f97490c0b9698e27c2f56c832c316e"
    "cs"
  end
  language "de" do
    sha256 "097cbc4be48fff3773e7121bdec0d452c70b2631f832867e162cf979fffc3916"
    "de"
  end
  language "en-CA" do
    sha256 "dbbbc81c04762d9c0cd43487f88ff7a51d745fb0c5723a42f60f1a8b5d20e0b6"
    "en-CA"
  end
  language "en-GB" do
    sha256 "eb0945f1816ab703c1fbcde515dbffcadbce7b273c455a1fef3dc1557c808f25"
    "en-GB"
  end
  language "en", default: true do
    sha256 "9ceb4fa2120228f287e6c654cef7898b4cce0a659270056276b8884581267d3b"
    "en-US"
  end
  language "eo" do
    sha256 "bb25658cef46fec42a8af0bde4b28eb7629399a6b783e8acda9447a29bb949d5"
    "eo"
  end
  language "es-AR" do
    sha256 "ed30fb0a72bd4e2dde26d11fe0d971bfb82d1dfb6fea1ff71d83b2df39992e84"
    "es-AR"
  end
  language "es-CL" do
    sha256 "468ef5be7a049a5370a3d3461c57b5fda20366048c0ff8fbe4768eaf2464c8df"
    "es-CL"
  end
  language "es-ES" do
    sha256 "b6492674e68b323a89ac4fc94dae53f934f45fc3f465e38abb50632370aa6961"
    "es-ES"
  end
  language "fa" do
    sha256 "3db57df90dadc92729d7d9fc1088c2dc3f167e45977793aa2fdfe176092d28d4"
    "fa"
  end
  language "ff" do
    sha256 "9e5571ac82bbee4bc88607d0bbee42d32c0c917539269da5474668a42f5debd0"
    "ff"
  end
  language "fi" do
    sha256 "ec76a9c397a43594138148a4c87f85f81d9341dce1544d93fcd053668ae7364a"
    "fi"
  end
  language "fr" do
    sha256 "fda1f130fafc3f64d9c526b782521e827049990f2d83f2c1f4ff48f824b29530"
    "fr"
  end
  language "gl" do
    sha256 "4de6633571c864dc2e0edd8992946fc2ff6d646c0c332c3144965cfe1a65fa51"
    "gl"
  end
  language "gn" do
    sha256 "3544437b43f22444a8be7eb0a8639125bb76bf8dbab7311b36aac5890e899eb1"
    "gn"
  end
  language "gu" do
    sha256 "eb01d1f14367470530d2379a1cd089cd2dc899db4231917c8c484a1df2205500"
    "gu-IN"
  end
  language "he" do
    sha256 "ff8078f7e3daf981f30d958507112db528323cb78abbcb760d31d7747f2b0fa9"
    "he"
  end
  language "hi" do
    sha256 "646cb0615111c96d23347ba9554f520fe73ed73693361229c2cceac791487bf5"
    "hi-IN"
  end
  language "in" do
    sha256 "646cb0615111c96d23347ba9554f520fe73ed73693361229c2cceac791487bf5"
    "hi-IN"
  end
  language "it" do
    sha256 "212d157b217cd867762daf85d0975ef1de5f776b6aafff3b457cb769809c8fcf"
    "it"
  end
  language "ja" do
    sha256 "bfdb6aee7493c2c216060f94b08813aad7692ff69c87e4dc06981caa9a58af14"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "9ca63786cdcdde29a30f7573504b614a17432d6284a0bb01300073f38896070d"
    "ka"
  end
  language "ko" do
    sha256 "9d5dfaa58e9096a8d7d58f9c8bc4e46d48fa2c35f45bd3d6c0e2cc7c8bdea198"
    "ko"
  end
  language "mr" do
    sha256 "1fbcf84fdab5cc559226a83560abb0bdc354df46d79c73bf7cca0d950f972a37"
    "mr"
  end
  language "my" do
    sha256 "d23d911d84ad71ca1db7f2837f40e78d704980d5974b5e68ff3ee8b904c48ef5"
    "my"
  end
  language "ne" do
    sha256 "1e4b3b8e8cc858cef478132521c010b65c36414af683a35e9ac7db6376a5fbbe"
    "ne-NP"
  end
  language "nl" do
    sha256 "b61bf1fd30717f175500f9693650229342082e7d0355922771ad35d47042168c"
    "nl"
  end
  language "pa-IN" do
    sha256 "215a90bf491bdcd62ce7384ce8890bf7f7a71179bd506786572042a6218277c7"
    "pa-IN"
  end
  language "pl" do
    sha256 "76f7ca61ee28885359ef007ecb3c74fbc448572b65fe2b134059d11f6410a6e7"
    "pl"
  end
  language "pt-BR" do
    sha256 "80f6a982d55ae145b7227bf4d19443d141e96398fc133b928a440df49ad6e70c"
    "pt-BR"
  end
  language "pt" do
    sha256 "b314336afaf42d9aafb8ac21dcbb7c765e3a9acad5bec43ecfb23f887446ac0e"
    "pt-PT"
  end
  language "ru" do
    sha256 "92495e9d8a79fd467e755811ac669647e0ed84e65f83ad3be3274c4bd8a2c8c0"
    "ru"
  end
  language "si" do
    sha256 "612e64dd4d85695c030438b85da1da45b39d7ae55eba372678e54b4db1ef4fcc"
    "si"
  end
  language "sq" do
    sha256 "1229651ad5cbeef5b17c0c5fc72c921c75a487ca324ba36d1194a2e97222084f"
    "sq"
  end
  language "sr" do
    sha256 "83c4d09aff3baa7a0e28c265cde488dda9597d9ea6e122b00208a5e12f2ed4e1"
    "sr"
  end
  language "sv" do
    sha256 "07367cffdabe3b50fff3cdf0efa885c3061c64a79b05e79defcf3836762d3d41"
    "sv-SE"
  end
  language "ta" do
    sha256 "005593e9a87124c306cb335d5a559317b13104b820fc28e47ff9a7595770f5bd"
    "ta"
  end
  language "te" do
    sha256 "a0255ac6f4473593d3c6b066515589aa175c84fffd7ff813c297137106948d29"
    "te"
  end
  language "th" do
    sha256 "36e684042f99905979f64a72ab078c3d908439539f9f0436f3b5fca356f65a0c"
    "th"
  end
  language "tl" do
    sha256 "cd48097c6fdd7a60d69bde9765c87e1df2f117d2e83e3396928f0168936e9ad1"
    "tl"
  end
  language "tr" do
    sha256 "7b30ab81920d49e58da4b1137a15b18ea5d5856c2723feb15ce3ddad44ce6e70"
    "tr"
  end
  language "uk" do
    sha256 "56ba6d5e1c5081a8726e3899fbfd90afe0580f382000c8cf017673baab4ca267"
    "uk"
  end
  language "ur" do
    sha256 "2c9d032fea0958cd63612370cbd56a8a4406959d2a1536ff338ec497567e0c48"
    "ur"
  end
  language "zh-TW" do
    sha256 "e10f44a65913b7b0d12a925eacea4de0dfc45b411d694a59fd4cfa971c774c5e"
    "zh-TW"
  end
  language "zh" do
    sha256 "f137e9b86ce89e5492430be7664e145cd4c73761a18a7652294560fd0c898118"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
