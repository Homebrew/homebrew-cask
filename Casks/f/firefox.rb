cask "firefox" do
  version "124.0.1"

  language "af" do
    sha256 "84683f545dfd023dcc6d98ac0f5a45daabc97f5cd79427fd11183346e3fe54b2"
    "af"
  end
  language "ar" do
    sha256 "92421d1a5070a3d6a8342afc38668c2826171935c65056cda775cced4deb03ac"
    "ar"
  end
  language "be" do
    sha256 "28e3c5ad515fae68d9fd2e1f56a5891ac79830536348e82b1be08dc0b5f23625"
    "be"
  end
  language "bg" do
    sha256 "44f9ae894f161a5c7a26d5411fada44ca9ef90d5b92475eed4c3c354cb28aa90"
    "bg"
  end
  language "bn" do
    sha256 "d5dfa2c12a628f69b2839c829833b5b131ad4839ac37549947a2955d5fed4753"
    "bn"
  end
  language "ca" do
    sha256 "21317cb100fcb4d1643c5154e77383ec6222a5753b48a5c7a1c7e63fa8347135"
    "ca"
  end
  language "cs" do
    sha256 "b3f75ac227fa576423e96851e286583f73ce912a0db5277f1b5979dfcd53b350"
    "cs"
  end
  language "de" do
    sha256 "28158cf3542108c7ba9c151f9729fecf65dfea1fd8070345f3c95582bc9ec8f3"
    "de"
  end
  language "en-CA" do
    sha256 "43a5c3b70062cadfe53579bf0745960bd1d0c70d1eef87bbe31309bf3dc5ed35"
    "en-CA"
  end
  language "en-GB" do
    sha256 "bfd626d14b0b8dd4b01509d6ca3a00849e052020f77b76c47e681f5e006b27be"
    "en-GB"
  end
  language "en", default: true do
    sha256 "b7b260287296cf65193e76c20488fa75f98ff858ea1c2be4337ce5c1226ebcfa"
    "en-US"
  end
  language "eo" do
    sha256 "4d575df8a808102bdf570be67b9a6d4b37fda1a5fb2234cdf6e597f2e4f8e795"
    "eo"
  end
  language "es-AR" do
    sha256 "81a777ab4e9209e67dd1a290e87692caae6fa2caf3c20bcefc259783e610c427"
    "es-AR"
  end
  language "es-CL" do
    sha256 "f36cf38ffa2da3b85350e46be741417820914f0a9b5bf235b9f881a17b24ba6f"
    "es-CL"
  end
  language "es-ES" do
    sha256 "7020836399b99520b5ac3f48665a84042661379315b570dbd694c8fde938abc9"
    "es-ES"
  end
  language "fa" do
    sha256 "3dd8edc7fa90aada49266969087b3ff3d81400a5b52d19b962725a1ccf91b42b"
    "fa"
  end
  language "ff" do
    sha256 "71f40907a3ce47b8a89be3034d82fdb8255c5f15599afa8e02b168c105b5779f"
    "ff"
  end
  language "fi" do
    sha256 "3c95744dd76a674faddd6f4ba89831317c42db4398b4a5ac2209fd540a8bfff7"
    "fi"
  end
  language "fr" do
    sha256 "08a488d3aa37ae5f2b81671a01d9590bcee236472a87d28820bdfcb8ebd31a78"
    "fr"
  end
  language "gl" do
    sha256 "94f4946ca8366c417f64ce5b618797e54726e7c309f4c9e1bc588bd0930007e8"
    "gl"
  end
  language "gn" do
    sha256 "9fcb32965ca835d2ea2c099ff542762f5dd514f269eb841a012874ead1eaabe9"
    "gn"
  end
  language "gu" do
    sha256 "ad47b1d83cc49897ac4876b8865f14913191411ce54ac94c8870381b6bfdd7cc"
    "gu-IN"
  end
  language "he" do
    sha256 "3a25ab097b859397cbc5a101db5904f6bfe10224e58eb4a447fbe537777aac5d"
    "he"
  end
  language "hi" do
    sha256 "fbcc8d2f8824fdb02a2a0659a2bad2c4f8d64248d79edb3a41ae426b6859e13b"
    "hi-IN"
  end
  language "in" do
    sha256 "fbcc8d2f8824fdb02a2a0659a2bad2c4f8d64248d79edb3a41ae426b6859e13b"
    "hi-IN"
  end
  language "it" do
    sha256 "6002c62d72b67cdf0be6d7eb9a48ad57f54600fac0a8958ed341b4c16ae52483"
    "it"
  end
  language "ja" do
    sha256 "df1babb68b790d7bd31dd782ec7c17103d8f3b212f1241fdee222756916f41c3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "bb7158bbd115d3a35c178f67c611c17597f24c444b649f3a212f5e0668c03adb"
    "ka"
  end
  language "ko" do
    sha256 "d5714c3b51cd0dec35a08fbcf07f787d6a52ecc23357093904dd91068fe9fcc9"
    "ko"
  end
  language "mr" do
    sha256 "46193def794bd3db65095b475e69c20ab28d68edf1ed9e2b8291d4d9265c25da"
    "mr"
  end
  language "my" do
    sha256 "b380b0728d576962c8d65bb9ef7c67ac19285b72865ac874739671296eb5fcc3"
    "my"
  end
  language "ne" do
    sha256 "3ec88f8d6b499c744165a8f89b2944cfebf0a321bc8157c4d62462e179732449"
    "ne-NP"
  end
  language "nl" do
    sha256 "ebb05cfefc17b6645a40c4568de9c13aa82d13524eea38a70171c039cf6ba118"
    "nl"
  end
  language "pa-IN" do
    sha256 "3089279be3f5c530f9b52b8298a4b8e096910328d86b65dd5144c0180e8ab896"
    "pa-IN"
  end
  language "pl" do
    sha256 "81b4ff7d0fcb89b1a6973e9cbd7cd0484bd4c7ef7b0d7e9fd755af2412102814"
    "pl"
  end
  language "pt-BR" do
    sha256 "f74e5d26560ef8a16d753768455308456e120efaf83406d0486f03a482174ad0"
    "pt-BR"
  end
  language "pt" do
    sha256 "f659e3788c8ef0aa2cf868b2028e6d888afaaa22f423c7970896cb958776face"
    "pt-PT"
  end
  language "ru" do
    sha256 "ab3ea884035d6c817c79eb208d6a00763dc035f7afbaa6201553d927e28a32bb"
    "ru"
  end
  language "si" do
    sha256 "44be3967b750d041dc9632791965b517d90b31a7df8eb19c2134f974f6eb47cd"
    "si"
  end
  language "sq" do
    sha256 "df2c7e4fad37d53036db79a8d20ac66d16758fe0fbc3857abbe7de1e59325d2b"
    "sq"
  end
  language "sr" do
    sha256 "6cf32ae3f25506e0c6800dcb1d8b79ff8b79c7b857c4a40d4d9be64019882665"
    "sr"
  end
  language "sv" do
    sha256 "927bdb5fb2ef406c8da68543108fdf62071b7194fae3dca3709d8b373d815479"
    "sv-SE"
  end
  language "ta" do
    sha256 "f8e19ef973e75e62c9a6df208bc39ff10ff3af32bba0bec128b255bc92a69f53"
    "ta"
  end
  language "te" do
    sha256 "385100139af1d27a283ffd70b861ec266fa626f3bfa5d37aff0276477c9d3e99"
    "te"
  end
  language "th" do
    sha256 "5bb85a174f0217abadf1c48623dd9280c7f2c64e0c74c68c54993da3e98a90e0"
    "th"
  end
  language "tl" do
    sha256 "f451417d3a8e79df629603c6df459163288f2c2c9786e3ddf2d1aa3758f22b23"
    "tl"
  end
  language "tr" do
    sha256 "02fff783ba584da2430cb8debba7244b65f3d3f232ecc1254721dd69b7f300f9"
    "tr"
  end
  language "uk" do
    sha256 "f3a049dc78ae6ffd2df016d9832ed7e69cb77479b9f6b6fb3c17f6e51d906b82"
    "uk"
  end
  language "ur" do
    sha256 "0ddf6ad888e03f8bd42206158416dc743b7c45ecb702a73eb0fef12db6129100"
    "ur"
  end
  language "zh-TW" do
    sha256 "683eceb9dd176e505769a1262467bd264008e1fbf1be10acf0dada72129636c9"
    "zh-TW"
  end
  language "zh" do
    sha256 "820f60ad23c5d6c3068cb89bc60271d76961fe99a1412afca200fba45d997c98"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
