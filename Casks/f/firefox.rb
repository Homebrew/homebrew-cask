cask "firefox" do
  version "127.0.1"

  language "af" do
    sha256 "c8e1747d76459618e74cc8d0c398942308899c0822dbe92d0d0b7f5af6367876"
    "af"
  end
  language "ar" do
    sha256 "dd377d84e503d572509beff52f644acefc3c3c03ad1172f058c8be0ac55f24d6"
    "ar"
  end
  language "be" do
    sha256 "e0efba4ea2d6d020567ec9dc3897364c9ebd74de5a195409110395964ae88654"
    "be"
  end
  language "bg" do
    sha256 "bae7458cb7ae67f784c42794b529494397202c60de82c47716ddb8ed0a546d99"
    "bg"
  end
  language "bn" do
    sha256 "8a55890c728ca82791086582cddd2b2d75cc6d052c81e5f3adf90a0c6cc1cbc8"
    "bn"
  end
  language "ca" do
    sha256 "b2f26d4309567d2959a4856c347c2ca49d377929dad59c186bd3c5a913ffb68c"
    "ca"
  end
  language "cs" do
    sha256 "83ce34411a72c9c832b460ac5858097d72a85b4a7cf98beac082a596013fbdce"
    "cs"
  end
  language "de" do
    sha256 "fdd3ef11f4461ae69699ae0e8b500f93df77b124fe2dda2011e325edc94608e9"
    "de"
  end
  language "en-CA" do
    sha256 "ef551bd2375cfd0795426c0f0de775e3aa42c598c6fa652ce487cd524db080b7"
    "en-CA"
  end
  language "en-GB" do
    sha256 "ca00b2334be2169a98f118e7d9d57cafc98d3980d567a04a3b62e357941ceadc"
    "en-GB"
  end
  language "en", default: true do
    sha256 "b26e36efe95b2cb0c6c01b726587183c6e6e324fd51b5a0b95c1744bf1a54c3d"
    "en-US"
  end
  language "eo" do
    sha256 "6fd1365ecf2e9f696049d76d3594e41447ecf64aef1d49766838c0980393e5c0"
    "eo"
  end
  language "es-AR" do
    sha256 "c96b2cdfe7275f4783797141aad1ac9adcc359f0367a83767645b10054c15020"
    "es-AR"
  end
  language "es-CL" do
    sha256 "b3cb86e550061ecffc1965ad5517ece0915eb7e36760ad72ed8e9813e31cbedb"
    "es-CL"
  end
  language "es-ES" do
    sha256 "921f2584b6059f78e4c0b6c2b63d9dca51e27bdbd8030bc95d4251e5607f3f1f"
    "es-ES"
  end
  language "fa" do
    sha256 "0d2712be2ff4a5c6cdddeb5f502d2800f2c4f6798101dbda9a50ec8dc3ec72b1"
    "fa"
  end
  language "ff" do
    sha256 "4b18f736edc19026d6849f30afdd692d6d2749753156f9c29931848cac5828f6"
    "ff"
  end
  language "fi" do
    sha256 "1a8e4538f8eb1c3fdd7d7f2632903aa263a404744f795ed13038a08b30f4c69a"
    "fi"
  end
  language "fr" do
    sha256 "64c6c45291fcce310831aeb9eeeef55f7affb4bfb769ecd31dabb74f2fa23413"
    "fr"
  end
  language "gl" do
    sha256 "eee1b26b66ccc52cdd670cdc6557907b9de8f252336f5f294a6b852013a28c03"
    "gl"
  end
  language "gn" do
    sha256 "1870efbf74d57f972d875649cd1888e109d5e2f0991f2a97f5e35c3b45a91e3f"
    "gn"
  end
  language "gu" do
    sha256 "3243b61777a213234e7852426cdfa5b5499df4da2ab49c14f1078070d1ed7a74"
    "gu-IN"
  end
  language "he" do
    sha256 "f4fbc512bc1e5c1e71f17e60ec02b18f71ae42079d3cfb5b9585dee36c866d39"
    "he"
  end
  language "hi" do
    sha256 "bda2c1a3b678124ca330f34e2de383f4133c82d25224ff33fce92eb4049123d8"
    "hi-IN"
  end
  language "in" do
    sha256 "bda2c1a3b678124ca330f34e2de383f4133c82d25224ff33fce92eb4049123d8"
    "hi-IN"
  end
  language "it" do
    sha256 "da7c3691a12b0f338bad070b431cf3042fd1a5f8bd6cd994b019f7f3b49e7cc4"
    "it"
  end
  language "ja" do
    sha256 "829b140f63211ba799f14cf0057185ea7d83948c52e3bb18c2299cebfe348173"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "09ac477f6221508c9a40ae699ad28571f43265697d8381d410355645c64a9bda"
    "ka"
  end
  language "ko" do
    sha256 "0a067ab0df4e94a8fecd6d55d2f2545b81c748ba30f7111f42fa0c7b11ff4ee4"
    "ko"
  end
  language "mr" do
    sha256 "ec7b29c30db6b28f7b0f72fd62da85b31fee0bcb107efe7905ef8e3405b92e29"
    "mr"
  end
  language "my" do
    sha256 "449c213fcdddd6505c35968c4bda98617b917ce1cbeb998325b3526072e72004"
    "my"
  end
  language "ne" do
    sha256 "90ce5413bb98735019a1888155eb5b3589bc5fbaa48e9c63c4c3edc90b813b9e"
    "ne-NP"
  end
  language "nl" do
    sha256 "ffcd1534305f749d966fa64c53632d05d40e9dbabacf098768b29b82a09b26fd"
    "nl"
  end
  language "pa-IN" do
    sha256 "be933d0f9205fdf2b5d7eabfc60dccd6a0d488fb29c698000dc0e3c1592aba67"
    "pa-IN"
  end
  language "pl" do
    sha256 "af7eed08f387a4fb2a854d8848e0ccda973ec5b195237ad5ab0c906182ce6c51"
    "pl"
  end
  language "pt-BR" do
    sha256 "3f784c2501a596a9fb80e6ebd6ec267861bd0421710283d4e28233db56618520"
    "pt-BR"
  end
  language "pt" do
    sha256 "f400b490c825858a308f1cbf7bb7147327e827452050bd6ad9d83a3f7cec1d3a"
    "pt-PT"
  end
  language "ru" do
    sha256 "fe829f9e16439ee55480b658a3b991248457ee52642d1e5db900b6b16010b080"
    "ru"
  end
  language "si" do
    sha256 "d688d793f6861f4bf7b9abee1644c04d12cccd7711a551b17bee054d868641c8"
    "si"
  end
  language "sq" do
    sha256 "c7cd9dd56adb04a751f97887e8638447b78fe87020da50be6a7b8ce545ae80c2"
    "sq"
  end
  language "sr" do
    sha256 "258c5426ce6b7d29783023a107e7e4968253561e57629c9949e9459e7e4f70b4"
    "sr"
  end
  language "sv" do
    sha256 "c42d771e5c9ccd5eda84dcf78003db1311b750ec921159ba1630465a09c97b7a"
    "sv-SE"
  end
  language "ta" do
    sha256 "ef31740eba76fec8bf667468525518491b01b90b7de6ffd3e74f575b0cf75b4e"
    "ta"
  end
  language "te" do
    sha256 "801d284df358bd298439dd9ee72d04e210f84111ccce0de9dbb5e9442a91438b"
    "te"
  end
  language "th" do
    sha256 "c889be6ddd66133db51fd6a213aab2222e507e1f1adb66c664c8ea533287fb81"
    "th"
  end
  language "tl" do
    sha256 "073707d24ebeed60ca2434fe8e37e6fe4615e55bfd9eabd7dbab53820a1d7b8b"
    "tl"
  end
  language "tr" do
    sha256 "f485994539eaa226d9acb69b791e14d71c4586239bf4a5ca5c3564de2913e423"
    "tr"
  end
  language "uk" do
    sha256 "72eb10bd7533c18d4de50f225f3915406d3cf5c35c153435d5728e7060c3436e"
    "uk"
  end
  language "ur" do
    sha256 "ff2ddc5f32eabfd7a92e654b8f4b9e8cedac48e9a60b7495d467252233465e90"
    "ur"
  end
  language "zh-TW" do
    sha256 "f47d54bf41f7aa0cd8db530e0d82bfa43e1cb75a9d5e39918f17cbef075d24bd"
    "zh-TW"
  end
  language "zh" do
    sha256 "64d4c5227ce824089440624486faaa2065a6cf79f2f700adc02c6b91951fa6b3"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
