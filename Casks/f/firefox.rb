cask "firefox" do
  version "120.0.1"

  language "af" do
    sha256 "b9a5df06034508d6210f764ff5ed3d7aa6b1d4e176d60dcd3b1971ca1b732e3d"
    "af"
  end
  language "ar" do
    sha256 "49c0a7178c681ece43f25ab6803fe057ebfe104c31b01a5203dbf5a05c036102"
    "ar"
  end
  language "be" do
    sha256 "8b9f81bc75bf4534a72dbd95d1a1668124ba4f993b8a0b45906ee227d20a5fa1"
    "be"
  end
  language "bg" do
    sha256 "accd6a8ecb648f09f2218ca86ab013749ab979c7be3fa1a26c4ca855fd4f5a31"
    "bg"
  end
  language "bn" do
    sha256 "b0a31b17ff944809915c806e6c97a64f1cb0b341dddc0f93a63e98c964ec760f"
    "bn"
  end
  language "ca" do
    sha256 "c1b1b481062ed1e936f74738068a962428e39d74db7af3976ad53a6c1b34ea49"
    "ca"
  end
  language "cs" do
    sha256 "59beb8f6c346366d0c0345791c5f1defe5cb9e81d68a2114d736c0672ce31c32"
    "cs"
  end
  language "de" do
    sha256 "1d981e002eca48a3b8e3a7bfe53931ec4913a6308cd28ceec0d0476b6ec55361"
    "de"
  end
  language "en-CA" do
    sha256 "ad284318c0d5cfa528e7abe5f86706af658e3efeeeb0538bcca9e7c455ed95e0"
    "en-CA"
  end
  language "en-GB" do
    sha256 "080115ed2fe0912d79ace3ca58c6aef08018d347ad0b6a9528e508b8cd0605da"
    "en-GB"
  end
  language "en", default: true do
    sha256 "b30cbaafe57c49fd334db05824b1641b75227da2415e6ae1751f72f9a1335d2d"
    "en-US"
  end
  language "eo" do
    sha256 "09348aeca04a3c7257b42de92ba7c4ab753e59bd11f9650920e313361addb13d"
    "eo"
  end
  language "es-AR" do
    sha256 "8867efd5b5f3d83ee3a5e66803827141228d99d2cd0e41883d5947c52fadacff"
    "es-AR"
  end
  language "es-CL" do
    sha256 "b1ab530bea085c2ddeecdfd8cc5fd3788c191a44bebfe4b7106fded73a08348c"
    "es-CL"
  end
  language "es-ES" do
    sha256 "81cc527e8ce78721b1b8c30f897d643ca77c1a7167e604ed49c6482298acec6b"
    "es-ES"
  end
  language "fa" do
    sha256 "d6c71d5d4801a853a4c2aa8f62bf518711975b6fc8f4a6ddb65b8cb3abae26e3"
    "fa"
  end
  language "ff" do
    sha256 "b77bf27eb3a1c9cd232303ac38ac36732f4bbde162ef16f05fa1df022a67a6a7"
    "ff"
  end
  language "fi" do
    sha256 "733d296238ce809af8646cc3b19f8381f57c662915fa4525bd4605be172c707a"
    "fi"
  end
  language "fr" do
    sha256 "f8fe395d4282750621f120bf8da819561a47326f7f9c7458e05635b446b35d79"
    "fr"
  end
  language "gl" do
    sha256 "479491dca3c3ba69e7b9531367e219fc417233eacfa854f6064d1e14acb629d9"
    "gl"
  end
  language "gn" do
    sha256 "4f3cfb6c201a53f7a160357f110234a0d94edd2ed4a4a11629b80bde877187db"
    "gn"
  end
  language "gu" do
    sha256 "2c194d91091309cab370a2c2706bef3a80493bb55cc7b94bdab69df0416dd5c8"
    "gu-IN"
  end
  language "he" do
    sha256 "cd7008a94e6470acd38e37b4efed243f3e07391cc1e6ef94d1a1635c9623c144"
    "he"
  end
  language "hi" do
    sha256 "608bd392f44365abe9eb97c29d432302820517787d5361766285e972cc7b29d4"
    "hi-IN"
  end
  language "in" do
    sha256 "608bd392f44365abe9eb97c29d432302820517787d5361766285e972cc7b29d4"
    "hi-IN"
  end
  language "it" do
    sha256 "f142af86c8f289819df64873b61788db042603c733da700ea49bbfd3029ca42e"
    "it"
  end
  language "ja" do
    sha256 "b6a6202a2ed5024dfa6febe6bc93a50a01766c9b416dc994f9785c8833405a40"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "f12350fa7eb3d8668a74bc2f8b173f618419670002c165874fceb59bc782572b"
    "ka"
  end
  language "ko" do
    sha256 "c4f33158952121b519a77d786fda39f6bf8ba3be097e28a17673c2f76e82f780"
    "ko"
  end
  language "mr" do
    sha256 "db2689c59e9ac9d68b9e2b8a44cc0a6c6e5e74643ca947ae36d6e3d498f3f0e2"
    "mr"
  end
  language "my" do
    sha256 "d7f36bca706f87271836944f166bdc6341e1d7a33d2aeafdcbd00687eb2767a8"
    "my"
  end
  language "ne" do
    sha256 "e8a6b1a70aa17b8d8306c2a67727b39de3422b9b15c9201a69fd7a9681999276"
    "ne-NP"
  end
  language "nl" do
    sha256 "093010f2dfe3c36398a17e01238e61c163c0519add81a44ce0d5f48ad17304ed"
    "nl"
  end
  language "pa-IN" do
    sha256 "2406cb83ce81e5bb249cc1cca0dd67791a5464f5c3c47fae9e7ec515ce6905fa"
    "pa-IN"
  end
  language "pl" do
    sha256 "376e835cac514d3ba1747ac528f7a673a3c4fd4473810320a5549638c9e73576"
    "pl"
  end
  language "pt-BR" do
    sha256 "f4f5daf2778d1e934d4c4cc14c4dc7e0e5dbf6434327479a9206e147b61aac14"
    "pt-BR"
  end
  language "pt" do
    sha256 "916c9bf595297a53d87475f8721505924ee5cf218a48b90e4da94291d65fda80"
    "pt-PT"
  end
  language "ru" do
    sha256 "4ce48e402062e36ca863a31177cbbe606ad7104dafa1e11201b1351209894f63"
    "ru"
  end
  language "si" do
    sha256 "1d6471b457b7f01c208072310f19a459f1effb83b10e0e2d9ef6a0dc7734eba7"
    "si"
  end
  language "sq" do
    sha256 "e0b1e8022c9d39f1b9df366b048bc0d3f4154fccc7af8e108db66cef9eab5a23"
    "sq"
  end
  language "sr" do
    sha256 "ddda34df87508c48e7078a3ef141902b533027045d528c4b5ebf2d61c89646ab"
    "sr"
  end
  language "sv" do
    sha256 "d5032c2487cd98d41d2a718ea4d7ff883d4fdb54a827e1f2ddb8ffe53696e968"
    "sv-SE"
  end
  language "ta" do
    sha256 "3b4c01dae060ccec1a8d14bea16578bd28fcb9cd469df3e28c01087ee0bbea6e"
    "ta"
  end
  language "te" do
    sha256 "39f0b8f9c397433fb24f219dde83a2d6391499811b9558b7c285c9448ef1c840"
    "te"
  end
  language "th" do
    sha256 "b2606d6428521def9d39e72a719f5c25571e77e6fa4374ade341852f7a99121d"
    "th"
  end
  language "tl" do
    sha256 "30ffa12ff1354fea310bd4fc3523f4ddcd1ba5c47bc4bb213a00d19c4cc4404f"
    "tl"
  end
  language "tr" do
    sha256 "492ac353860770d7886d46205830c6184f17ee7f32398a419ca0dc86cb97cf1a"
    "tr"
  end
  language "uk" do
    sha256 "adeb2a544d2a5e10de83ec5f8e40859b7c5ca5f4bb1ad562a8821d1dfe14fc55"
    "uk"
  end
  language "ur" do
    sha256 "d50ae5574dbd21f3dc8f2d3aac725e9fae7e24d6f5b0ccf7be4a1c08f1f19bf3"
    "ur"
  end
  language "zh-TW" do
    sha256 "7324708d26b1d2a75da5d3a1a1506f271d04ce87521cb1ab48637624ef0705f2"
    "zh-TW"
  end
  language "zh" do
    sha256 "e7cfb6d7cbcdf7fc6812c9f34e79c38a7f97df97a9d8a3f0d74e71ed8d4fb5cc"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
