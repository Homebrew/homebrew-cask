cask "firefox" do
  version "132.0.2"

  language "af" do
    sha256 "cf9b30d5914de5e0eaed7bd6624ec7db5a36e8f7b90740ff928c061fed422617"
    "af"
  end
  language "ar" do
    sha256 "a602c7ac3a2c86d6ecf4b8fd4bc4f5b8722352eef8aae9a8f757fcca0debeb4f"
    "ar"
  end
  language "be" do
    sha256 "43287e00380b9001421fed12a520d330c4f025859cf649ea7a47bbe66666c91c"
    "be"
  end
  language "bg" do
    sha256 "38e5f153432b36600254df600cc9986b7e21f898dcba9f6bfd5553cc728e518d"
    "bg"
  end
  language "bn" do
    sha256 "7fc64a7898d879b615a91c473c666ec76b44b56cad080dc450da30cb5b30f6ab"
    "bn"
  end
  language "ca" do
    sha256 "4a5c1f2a356547ee669c8bfb0061557937768f5750a61bf4b92987f27198db52"
    "ca"
  end
  language "cs" do
    sha256 "0d849edbb457547652a7efbdeda1eee4e4aa16634c3604c86d003c608c0981da"
    "cs"
  end
  language "de" do
    sha256 "a503e26d195cb360943326b74ccc0c1b143de1ed3834412950849bcd93dc71f7"
    "de"
  end
  language "en-CA" do
    sha256 "001e50212611194d713ef4eece7ed52ab6dd0fcd719713e000c63f3907101a76"
    "en-CA"
  end
  language "en-GB" do
    sha256 "4e1cc4774406d0b97ea6da9e479ed0d0d6a908a0e3837674acc9632982febc76"
    "en-GB"
  end
  language "en", default: true do
    sha256 "233251c46eb4964868d815a9233cab855ac6160736310771a67af93a9b78224d"
    "en-US"
  end
  language "eo" do
    sha256 "e9e8e16e623c5cd065682a7e8984b6034dfea69a193ed554f5b5dbe156beaad0"
    "eo"
  end
  language "es-AR" do
    sha256 "2b3d8c130b4c39ded7abf72f6d7e601d55f8f4af57e300c0d78e83d2ae21f1e3"
    "es-AR"
  end
  language "es-CL" do
    sha256 "8f58553afa11d8caeb5e4f32a4d8139d1813338d5a9b85fb5ecbb6615e668291"
    "es-CL"
  end
  language "es-ES" do
    sha256 "fd42521c30fbab4d645d250364248fb259bca60606a3db0854710c233bd2d84c"
    "es-ES"
  end
  language "fa" do
    sha256 "37b9623feb4876cadf2eda16eca7aca73479180cf09d4030a182b384038f5ef0"
    "fa"
  end
  language "ff" do
    sha256 "f8ed49865ee4635594d1e9020a42a9508fb32b1a6d34f4d4ccc0367b2f3829fe"
    "ff"
  end
  language "fi" do
    sha256 "3b1895f716ba67e76e46ffff32553937694221359a0d9f59ea953e4f1dd7368d"
    "fi"
  end
  language "fr" do
    sha256 "3927334bd669e5da1835ec63cf6d0d2ff154211d7a65bd84ce0c94d9ce8cc552"
    "fr"
  end
  language "gl" do
    sha256 "ef11c7c19bb6a6bb3d77db1e120b5d27cc42d368e33eb26714243ed77e246743"
    "gl"
  end
  language "gn" do
    sha256 "82da38fd55b4fa394b4c769c53acd438e3fd068eb3b4c6a2203024068a66eb0c"
    "gn"
  end
  language "gu" do
    sha256 "3ef4ecabb6c6a86578f2e36bd7597e143603065298fbaadcb825025dbaad5972"
    "gu-IN"
  end
  language "he" do
    sha256 "912dc6f92521ab7caf325b9361d7ac677973e7482a11fa0003cea2eb24e91d13"
    "he"
  end
  language "hi" do
    sha256 "8983c18f8f23568bef193696bf12d907b9e54d51fd6b1b6187799afc2af6a62e"
    "hi-IN"
  end
  language "in" do
    sha256 "8983c18f8f23568bef193696bf12d907b9e54d51fd6b1b6187799afc2af6a62e"
    "hi-IN"
  end
  language "it" do
    sha256 "58543fef88093d6636524a7d26fe0f12aedd9a5e67d73b4d80e9ce05b9d81b90"
    "it"
  end
  language "ja" do
    sha256 "47c905155fb48144a75b133d3746933753d7edbd02fad277eb0f35c5c195b4c9"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "1808b43d6570b8c0e5ea18f26a35595f72fb964d57c47aad7277cc1003d8439d"
    "ka"
  end
  language "ko" do
    sha256 "25edbcf7496a40a3d3928e3b8e92c85c3640018c08f05c59a71b6720e28f96dd"
    "ko"
  end
  language "mr" do
    sha256 "ea8bb5b64c54a91f62e68fe15318d163754f54027800ba4d420b012c6fcce865"
    "mr"
  end
  language "my" do
    sha256 "fae5494fdd002bb7669e54634711df616f4a275dd999ba4b588d653cc5c4d7c6"
    "my"
  end
  language "ne" do
    sha256 "8aeec24e1d2f087923bf347a2ceb1b7871a25406a6dcb72eee39811e96b6977c"
    "ne-NP"
  end
  language "nl" do
    sha256 "81fdd7e4912aee4ed20de59a8ee54cb1cd0d514a2b52f60a2c7fd27b442e11b7"
    "nl"
  end
  language "pa-IN" do
    sha256 "9c70a3457b80fa21f673fc6c71391ea1699a1c1c0f50d1d72eb4d692c803d67a"
    "pa-IN"
  end
  language "pl" do
    sha256 "3322cabcf25a62104fd8e5b6524d2b5c6245af06cb21b78a5c6511820234d077"
    "pl"
  end
  language "pt-BR" do
    sha256 "254b64e4ae4d342c4630c7f4d190d339808c6575b327341c07f4def8b61b4061"
    "pt-BR"
  end
  language "pt" do
    sha256 "ad7c1bb1d20f572d585611038ec111fedef7e73235538627296dd41626dc3c5a"
    "pt-PT"
  end
  language "ru" do
    sha256 "687ba0871e94390ef2c8bed231910321fc36f62e2a2ceee54425cd608fd4003c"
    "ru"
  end
  language "si" do
    sha256 "bc412b83fd1c2c06fcb60764adef9786a94988884d1f5c0cde6e2cfdde7f082e"
    "si"
  end
  language "sq" do
    sha256 "1260e825121affc2fe7430d092087f5ab946519d792057da733a8acb9aac0d68"
    "sq"
  end
  language "sr" do
    sha256 "1545a4e6d7d8e548bc2dd4678139a2f464a8c9a16732071b25c7f7217d71e07b"
    "sr"
  end
  language "sv" do
    sha256 "03e3e8f812daa48a4d1d0fc8b0f75c338e74f6ec438942bb8b99a850973918f5"
    "sv-SE"
  end
  language "ta" do
    sha256 "2cab36a9ce3e2ed2033f98875c49647cbf3bb2bb48241a49e7d4c3c672c4ce3e"
    "ta"
  end
  language "te" do
    sha256 "df6ed94d2eb0745bec29e1bf3795efe82c8701b28adfadca4f05cb635fa7b1e4"
    "te"
  end
  language "th" do
    sha256 "3ce5909c9bc9bba68947def10a524b3ee31b751dae397a6a39745a903559834f"
    "th"
  end
  language "tl" do
    sha256 "9b4895f6208868fe358de2d9931eb37194dd87887a726afcb67a8835763d2cf5"
    "tl"
  end
  language "tr" do
    sha256 "280362a201002586bd41938734352eac831ce8386327e752c9e6d417971fbf0a"
    "tr"
  end
  language "uk" do
    sha256 "c51eaf0cc43cdacc7d1cd6bcf713b9011ed0426fd7f3d59fe95bc8cdae850c80"
    "uk"
  end
  language "ur" do
    sha256 "a2ff9b1f7aa80dcff892a29b77cebe4e9c8cb9ce2317594fcc1cf26e0dea8066"
    "ur"
  end
  language "zh-TW" do
    sha256 "233a6cf134332ddb8b075204cd0d70e9c534b574d1821194cdde7b3b9324eab5"
    "zh-TW"
  end
  language "zh" do
    sha256 "ace92136fbc212959b95cf22c2c6a15ba7832aeeff1fe0b141024e343fd823ed"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
