cask "firefox" do
  version "119.0.1"

  language "af" do
    sha256 "023f290e037f2ae8d6061e3c0f87640fa44a369951b8a0d98503fde1a98d6b1f"
    "af"
  end
  language "ar" do
    sha256 "3c7bbf7dedd83021148a4b0a174c135e1d1edc6b498f99029a8100f190c241b0"
    "ar"
  end
  language "be" do
    sha256 "ce6b0fe4cecf274180d892c421b84f8da96e9b9c62832588650e976d60b95650"
    "be"
  end
  language "bg" do
    sha256 "dbb499a849820cf354722e7541925e34e08d655aa78353cf34b914427cea5afb"
    "bg"
  end
  language "bn" do
    sha256 "3e5898309123b7c32411c261884554a81451487a18eea2d016fe1892c1886418"
    "bn"
  end
  language "ca" do
    sha256 "2adedfd1d47bf8174c6fde61b4981e6683386c9812534d0b2c87c3bc78bc952f"
    "ca"
  end
  language "cs" do
    sha256 "7bc42c011a6393e0d3b080f81f7575ce93944e80ac3abfc6a48be156e1660d85"
    "cs"
  end
  language "de" do
    sha256 "347caa7c212caa44b2f6e75f97fe60305220dedebca182cb5418a08e7843c99d"
    "de"
  end
  language "en-CA" do
    sha256 "a48f1a7e34f6b55aea4c9ecbe5b57cad97ac3d0b4695efbc2fbabfd13197fe97"
    "en-CA"
  end
  language "en-GB" do
    sha256 "aae75d604e341219cac56a6775b7283c5fcc2b65b5274dd12e4c94a20acf5cdf"
    "en-GB"
  end
  language "en", default: true do
    sha256 "e8aaf761df3a59e29bceb0a3331b097ba9a72a300d5dee677d11b908c8487701"
    "en-US"
  end
  language "eo" do
    sha256 "5c370937cb9f026e208d59bf0531c94de8fd8ddf1615b75e0ed4c341059c972f"
    "eo"
  end
  language "es-AR" do
    sha256 "d5d60351b2f9f2984ecd8f6d1fe4e2f5db534032d8ecafd376b7c9821c76d531"
    "es-AR"
  end
  language "es-CL" do
    sha256 "fe9886488477f9e56b4145a941c8c5f8acb2140413f66f1f8a6e7220dbf57659"
    "es-CL"
  end
  language "es-ES" do
    sha256 "3633b84b228738e712b8a32e1e8ea4bd7b20c3ba4e4c62391a2351531ca2ae51"
    "es-ES"
  end
  language "fa" do
    sha256 "cbbea86d9229fba5b965cdc1ef33e56ea2f6d28984b2e684ab4347e3e7fcea4c"
    "fa"
  end
  language "ff" do
    sha256 "3a8fe655dc6b42d5476f578af334f496b6756281f23290265bdd9b960096d460"
    "ff"
  end
  language "fi" do
    sha256 "f8f8ee85884d3e89af253f1a70676550b465fade86b72cecb07c715f2234932d"
    "fi"
  end
  language "fr" do
    sha256 "979852d5754e3aac160a50a77f87f07a17f3ab909be13bb8d7b02d8ecc77384b"
    "fr"
  end
  language "gl" do
    sha256 "b7f6843225830330e592ff45648191382400c6562861cfbefe10bf2f4b95634f"
    "gl"
  end
  language "gn" do
    sha256 "755c2585e3c82af7dbbb8d3b967db9dfcff0b5cfd107dc412f086909e81d648d"
    "gn"
  end
  language "gu" do
    sha256 "862ef8ad6862954e5469503292face716fceabc996430f3bd83f1ede32686ed1"
    "gu-IN"
  end
  language "he" do
    sha256 "599eba35d029b4952c6836ae6629b2d0e552bbdbc33f92bb5b4fefbbafbd7ff5"
    "he"
  end
  language "hi" do
    sha256 "bbfa0631feb386a873ac1895c2262db80c07affa1a4d72e6d2922f9d998b981b"
    "hi-IN"
  end
  language "in" do
    sha256 "bbfa0631feb386a873ac1895c2262db80c07affa1a4d72e6d2922f9d998b981b"
    "hi-IN"
  end
  language "it" do
    sha256 "299dd3b5c0813656e575cf8acc0341d9305b4d8f7940d4041a027e32903816aa"
    "it"
  end
  language "ja" do
    sha256 "3f5068783048a331d00e2fa1187b7cc2b30c6ea32a1c3ab469eb8b40bda12499"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "3770e7414b6eed303d9f0239f8eb6d0bb625e111a36a7dade6cde6132c2b4362"
    "ka"
  end
  language "ko" do
    sha256 "0a9075cd6a9987199be633e6b54b1f0b00cf345216f8d00a849cdad6ff8971ac"
    "ko"
  end
  language "mr" do
    sha256 "93ece9716dfe9a7d32ebf4356c615d9d360d783597103d0eca80fb5bc9079b84"
    "mr"
  end
  language "my" do
    sha256 "f4e13a3f13bb6f0c7216dd37b9b463cc47a6813e8bab387c90de5040768aae6c"
    "my"
  end
  language "ne" do
    sha256 "fea7de4fb7202881a848a5b8813af8e16eb4c579c285ca7c0f0495f8ac1e6c24"
    "ne-NP"
  end
  language "nl" do
    sha256 "821f761dc40a90c1e24f2011c70d5a22f075639058beb0548af3cc406c84523d"
    "nl"
  end
  language "pa-IN" do
    sha256 "dacc36402bad3a553215696e7a0ba55da8fc193d8ce8c7a5349f970a532009ff"
    "pa-IN"
  end
  language "pl" do
    sha256 "64585ec8a7de283fc1aadaaa91f7636b8183ad217ad9829bc41537fcc75d01e3"
    "pl"
  end
  language "pt-BR" do
    sha256 "4c23ac808c4364b1d2d73fb2cdbe04c2713cea0192b8e4ef97bf601118400c12"
    "pt-BR"
  end
  language "pt" do
    sha256 "6210c9ec8573aa37615dcfd3519166131449b49b75bf9b99f2b26a7368fadcae"
    "pt-PT"
  end
  language "ru" do
    sha256 "17ca1add10d28a36fef142d3642b0f1017e786be19d8099e0002b7a8912a5c5d"
    "ru"
  end
  language "si" do
    sha256 "3432b751db7d5020425f1d9747c377d0bf7c70feb0f1d091974ecaf84679622c"
    "si"
  end
  language "sq" do
    sha256 "a0eb928613d0a9ee20101a792cb2f0e563e2ae8355d905b19730f9f2cb605c94"
    "sq"
  end
  language "sr" do
    sha256 "e264d44084874acde6e595d95b848d6897ddafc50cb01ccf57b462018ec4db66"
    "sr"
  end
  language "sv" do
    sha256 "cb028d5aef8d739054c4c0335cf7e316150e020d2ebd9518f0d108291edcdcfc"
    "sv-SE"
  end
  language "ta" do
    sha256 "402fbc3a9b77bcaf7f3233a5c4543fb0f3c54ff79166f063525fc6e22243a99c"
    "ta"
  end
  language "te" do
    sha256 "3304a31a60397b5596e20c0f4a0461c3820b155180c58abddb664ba59794cbc6"
    "te"
  end
  language "th" do
    sha256 "dc284b9ceec95ac031e7fa22c99968f41790f86538c2ec389c3670108553449b"
    "th"
  end
  language "tl" do
    sha256 "df549e6d67afbd6a2bc06a031ef900e78b6c18aa66971bbf06496e0c901fd2e4"
    "tl"
  end
  language "tr" do
    sha256 "ba263c02e58c77907bca1d60c8ce2e6a9cec3c3ea72ab435c02670c68144a3bc"
    "tr"
  end
  language "uk" do
    sha256 "2242e9cc0420db1b04a764ec48917d9774f49e796c7911c748417724bf33315a"
    "uk"
  end
  language "ur" do
    sha256 "65be2d629702e1ec828d7dd87c3571579a925210f9bc454c0139723e44ca46c0"
    "ur"
  end
  language "zh-TW" do
    sha256 "5c76009a1bf0b858646907f9b1aa1b7c3a82d98b1004f1557244e7e9d013c1e3"
    "zh-TW"
  end
  language "zh" do
    sha256 "b40aca63fd234412c21f62c4e806d06b801d623ade65fb4ebeadaa6b73657e49"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
