cask "firefox" do
  version "123.0"

  language "af" do
    sha256 "f0ad3b9e0dc52de3a909aed6bbf4ae491b63b06271f3045da8215b2f50b670f7"
    "af"
  end
  language "ar" do
    sha256 "8289529f653e37827a35c4608c453e9e17ed7f643fa20b4a7a3d80756c210281"
    "ar"
  end
  language "be" do
    sha256 "df768850bfc37bc5d5d01e7ced6860211e2ce2503561fc30201c257fca0d72aa"
    "be"
  end
  language "bg" do
    sha256 "3e805385816eb2545c5b12db60299ae2d881fb1451c0f36c179003d706e2b63c"
    "bg"
  end
  language "bn" do
    sha256 "839c294e732b34780ba1197df889cd47a9eacf9a621e088febe795600f7e7093"
    "bn"
  end
  language "ca" do
    sha256 "975b874ad6b3b7d2f0959d9eeeea1a25c61bfa35c1830007fc08a550c6e06bdc"
    "ca"
  end
  language "cs" do
    sha256 "25567a8e02ebaf2197973039365ce8a29e6843bc0ed81b33ef6758555ee65968"
    "cs"
  end
  language "de" do
    sha256 "61cfb2f98a0b8b45e2a0a14301f83acf495815894e02ec78e5c47bdd2c65b444"
    "de"
  end
  language "en-CA" do
    sha256 "bc4c5406998cf0224e550bb8ef602fb7173947684137a31f9c0dfb583236fc22"
    "en-CA"
  end
  language "en-GB" do
    sha256 "7843320d2cfc810ccee4638cd786249dd6ee2820aaca7077c41b3fc7de53377a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "80321c06df972dcf7d346d1137ca0d31be8988fdcf892702da77a43f4bb8a8f1"
    "en-US"
  end
  language "eo" do
    sha256 "499b0b980b75602d0a057c1a04e3c7aee6a5e401c4cc193fef0c8efa087da63e"
    "eo"
  end
  language "es-AR" do
    sha256 "856b3b33e86c2eb01e016f3da0232fd1bc53ae890024c867e343ea1a4f482519"
    "es-AR"
  end
  language "es-CL" do
    sha256 "b1e3c0c47db1b722e46697638b150b1a4348630feee0791786728679ad7832d4"
    "es-CL"
  end
  language "es-ES" do
    sha256 "d2d578d6549d8d7c6a1463df0487d217e246c5c0485cf51bf0b106a4a296d875"
    "es-ES"
  end
  language "fa" do
    sha256 "9021740b7eee0f08b17041b2a3cca418a1af57036c16072829af6b6584612825"
    "fa"
  end
  language "ff" do
    sha256 "df7117f85444b6d42cafdc55a6fda70f9a6b6d7549410fd544bf574eabb6133e"
    "ff"
  end
  language "fi" do
    sha256 "47e963d3dedc1fe85a0838a8cd5b218d91fae8c60771d3254af033ecae72b66e"
    "fi"
  end
  language "fr" do
    sha256 "21e71840e4774a71d8b1d436d984ec408b7f962ae3907df634a9c6deb6935dce"
    "fr"
  end
  language "gl" do
    sha256 "c02eee88ea2d84f9bd0430c3deb6af5ec734f1aae336d61c84e3c5aacd455eeb"
    "gl"
  end
  language "gn" do
    sha256 "304e1bf141119732a419cf9b0840ba77b02b70e2154bd54a8309d557394f6119"
    "gn"
  end
  language "gu" do
    sha256 "92328a39380885041741a3c47d1fb61c6baa2b88d0a91340041cc47db44fd421"
    "gu-IN"
  end
  language "he" do
    sha256 "1761156651e72a4291d5bf515acde2bd652347be66fa0642b12f1fc5e0dd2fc3"
    "he"
  end
  language "hi" do
    sha256 "3fdecd590fcb75f1adabe88842d8434b5401dc303280803796c2f61a011d7348"
    "hi-IN"
  end
  language "in" do
    sha256 "3fdecd590fcb75f1adabe88842d8434b5401dc303280803796c2f61a011d7348"
    "hi-IN"
  end
  language "it" do
    sha256 "185d84c9f51360ffb1c77b8802bd37e015af1b5dae760f8284f0d3ce73752e66"
    "it"
  end
  language "ja" do
    sha256 "a5830c143118b323fa537658d48c77816ae619c0f669c39060e005508617e9d6"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "c7bba743b8f391ad56fa88b0f2dc5b104599954a86c6977f0143c4caa5ec533c"
    "ka"
  end
  language "ko" do
    sha256 "3c19051fa69dd0f03fa7d3368fb1d5f77f0a09fc7170a82b63d142d3a3fd7029"
    "ko"
  end
  language "mr" do
    sha256 "03035c9f7b7b43d1d3e45886914c26f6a3848d659a0b06dfe040be113c5d6411"
    "mr"
  end
  language "my" do
    sha256 "ab94fa2afeff31ba1df3870d87266e4fac239146aa5f9b45ac14395fea7f2440"
    "my"
  end
  language "ne" do
    sha256 "e54a4b156e36b1fc64b6ec333f05dbffe63ff4de5af30ce6c0c58567efbd67a6"
    "ne-NP"
  end
  language "nl" do
    sha256 "2015949d6427aaed87108f96e9c5a6bc5ea1b1774ed460a5f1c2a402c768e9e0"
    "nl"
  end
  language "pa-IN" do
    sha256 "bf905e2326090387a2a7cbb5be3ea24ed918d2523d3c432ca905d753a487a831"
    "pa-IN"
  end
  language "pl" do
    sha256 "2c2382f71bfc8bf5c81a34a8ed1b9ef510dc11fdd1ab7ea9adde3d163f93a34b"
    "pl"
  end
  language "pt-BR" do
    sha256 "94ee8e4bd36095583377cae22e4cc0869fe852d825abc79548959d9aaadb3f1a"
    "pt-BR"
  end
  language "pt" do
    sha256 "d297f5bfd10448ea85e16ab34bca584eb344450f1b623f9cd5146486b2d39651"
    "pt-PT"
  end
  language "ru" do
    sha256 "a6f7ec0ba48f6957d285bc8c3c260b767bf1d82b1b3b8fa6755889a92c0995a6"
    "ru"
  end
  language "si" do
    sha256 "590516ce78c42632eae50c910d0f0c9a6cf0f6d42b354f42f67b7859c5eb5523"
    "si"
  end
  language "sq" do
    sha256 "4bdb4bfe92ad1164b4a767c29495fffe57b8f120c4f04581c88f004bb1a3080f"
    "sq"
  end
  language "sr" do
    sha256 "337aaa230550bee7bf052bf05f0873dfd32afc9c9faac3eef7d7b991a92909ee"
    "sr"
  end
  language "sv" do
    sha256 "748f8894d7494f3996fcb53fcfc383cf79357e2b0c7f1df4a55ee3451ee0faa3"
    "sv-SE"
  end
  language "ta" do
    sha256 "edb752f68b5bdbf5cd1b1ce8a87cb775b0af63d7fd2c4175f379e3919f79697c"
    "ta"
  end
  language "te" do
    sha256 "f24163af2250ee9364ee0fb87d3a95c7f13e8e94cb7893027b5fd3adc05b6466"
    "te"
  end
  language "th" do
    sha256 "a1807bef411ac7a6c7b72a8f9c21d1c029726344bcec167c10c8e55262bddce7"
    "th"
  end
  language "tl" do
    sha256 "aeac8dcaca21692f38e0559ce6b808124782b01ddd87e622845c0e2925418544"
    "tl"
  end
  language "tr" do
    sha256 "9b8f32f4f6f778b8c5a5b10003472e038fb9182da9d000be666d921af7f0f238"
    "tr"
  end
  language "uk" do
    sha256 "c34a9b69b22e79f2b25814f7ca27617bab95f510508750180c0a9d2607d80098"
    "uk"
  end
  language "ur" do
    sha256 "b4858ccf2022f306e57212a39cfa81aa8b5add1d253852b44b327c4936b0895a"
    "ur"
  end
  language "zh-TW" do
    sha256 "dc409a7f05f14a3a25f6b59ccc0a95dca2e6dda55a51337cb260f3d67cd1afe8"
    "zh-TW"
  end
  language "zh" do
    sha256 "b3cd42a81e39ec82ec303ffd720dc17a894895a2d9c2fd8831afa2825c40507a"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
