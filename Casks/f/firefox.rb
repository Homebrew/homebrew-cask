cask "firefox" do
  version "130.0.1"

  language "af" do
    sha256 "343c95819f8d37160b9fd8d25b29ca1f475d75549dbbd4b1fc471ddad7f0de4d"
    "af"
  end
  language "ar" do
    sha256 "73eced98057eebbe27cfec6578ab1ee0cea7d262e71f3244fd3191ea624c5cdb"
    "ar"
  end
  language "be" do
    sha256 "55a9390973baf032b763adfdb39500174a9b7d3a59b9f8f0544aa9309a8d03cf"
    "be"
  end
  language "bg" do
    sha256 "7bb9908451b83d6d52bd4fd101a678c5d71165d4f2d98030d971b9c9aa194674"
    "bg"
  end
  language "bn" do
    sha256 "d2e371ca75addb8735b41baf15d30066211884b65e95eab1d92114cf8295fa32"
    "bn"
  end
  language "ca" do
    sha256 "661ffe6661058b627bdfad60dc2172f3fc29d6abdb1c76eccfac2aee42cf9d29"
    "ca"
  end
  language "cs" do
    sha256 "3f593a7e4312ebdec047633743c6fc5cca367449db89a8946c996c0926e5659b"
    "cs"
  end
  language "de" do
    sha256 "ea3ff6065881ed0a22e85c8d15cfa07077c9957b6a9d600f5daa9521bf38c69a"
    "de"
  end
  language "en-CA" do
    sha256 "b6d83a3314538a0339f302ccef886214c74714cab19163ffb8fc7949e7f2908c"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c9df37f52f66d3c9f21bf7e7c85f5f64a1764351f3bd9806a8f3eb8095276c66"
    "en-GB"
  end
  language "en", default: true do
    sha256 "63ed878485d5498c269d95ba7e64f1104ed085b8e330b0ef0a565f85cc603426"
    "en-US"
  end
  language "eo" do
    sha256 "a55acf42740548e92c5567ed30cbb5d28018722012d392cd1eb057c66c8d56b4"
    "eo"
  end
  language "es-AR" do
    sha256 "a88e6b6c3505d48f20f96c7cfedca00c91cbed4a857edc9b3ab90caaedea9135"
    "es-AR"
  end
  language "es-CL" do
    sha256 "42103d98e91bf20c142524cad7ee8e82e8bfd24023d2626dbde83a342a00d585"
    "es-CL"
  end
  language "es-ES" do
    sha256 "d2a48f01b29de352e872f9107711494f09dd7d6319f5cb560716c5552aeb9770"
    "es-ES"
  end
  language "fa" do
    sha256 "91d01af6a06d51050ff09a1396179dfed1bb315c6a528b33bc269a2825547928"
    "fa"
  end
  language "ff" do
    sha256 "d9c125513db5a9d94a7c5c781aa56121c8b2cac91d2635d8be9fd6d2c0a3b058"
    "ff"
  end
  language "fi" do
    sha256 "ec64318a743d14a6777ff5fbdf63788513d2eb85487cc868c0a9668cba8db522"
    "fi"
  end
  language "fr" do
    sha256 "5575d886531e0d7e5fb58f110de99acd4af2c5048918f9cbcd6a8f9e52f85e27"
    "fr"
  end
  language "gl" do
    sha256 "95c7136eadb9e40629dd992870d5dd5c52e222b1a21702b42da407113b16985e"
    "gl"
  end
  language "gn" do
    sha256 "3caeafb4fc9a247e775a4af4498d51051c8066bbff9fe7f343c810fe27850b48"
    "gn"
  end
  language "gu" do
    sha256 "a6e3d364c4b34c83c1dc4738c8d9e8ea36587b4334057d3547df0d478a21258c"
    "gu-IN"
  end
  language "he" do
    sha256 "3e1d2717bc12256a4336c728a574a77b9d4b8691bc64ae86842434199c3f5b3d"
    "he"
  end
  language "hi" do
    sha256 "fcacb2aca756c009502a6771e7b2419a2f68cdaa9a3ed74020229d74fd012c42"
    "hi-IN"
  end
  language "in" do
    sha256 "fcacb2aca756c009502a6771e7b2419a2f68cdaa9a3ed74020229d74fd012c42"
    "hi-IN"
  end
  language "it" do
    sha256 "535c3301de04ac44c7a9de51ddfbe2ff2452a49aed906bf59157aef9a4357339"
    "it"
  end
  language "ja" do
    sha256 "5648c85d487afe671cad9a0fcbb1d2d027febcc573f4cfb59a2a63bbaf218d0e"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "f6a716e515d84f58cfc9b27184d4dd37c2b873c7aa20a4ec2d5e6210e803fe94"
    "ka"
  end
  language "ko" do
    sha256 "7984271bd6be2dc769bfd5f4bcc799a0f58bbdec12ee317008415d0dc810360b"
    "ko"
  end
  language "mr" do
    sha256 "efce95e82a4d0a7ebf2bf6853aad94ff5092c2bb734fee10e6fcb99a0ea64c64"
    "mr"
  end
  language "my" do
    sha256 "85a03c73904de86aa860d0d8eff077dc4d95fbb2dd1c46bc64d2f92e62318657"
    "my"
  end
  language "ne" do
    sha256 "caf3ff2f259d4feab4fa904b7e74100e48c001ebe7176ec15088f3aa088c040c"
    "ne-NP"
  end
  language "nl" do
    sha256 "e3bfe2c683af108845eb13bf02b3c9e465b136ab4e8f366eabe340559330c6ad"
    "nl"
  end
  language "pa-IN" do
    sha256 "1e6979bdcdd5f840e594395274c0227388ebae93399741dfebf3b1a43843c0df"
    "pa-IN"
  end
  language "pl" do
    sha256 "9724dbc34da0db8479049501e8de1135812cc83090d1a994e256df0652e45b8f"
    "pl"
  end
  language "pt-BR" do
    sha256 "7491ba23053f4556f4da2c225ab4d56b58062a7f29736e79e85fb4cf33e8dda0"
    "pt-BR"
  end
  language "pt" do
    sha256 "9e4e2db954aa626bf2f33ab553880e5cdb8bf60e4250daa8887ab9edd1f7253e"
    "pt-PT"
  end
  language "ru" do
    sha256 "9e9f17659b07b1cb73391e228b9a92ce070a3746fc6f541587017c30df94eaba"
    "ru"
  end
  language "si" do
    sha256 "c5d06b349db099ee92e2ee47af1d235109d3e7df35a5724ac51ded94aafa5f0c"
    "si"
  end
  language "sq" do
    sha256 "1f100944c17126a457a5a93c85e2112a7bd69f69f36f32a90190b34b122deb6e"
    "sq"
  end
  language "sr" do
    sha256 "a57a3310d361c2fb1543de4cfebdf31c3402909e324f62ec123d4f9c99dcc30f"
    "sr"
  end
  language "sv" do
    sha256 "d4be48b5559096f48494ec13da1c7fba86aa2804c96e0e13caa086ec6cd96ff3"
    "sv-SE"
  end
  language "ta" do
    sha256 "affcce587d9eab7112a81fcaee98b6cd8e8d6dbfe9c075e17a49e7d1e8813950"
    "ta"
  end
  language "te" do
    sha256 "c4dc2e75dfa98faca618fd3109b93a48f7c0f0c8151c54db8a53fdcf63451a4d"
    "te"
  end
  language "th" do
    sha256 "e56c374233f9de72741a91ffeae030fc5c2bdbfafff94a8013a71346aedc9ceb"
    "th"
  end
  language "tl" do
    sha256 "0991f15a82f1bbdcc279190147fab35432b12c88d91f93b7dfef6a2e70fc8a35"
    "tl"
  end
  language "tr" do
    sha256 "dc69bcf19b447cfd8c7fc1185f7449cff9a3e673ff8825b5eead496f36887f28"
    "tr"
  end
  language "uk" do
    sha256 "fa90dedd0acfc909c4204ed8ef5ad4d83aa0d96635e8f705c30055c22355a54c"
    "uk"
  end
  language "ur" do
    sha256 "6414e28a45210eb88d31cabbea112ca84a4491fe91e55ce8b5910b9e37624aa6"
    "ur"
  end
  language "zh-TW" do
    sha256 "2691f6cfee26ed57a08cafa148c9fc40863fe14848f784b0b9d3479a32629068"
    "zh-TW"
  end
  language "zh" do
    sha256 "fa79e13c4ce33ca622e1afc368b1298cb33ff0b19eefc7e391a22086f8c9ff11"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
