cask "firefox" do
  version "127.0.2"

  language "af" do
    sha256 "42a972fe26a90eb545f32e9baa04e485830897e6cbab031f11bfb203ef4d61ea"
    "af"
  end
  language "ar" do
    sha256 "dd43269067900bbdfda7d20e0f70f5b08af3b0afd91366da657ba3672cf43d37"
    "ar"
  end
  language "be" do
    sha256 "1ea532c65f032de157b0286e3b8ccbf589cbc7f57451aabfc16943e3361af4ac"
    "be"
  end
  language "bg" do
    sha256 "de47d513cfab0c55a2509d1ee2dec51fa98ed2f1bf44aba13bf715ef2b449ed8"
    "bg"
  end
  language "bn" do
    sha256 "fc5ad89a347d283a48a94d85695e5fec9bf26331e80431a67ad2ced33339aed9"
    "bn"
  end
  language "ca" do
    sha256 "955582e12991474fbe92edc3a3cc39e13de4714b8ea4cc312a78f7d6322c5e32"
    "ca"
  end
  language "cs" do
    sha256 "c9b3c454a37192b3231dd7b2747b82c3ef4875ee95b1f4dd13c306c111382091"
    "cs"
  end
  language "de" do
    sha256 "b255788b3513ea1c6a85163d19ab8bfdc8b5b1ddbcd830c69db8b6a1f3dd3239"
    "de"
  end
  language "en-CA" do
    sha256 "40b719cb8ebe103eec26413d7d8b2f2f54a8280203d5797c0353e393d4d21dc3"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c36a0b622b730281650e63bb682eff8c5a07c8d30163eb3ec9645a9aac49111a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "af516f0222361a311e83de8ca9a27a99653b2c0a00a6653e25ab59046a44d128"
    "en-US"
  end
  language "eo" do
    sha256 "e3dfdaa6acebd2193939146c4df3e2db26c0e9b31de7a54927601d8026f4adcf"
    "eo"
  end
  language "es-AR" do
    sha256 "0086122ac459f7b447d7b5177dc8c82196cfd25c60e763a27a617fcdc5cc5517"
    "es-AR"
  end
  language "es-CL" do
    sha256 "665c61434642e9ee296451dfa32806d434905cad834b051d89fbc399e82414fc"
    "es-CL"
  end
  language "es-ES" do
    sha256 "acd84b58699065a1bc02b2a40310d0b0247a62da8d7bf81802fcfa869def599e"
    "es-ES"
  end
  language "fa" do
    sha256 "7a8e3d9b79d10379ce965178e973903ab25c3227b09f1a20da05e90744d6412d"
    "fa"
  end
  language "ff" do
    sha256 "2f004502a6609317453a82c90f4c47a296b3fd02c7f01cc564d9351ff127b06a"
    "ff"
  end
  language "fi" do
    sha256 "99ef97350864ea5c2b034eeaf57c1130c87663d926f3f2d28f6121bb98297978"
    "fi"
  end
  language "fr" do
    sha256 "940b71d459cd386c4ec98e42d6ae077f2dae80793511bf3839349d14da6e9efa"
    "fr"
  end
  language "gl" do
    sha256 "99c589c9e83f63db3e00a70113143ac12942aff7da6f1a4ca738cead3c24bdac"
    "gl"
  end
  language "gn" do
    sha256 "879216a70f0ec370d69cccadb0a76cf891f4529ec7b685efdd209870abc6b576"
    "gn"
  end
  language "gu" do
    sha256 "aa93e674acd6a3209b6f1e39cb2d0ee28052f85c93b3afd45ce6dddd54f88c54"
    "gu-IN"
  end
  language "he" do
    sha256 "538c2cc8cea9e2a115e4bb2feed74fa87064dd8e5342e6fa64bcf43f0278694a"
    "he"
  end
  language "hi" do
    sha256 "902e6f825aa1bdefa53762cc89328407cea918f7dba3e1f3356d0f890ffa19c9"
    "hi-IN"
  end
  language "in" do
    sha256 "902e6f825aa1bdefa53762cc89328407cea918f7dba3e1f3356d0f890ffa19c9"
    "hi-IN"
  end
  language "it" do
    sha256 "38cad953fe5cce1c47f1960000acdc718516faf3f5f3b03444e133d1adc6173e"
    "it"
  end
  language "ja" do
    sha256 "c4ec1b0e955c782c7a4b3b14d741b57f9751ee39efb089808cf7aab7154e59ea"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "2d044eadfbfc362366a3b650efb3763935a5a47652fa9d50352e0f1e7bee856e"
    "ka"
  end
  language "ko" do
    sha256 "64624208916c60acde30764c60c83775b92b9d4a1d015061adf40bb42e400fb2"
    "ko"
  end
  language "mr" do
    sha256 "ab8eb31a42ff8b3c52a7fff9b230acde88182fe8bee7087057e5b0591f6f930b"
    "mr"
  end
  language "my" do
    sha256 "3f172002796b68a2acf003d1008d55e375116318f4d433197ee1c6e574514508"
    "my"
  end
  language "ne" do
    sha256 "2a7efa09f51b740d2b28bfc0c15733c1014af9d9f588d8512e20c193d1857d70"
    "ne-NP"
  end
  language "nl" do
    sha256 "5214d6cb80e16482d1f6d3f52ea367d228155dc36d510b35e3734f53029dc228"
    "nl"
  end
  language "pa-IN" do
    sha256 "4aa845fdfd8c968faa1d320944cac5ceb6301fb9553ab3621d67378e7f9ec600"
    "pa-IN"
  end
  language "pl" do
    sha256 "1f89c252a0da00078a18646b408782bf971cedca6217a0f6fb534859fe45c20f"
    "pl"
  end
  language "pt-BR" do
    sha256 "83252d4b4a08bfd6708f8d8ee4077c2191a9a1ad3e12fafa2e5ab96c7e85683f"
    "pt-BR"
  end
  language "pt" do
    sha256 "ca3c057c949e9b59660beff7cd20ef0c2385181f526fd657e56afed476c9bdc8"
    "pt-PT"
  end
  language "ru" do
    sha256 "90609ec93affa7f2587ec49bc5545bc75d5b5af10c44dfef40d2357f9167414a"
    "ru"
  end
  language "si" do
    sha256 "c461ccf17be99a681a0773aaeaeec6dad643b43a463311ba11b61274a06c90ed"
    "si"
  end
  language "sq" do
    sha256 "5c8f3ff956f2fafed60b6fc5ec35dbcb3b646291b55966f5a8d1558d339ff726"
    "sq"
  end
  language "sr" do
    sha256 "798a8b0644900694b553ea6b3a14577c8b94d1cd1074b6f240e03cf7e9ae996d"
    "sr"
  end
  language "sv" do
    sha256 "5772ca64ad46ddc161851b4b24ad0f8b5769b7237ef06b0dbb2d702c213fa4b3"
    "sv-SE"
  end
  language "ta" do
    sha256 "3ce0d74b2e095b9f9bb96f0e3753b103f05df796e1e9478e665dedb1a1b57a73"
    "ta"
  end
  language "te" do
    sha256 "586d30eedfe81add7dc8708d6c45c62a2fd938fe5245aeab8bfe431c8e40bb46"
    "te"
  end
  language "th" do
    sha256 "4949d51ea3ec02e363b1d2d7cd6352b638b880c51e58b90bb5069f86f7028e08"
    "th"
  end
  language "tl" do
    sha256 "4e1d2fb8cfecf29d16ed24902dc1cbbf34c08967d529fea8923bf6a7cf073638"
    "tl"
  end
  language "tr" do
    sha256 "d5953e09740d528ce8c02b159a046456adcd9517cfa91f29b2be2a40fb75b068"
    "tr"
  end
  language "uk" do
    sha256 "5c7ab205edf6835492e6a93d2b7b8ef39f9c0c9aabefda04da5cb8931e04ec30"
    "uk"
  end
  language "ur" do
    sha256 "c4e7e16c13b13f3d2721bdb380cb235abc0afdf70b68875ce309fc72ad653f44"
    "ur"
  end
  language "zh-TW" do
    sha256 "b618ed6440625d47cf41138ead104a633977edfe422b899b997d0865bdef0541"
    "zh-TW"
  end
  language "zh" do
    sha256 "ee57170e3606064cad418a89352b20dccd857c22f5c0582ebeb33d6feefcb901"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
