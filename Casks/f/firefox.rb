cask "firefox" do
  version "129.0.1"

  language "af" do
    sha256 "b8e5cad9b6777152ddad4954a500e7200fd54310819dcf43c1a41731205a6c4b"
    "af"
  end
  language "ar" do
    sha256 "b75f2ca10be58c13699a52b66dfa84aa5883be4d1f8db818d89bec9edad8e066"
    "ar"
  end
  language "be" do
    sha256 "2ac25ebb091e30d22646dbe1fcddb387bb5b8060c9aed8301d7e2c4f281ab6d1"
    "be"
  end
  language "bg" do
    sha256 "d2588c475a16a34629b7e47f116415a44b0bc8ac05d36f670feab32b8903f796"
    "bg"
  end
  language "bn" do
    sha256 "4819b8d7ed81f7c3f43ecfe619bc74cb308fc90393b5613fa150c0a5a9728186"
    "bn"
  end
  language "ca" do
    sha256 "652c4961efb3db7e6220269c48cbdf345663ac2109c399032b7d043b27f8523e"
    "ca"
  end
  language "cs" do
    sha256 "00c4a23e234423599cbc98b9141fc734483139986573948cc504076105e0fe16"
    "cs"
  end
  language "de" do
    sha256 "a720a50cdd16e357e1f8d5ae7c1a45620c51ffe68a395bc892135f61f91314cd"
    "de"
  end
  language "en-CA" do
    sha256 "b525d91085e1c2dfb72b6c724c5c4f8506139d8600aac31d6846417c66964b4d"
    "en-CA"
  end
  language "en-GB" do
    sha256 "f813bd2e8715870adb131b5c10f1616027811992331394160e4c3078cd23700b"
    "en-GB"
  end
  language "en", default: true do
    sha256 "c46514753904289ec2779a9bf6d8142795046c73d92df1e1f3d4e31619211881"
    "en-US"
  end
  language "eo" do
    sha256 "3d9104ea219b5386cc189eaa8b8390f3f3a31abf7ddcacbcea3b52968d96107b"
    "eo"
  end
  language "es-AR" do
    sha256 "676da0804f688ecc84bb7a5bb49e3ec3ab92d9671713a5ff963e8a7e3c0432e0"
    "es-AR"
  end
  language "es-CL" do
    sha256 "a4985dde12638e37245e7f53fd6ca8807b13f75c60ad4022bd4615baf5c19e65"
    "es-CL"
  end
  language "es-ES" do
    sha256 "8aedc4a5ca0bbab25b6ad9392c7b3f312f80b9324dc8cbeab3b14d7fdd40574b"
    "es-ES"
  end
  language "fa" do
    sha256 "4a0cc0abc62bc3e24432b923cbc3ec9b546dab4d194a3c4da4618d5de5fb2e49"
    "fa"
  end
  language "ff" do
    sha256 "d273ba333f5d5f1b819aabfb1a428244fbbab32fa45ed94b5020f6b783ba2117"
    "ff"
  end
  language "fi" do
    sha256 "5b709c362ab1c60094fc8c0034dd126e15862157b7c46da46708050b45ff15ba"
    "fi"
  end
  language "fr" do
    sha256 "8fb307a012e460b43eff8a6dd452305c418e7ba7d0dd9ac6972dea3fd580ff9e"
    "fr"
  end
  language "gl" do
    sha256 "7e7cc797a0a501958bfdc18ed0093b3d4282bd3a6b22089d281a49ca61dc31dd"
    "gl"
  end
  language "gn" do
    sha256 "58039095a23fb72011e2d51e4e188714a2d246291f4c5cecd1c5d968004a0ec1"
    "gn"
  end
  language "gu" do
    sha256 "f144ae29b6bf4e275582e0621ac44b6506e7a8ed5fd255a8e52b5026dc832b09"
    "gu-IN"
  end
  language "he" do
    sha256 "7c8f56dbadd61d529c313265f0640878735f3df8692c451adab68296b203cf7f"
    "he"
  end
  language "hi" do
    sha256 "0a9f0c30d0d1a2a00a952d348c89a8ea2c8f5708fa99cc9df3b376a3f0c37ba1"
    "hi-IN"
  end
  language "in" do
    sha256 "0a9f0c30d0d1a2a00a952d348c89a8ea2c8f5708fa99cc9df3b376a3f0c37ba1"
    "hi-IN"
  end
  language "it" do
    sha256 "c1f735126071dd9eb85b6a4d818dcee5ccc2cb7e09b166a3ccaf72fe67d1cb51"
    "it"
  end
  language "ja" do
    sha256 "9a55884bf9e3629f82ab144304c0918b8496b1500b69e8785e003123a615fcc9"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "123f06797766918470e7f3e698ce4d91e53cac5059c1e2966b2d2c4a7092aef1"
    "ka"
  end
  language "ko" do
    sha256 "4cf91cfe6bc8f667ec049136f624564b1998be7ab1aa5f62604a83c7dd69b6dd"
    "ko"
  end
  language "mr" do
    sha256 "f8cdbe12b00fab1ba25796ca896cd832be44aaae86504758d1a0283c605dd31d"
    "mr"
  end
  language "my" do
    sha256 "6cd8c32a970e66e185b8e7d9ae4afbd6a850d8736c78fbd856566c731edc18e4"
    "my"
  end
  language "ne" do
    sha256 "0a563812d3b2ccba0c89b788c86ceb7ed4777113aff835501c5b0ed9b0886f8c"
    "ne-NP"
  end
  language "nl" do
    sha256 "f5aaff5876d4e14da4ae56595fbc23ab788fded6025c01c3876d808dc762f3da"
    "nl"
  end
  language "pa-IN" do
    sha256 "e42dc2aa2e9cbf72dab08e8f55554f8a4affdd751e0ae5d6889a784ef96ffc4d"
    "pa-IN"
  end
  language "pl" do
    sha256 "40a3f6b5809a52f23e83fdcb58121d8ca829688b0d806bd908c271724b683316"
    "pl"
  end
  language "pt-BR" do
    sha256 "3f410ff8a6a573215c9d5346cb9c827f7387df17a095ef6e3b0b328ff0b63da0"
    "pt-BR"
  end
  language "pt" do
    sha256 "8cf073037cfb7f5f1d0c3f784fb89059dbcddccfd53a9e0dec2d9e723391716f"
    "pt-PT"
  end
  language "ru" do
    sha256 "4aa91d697d1fe60e000b587323f69898d8c18c6f25bf83261eb701f3fa934fc5"
    "ru"
  end
  language "si" do
    sha256 "581609c059d2bba59056086340815fde7094519f6a51ed59cabec2e908cd37d4"
    "si"
  end
  language "sq" do
    sha256 "d42de9e36b908f3e88e75361824df59c2b40db3ee09b7f65feeb741311f4c395"
    "sq"
  end
  language "sr" do
    sha256 "c2cc310281f7a641df199a65bce37a75bea4822349cf979eef3db0ab15d3c0ee"
    "sr"
  end
  language "sv" do
    sha256 "c5a0346c96e4a89ccda0e8219e38cd786aed02422498bf8a939991a87acd40b9"
    "sv-SE"
  end
  language "ta" do
    sha256 "d186d59a658d51a7d27b204d05de239c9f18672ffe92d9ee67b66cc2054a98bc"
    "ta"
  end
  language "te" do
    sha256 "a46f6447012afa105850cc9ddbe6f5367dbf9308ebef04e0866a6857a6a06a6d"
    "te"
  end
  language "th" do
    sha256 "dc2b485d9bda31a23d6ac319ad3b8677f9a13efc707da5c378a88b1f9da016b3"
    "th"
  end
  language "tl" do
    sha256 "89685a5ebb5c6002547da1a6067e8377f6a556b8b25dc10277128a1b89874490"
    "tl"
  end
  language "tr" do
    sha256 "4d7a548a989a63c62de23b034b62ebc62777bb7b3957810cc28f046e37441b95"
    "tr"
  end
  language "uk" do
    sha256 "aa89a273416fb03c7e472d025ad654e8de4d0bf7a3c1f1113cce48161644f83e"
    "uk"
  end
  language "ur" do
    sha256 "e0354f44ebbfb5f1e610c40eaa4b119c71483fd324f73413d737f36cde048e54"
    "ur"
  end
  language "zh-TW" do
    sha256 "53ac07c9234c8530407f00519953393b43c976b1785894b4a2c54339310d6a0e"
    "zh-TW"
  end
  language "zh" do
    sha256 "310d344a754d17b2667e5d222e7fb7aeb1039fc1153bfc3fd5ae6e2c9d6e1cbc"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
