cask "firefox" do
  version "131.0.2"

  language "af" do
    sha256 "796fe4ed9b7bd0440e8a0adf974b2e793bcfe90d02f159c9f91c389c510519a6"
    "af"
  end
  language "ar" do
    sha256 "776e20c776573cb51bc02f356bfa58ae13e25b1c596d0ab8bbff003531fc01a8"
    "ar"
  end
  language "be" do
    sha256 "6b4ea57eb63942c2c423e04aa124f50d5f17e14584ab6941d79ebf97060d2db1"
    "be"
  end
  language "bg" do
    sha256 "65ecf5f6a3cc36b1b531136f22828ca25733a0890e27a6aafbf4c95ad6cda8ac"
    "bg"
  end
  language "bn" do
    sha256 "95d89bd3e4f3fe1d91a8b02fb47b7baf76411c0c60df780c343e24414f75eacd"
    "bn"
  end
  language "ca" do
    sha256 "d728637058f3612b6f10d1889dba9aa88bc09ca6d0ec37c2bed009e8fba55515"
    "ca"
  end
  language "cs" do
    sha256 "bdd7ed90e4018a7b24e2e1c8befdaa0ebcb3d92175277d9ef87b1937b7a9486a"
    "cs"
  end
  language "de" do
    sha256 "6c9081deedaa75a568f2381c50e6c45870f803e54746aa038fb799ba3a2af3d0"
    "de"
  end
  language "en-CA" do
    sha256 "e9e277a8c82a3388ed08b8990902110dfc69046cb796517d895caedd464ee28d"
    "en-CA"
  end
  language "en-GB" do
    sha256 "deef111e2df58d16093eff9980b6df749ea68261e8ea5628c3fd11edc358659a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "6bde38e32903ca35a9c54e0ac9e122ec79808bace6b7bc28a3c08defb15b3126"
    "en-US"
  end
  language "eo" do
    sha256 "ba13933ec588fd6d9892c97a446dbe611b0c5b44470ac2e3ad5c1bb60ab16393"
    "eo"
  end
  language "es-AR" do
    sha256 "1c0261f81ce915ad713207350d82cd5ee526890a5b5c69cc4f54efe36d3d16ca"
    "es-AR"
  end
  language "es-CL" do
    sha256 "095c666424c74a5ac30f53276c26632bb0744ed58151bfe830ddbc417ed4f534"
    "es-CL"
  end
  language "es-ES" do
    sha256 "78185ee2159434fc9dc97ac3a9f9a632c81751772d7f5ced3bdd0afda18d15ae"
    "es-ES"
  end
  language "fa" do
    sha256 "b5a05e89183cf21902384646a0b0ad996fc58dd6f686bf78252bc20e9be2fd29"
    "fa"
  end
  language "ff" do
    sha256 "2063a002820261dcd5dfdc95996192ec852f92eeaa33cbfb9b428aa5b86b49c3"
    "ff"
  end
  language "fi" do
    sha256 "c0ae78f989f199139eb4f579096e4dda16b98a58792b604630a14f68f9690a43"
    "fi"
  end
  language "fr" do
    sha256 "e283292c2846656d97cac11444d632e26ec1380b90e633c3e5ac9ca06aabe064"
    "fr"
  end
  language "gl" do
    sha256 "b27326ec71a92db921ffbd2bae937f8088af2c3e7b633015ffafa10fe0cb9c1a"
    "gl"
  end
  language "gn" do
    sha256 "ed89b03cdbb28b77bd62597a0453b2facc76fd1ea4f6f61f720c8c76b1e4ad30"
    "gn"
  end
  language "gu" do
    sha256 "aa34a416c2d4e2ec750e374d03017e062a3357704a4b245a03d46ade024b23a9"
    "gu-IN"
  end
  language "he" do
    sha256 "23412eb0fd7187e0b486ddc7ff4e01d3ce1c4718bf7d9c4a60ba188ed44fe96b"
    "he"
  end
  language "hi" do
    sha256 "0f9fb27b3e47e4c7dc8a2b2e66a70074b58ebf03fa91afa9ad1651ef6ed08adb"
    "hi-IN"
  end
  language "in" do
    sha256 "0f9fb27b3e47e4c7dc8a2b2e66a70074b58ebf03fa91afa9ad1651ef6ed08adb"
    "hi-IN"
  end
  language "it" do
    sha256 "2bde2b1f961fe62601505ef3a1490b5fb71f863e83104668ee48bd2f3964beb4"
    "it"
  end
  language "ja" do
    sha256 "1ec232bfb8a4a65afa69526935e86f42f6bcd33920d878411792ececd12578a2"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "8a2047a2670d15faaa16e827b4c0201a54012a0c67c3943bf2fd6d3aadf7bee9"
    "ka"
  end
  language "ko" do
    sha256 "7a42f5371bdcf84ba1a7cb58cf4c418f9f539b7a456b9927123acd9a98327a16"
    "ko"
  end
  language "mr" do
    sha256 "993dc49a0bbe5fb2b257c4c2cdf850cb2c2472b2fc13a071afbb9dfc56b37b18"
    "mr"
  end
  language "my" do
    sha256 "e68977ebe0d4346117f2ab9b2443e0a5f7e284650b98c84e4bbcfa424b85ca80"
    "my"
  end
  language "ne" do
    sha256 "cc2fda8df28635b30375c30e3af65b1e1431c5dfe234c3f8709678adf8c2e674"
    "ne-NP"
  end
  language "nl" do
    sha256 "02dcd1e9aae8aebb8ac9d78d147869461a553e22bf10b2e12f7324d2042e1e81"
    "nl"
  end
  language "pa-IN" do
    sha256 "0093db9549169d6f5078c62a48f2d9f75d345bb4fbb78531a69548a30756838e"
    "pa-IN"
  end
  language "pl" do
    sha256 "aa952da743374900794b24d6f6ebcd4258cf427bfcc7c44a36b74c2046039763"
    "pl"
  end
  language "pt-BR" do
    sha256 "38f962c7a2d9909be5423af6296d67c9fa093e2ba20793ffdd135945258acc78"
    "pt-BR"
  end
  language "pt" do
    sha256 "df29ff4634eae303e2cb15893d327941c8706fc38d5d1b56fabb591e9b45f46d"
    "pt-PT"
  end
  language "ru" do
    sha256 "62020279c6e5275d6b900c5cb9c9b64591574d04a1f2c66a153764e43befee8f"
    "ru"
  end
  language "si" do
    sha256 "4f1075d08dbbaa45b78abe35bfaa14f0472dbf301db1f2e68cb70cbeea12f41a"
    "si"
  end
  language "sq" do
    sha256 "5cacab912914c558893ddbbb02a9371c592880fd8e3552d901e5548c25ecf46a"
    "sq"
  end
  language "sr" do
    sha256 "cd86634e8906de8062db3946d63eb27b7f5b35c20ef6d4cd405a1d642aa45ef3"
    "sr"
  end
  language "sv" do
    sha256 "5ede8c9f29e1ee701c94718864817c6b49eac2141c6b9b7f49378c92bcef4af6"
    "sv-SE"
  end
  language "ta" do
    sha256 "c22d133fb4d5d5764d8cd4062fa65d9c9105ba5865b7cc1787ffd5fdb55aca29"
    "ta"
  end
  language "te" do
    sha256 "a5edb5428d3c1ff8dfac4f27910bee2d11b94b15ca93bd1b5a8129c9c5d20cd9"
    "te"
  end
  language "th" do
    sha256 "148ebe972ee53388c79368e518af7d58edaa24929267b6db6e580ec306e00242"
    "th"
  end
  language "tl" do
    sha256 "f137388c07b5a0b7361e4787195f63eea02f35edaa64c22daea3b7789caeaf42"
    "tl"
  end
  language "tr" do
    sha256 "b800a7b4e877ae002192403a2e9bc47b98ac2b9c1f37c227ee815990f607ce98"
    "tr"
  end
  language "uk" do
    sha256 "f0f244308bdd88918f06b98d5b5a2ef3786044ccbf894b91dc6214755f4406e6"
    "uk"
  end
  language "ur" do
    sha256 "a4c8b614a05ee525624521c9d1e53117d389e56bed602ff6b2a34ade02947d10"
    "ur"
  end
  language "zh-TW" do
    sha256 "918c48aef9962f9a49e3c428936a5ee90f5b1eba3ba40d9cb08687603762c30c"
    "zh-TW"
  end
  language "zh" do
    sha256 "b8500f2163f4cfbaba698831e598fa3a02143d6bb77c41e959bdf964abfd0d8d"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
