cask "firefox" do
  version "130.0"

  language "af" do
    sha256 "c94d5718310566dada8a622834a6354261466ca4dda2ab9a4a665ee069df4f21"
    "af"
  end
  language "ar" do
    sha256 "bf43379078c6295af6e2fda9c732deb78ae4dc652a0bde8f1ab9ff02cfd37d79"
    "ar"
  end
  language "be" do
    sha256 "8be4e145376f35ead6d9d796a4a10023d4752f1d951f1f58d729984b4f8baf39"
    "be"
  end
  language "bg" do
    sha256 "d6fcfab0189c23050da46f8adcbc41779a5ae0c58e3fe228c6c52e6b6daa14cf"
    "bg"
  end
  language "bn" do
    sha256 "31ca063b466d639766e7194277cb8fc7bfddd7bd5680fdf6005d606754b532cc"
    "bn"
  end
  language "ca" do
    sha256 "b9151152251c8455ff6f9e2e947a14d9a442a4974f94285d911dd4cb9e40be28"
    "ca"
  end
  language "cs" do
    sha256 "c55083ec8c86786ee0958da264d3e9bf1e8de89187e081d89e9bdd71b6c4c5fb"
    "cs"
  end
  language "de" do
    sha256 "12497057269b48eb22ee081388e528c894ced29601e9fe9bac26e6e1e77e2135"
    "de"
  end
  language "en-CA" do
    sha256 "3c7dbc6e3a2b916e957cea49af765944dd22368ec861d9ae205adc65c2f6768e"
    "en-CA"
  end
  language "en-GB" do
    sha256 "8a9738d309c3702f96fd7af3bf1035a85f31a414b90da3cb7ca2c993e7c83926"
    "en-GB"
  end
  language "en", default: true do
    sha256 "c89ee9abcf7a3554959a7d2db0a5a748be3ae2c30d7c170b879de10e46127602"
    "en-US"
  end
  language "eo" do
    sha256 "bffaa8e5ccef24671fa999b724eac0deebbd8610260f962d9d1e70a248992b86"
    "eo"
  end
  language "es-AR" do
    sha256 "f5e96ce37cd8f7094a266c842559f53ed06ab50cc278579d43c23577d70d3f5e"
    "es-AR"
  end
  language "es-CL" do
    sha256 "18f6e32a5f47e26a209687ba975fb2572319480be25ac616c9b1eb1c5cf196e8"
    "es-CL"
  end
  language "es-ES" do
    sha256 "e5c29eb0050e2e2e2df1cc7cb3e7ee81d98c6ccde65f7475bcd83285dec3bf3f"
    "es-ES"
  end
  language "fa" do
    sha256 "8139e6f28613dd684f4fad2ada9feaf8e0161df5c99bcb2edf5927a575eedfec"
    "fa"
  end
  language "ff" do
    sha256 "c51709a5ae9eb5349a09e949cf0ffb931b3038a4dd100198c1f540d8dd36016b"
    "ff"
  end
  language "fi" do
    sha256 "b1ed29e47951dfea58955dd62ee1f1f25d0ae503ef36868c403dc9dd6414e17e"
    "fi"
  end
  language "fr" do
    sha256 "2e0df737ed1656de815156541aacf8499ce03d69e4b4c4640709ed3600988a2a"
    "fr"
  end
  language "gl" do
    sha256 "1c19340b9908187cc1eeeb679a5a8c820069ac0a9166cb6a8fe672491fae66a6"
    "gl"
  end
  language "gn" do
    sha256 "fa7f8551f6d0d62920df85fcda35c9390198b82842ef150b3c8ce5a328d63e4b"
    "gn"
  end
  language "gu" do
    sha256 "17052b85146ff331ccc49cb17622b2b7d56fe01f61ad07c5bc49d20003a984d3"
    "gu-IN"
  end
  language "he" do
    sha256 "b2106de83f64b794d52be5b6d015f500ab4e62af98258baf2c7ad362a7da2c84"
    "he"
  end
  language "hi" do
    sha256 "fd54f57f43071e69d059ac32a397e8aef40fd5b965cab8e1ee7aae06c7925190"
    "hi-IN"
  end
  language "in" do
    sha256 "fd54f57f43071e69d059ac32a397e8aef40fd5b965cab8e1ee7aae06c7925190"
    "hi-IN"
  end
  language "it" do
    sha256 "6d1e48a6dbcc38197975732f61e64cd724d15daac335267713c46adf5ab6b023"
    "it"
  end
  language "ja" do
    sha256 "ca98592c98efa5a3deea7df034f243b5d84755f4a883edb11ae817cc78a5200e"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "afd9ad0a41120a27d27a9ddef8531ce329966723ce91c936b57c79f3e6928f7c"
    "ka"
  end
  language "ko" do
    sha256 "fd42a88edaa29e124fec91b1490f12f49e417d61367aacfb1c47e90151d651e9"
    "ko"
  end
  language "mr" do
    sha256 "649bf34c26060978d429d4d5864b7ca42b9c4e3911b2b92b46890cd104a7c61c"
    "mr"
  end
  language "my" do
    sha256 "ff850ecfd345a0f21382b2ce49db650625e8612e5a936950ef3fed638aa7c549"
    "my"
  end
  language "ne" do
    sha256 "b92140e0e34f70d2001e17a2d98fa96b65c8789346d6aac303abe8e6d6b991fa"
    "ne-NP"
  end
  language "nl" do
    sha256 "94197fdfcde5b598f01d19772d97baf90de2e2437f41c297186a69ebe5a03adc"
    "nl"
  end
  language "pa-IN" do
    sha256 "ac1dc27e934ffe6581a4130dd9b1a370fbc6901e72a70b3b39ecad221f9a21d8"
    "pa-IN"
  end
  language "pl" do
    sha256 "2da638a48b5c0367aaac818fcd4e254154fbcf3526d1b7fbb4239a4e92469a26"
    "pl"
  end
  language "pt-BR" do
    sha256 "5ad8a4caf055d24ccde261763d4acb04a853ab1a8d00c3000246d41fff5f185f"
    "pt-BR"
  end
  language "pt" do
    sha256 "d5a508f982e4814a503540da1268441c958e77be578e5098cd5fdd2d9d89b20e"
    "pt-PT"
  end
  language "ru" do
    sha256 "8d3b717f575942a473e613606a5ccce0f9a4eac8c6929526de9ba2b7addaa5e7"
    "ru"
  end
  language "si" do
    sha256 "47fd2a3f0797235c7be75af1d9236c31400e61081c017d3a0355ce8e65b6ae94"
    "si"
  end
  language "sq" do
    sha256 "7400686ed3f3e682b677beaf09eedd748d42d83df155240699a0c0117d0a8bba"
    "sq"
  end
  language "sr" do
    sha256 "75b95533504a0fb3203dfb1c018bc88e82697b466f3ed8d81dfc15ecee1fddaf"
    "sr"
  end
  language "sv" do
    sha256 "f87b1947a4990afc065ce9bdd7dacd5ac38367eb307088f040efd38ed602d4cc"
    "sv-SE"
  end
  language "ta" do
    sha256 "849bb294b97107d68d7eada5bf68284437106c0e5b3f0168dbe74534067080e7"
    "ta"
  end
  language "te" do
    sha256 "f7d7565c6d86e58d6ad73ee989373791c1dc55152efb78ec2d72ecb963eead70"
    "te"
  end
  language "th" do
    sha256 "e5244a18c8b13445ca05029cc60b4810f7f75f1a59cebb1358c54efd97fddff0"
    "th"
  end
  language "tl" do
    sha256 "65732677d6e8d304763d5f85a3292dcf461941c38ddf8b048b004c2159643cc4"
    "tl"
  end
  language "tr" do
    sha256 "fd83efdd2fd75a433551a3d9a285e20d5c3041a934ee6bab1a7446c9314a45f7"
    "tr"
  end
  language "uk" do
    sha256 "7928d5eeea604f344b82d521565989506100306fc718043cf6515b2e0c395c81"
    "uk"
  end
  language "ur" do
    sha256 "5a21cd529a8035995b8126049f51bdb4c8b4a07c5c8800366ab03c2b3723d911"
    "ur"
  end
  language "zh-TW" do
    sha256 "1ba29890270ae1c338845e66b4e6edd47eeb9d8191d945aa05430cf6aea58568"
    "zh-TW"
  end
  language "zh" do
    sha256 "05f173a2f0a35d748f92293e8b4d84bc62081efb2234ed51d43513c2484637b3"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
