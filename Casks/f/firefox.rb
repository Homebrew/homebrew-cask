cask "firefox" do
  version "129.0"

  language "af" do
    sha256 "57351e2681c77fa4bdb56d6773778adaa1b6bfb49c131af873c0baa037f563a2"
    "af"
  end
  language "ar" do
    sha256 "219ece0ce57198188dca2868c12901c6e7568f37fea9bd202cbbb61f3d0aa7d9"
    "ar"
  end
  language "be" do
    sha256 "6f964920f168a818c7109e70c0e6fd679adaea05a4330f3cb49f49ab74830d79"
    "be"
  end
  language "bg" do
    sha256 "8abb86feb58c5df97706fdc1d504630d07a4b999c2837fb328de4922ceeac41d"
    "bg"
  end
  language "bn" do
    sha256 "75f52a5d5afa4567b8fd3ee70f33e35859dc40ce85d31d6e62cd7d870669b50b"
    "bn"
  end
  language "ca" do
    sha256 "e19c1c64039dadc4ee60d4f2417a12fae0b317c35b0cb9c502ef1078aa1076f2"
    "ca"
  end
  language "cs" do
    sha256 "b2cc9cc8516e12cf6e526fa617f86e54728788c13fcc7339f4ed644c776a3643"
    "cs"
  end
  language "de" do
    sha256 "55f906f21702bdd8c27df5b2fc97e5a0564168656e069b1c7097b3507236125e"
    "de"
  end
  language "en-CA" do
    sha256 "830298fceff784a9c42b793bbbde2e2c41db710092b4396804687298654218a3"
    "en-CA"
  end
  language "en-GB" do
    sha256 "f37e968161d19177e9404d521338526d7555872d7c2cdbbd71c04696a94b4ee4"
    "en-GB"
  end
  language "en", default: true do
    sha256 "4b86e9de2b26339b30342a1ef3be1e3914d70921f81fd67bc9c63595823051f1"
    "en-US"
  end
  language "eo" do
    sha256 "fd7b92752df4f1c6ede06a03acc33944ab65ae9ce5d245f8d395b4a1315d2a5d"
    "eo"
  end
  language "es-AR" do
    sha256 "56cdf54c35ab1c15d035823091c78fe3c63eea2a96a8b6ca92b7210a01d20cc1"
    "es-AR"
  end
  language "es-CL" do
    sha256 "249104490e4ba9af195f1774f6d05215b6a8aab836a5293e94b585c80a8f939a"
    "es-CL"
  end
  language "es-ES" do
    sha256 "40b28124a6c2b3ae846b5fedbe09aec5822713cc0f9377b3bbe66f59add5b9ad"
    "es-ES"
  end
  language "fa" do
    sha256 "0438150192090c0cda980f458eaed1f273a0aa585a9983251b438db4b810c012"
    "fa"
  end
  language "ff" do
    sha256 "acde752838cddce60c955c57fea7fd000faa2aa3694b08a87fb1e1aa15e3bdef"
    "ff"
  end
  language "fi" do
    sha256 "da30394ae4ca9e011bb003779a913f3decd3be05c738e0d009055c66913db903"
    "fi"
  end
  language "fr" do
    sha256 "1c9e163456e48477f14d54023276953e2cb2e95723c8d92f6f7d75cf95bc2f76"
    "fr"
  end
  language "gl" do
    sha256 "45e7a904025f71e19baa59c798da4c6e68ed18b8ac9c7e939ab6df3035574614"
    "gl"
  end
  language "gn" do
    sha256 "b3196f88cd450ad268e318cc8f9cbcbde2d31e8243727529f6a274c66756f00b"
    "gn"
  end
  language "gu" do
    sha256 "11a5ead04e1d4032ae953a0dfb41e461275b4cc49801ce3195f5a50d0c20a073"
    "gu-IN"
  end
  language "he" do
    sha256 "3abcd38fb93e4d3cb881f2282ab36e0f3f10971fbe7e7d23b7e341c8b5312372"
    "he"
  end
  language "hi" do
    sha256 "cd7b1aa527119c14a60ba58b5065a3a5c794493c163cff5bad0dd3d13e6ffbbe"
    "hi-IN"
  end
  language "in" do
    sha256 "cd7b1aa527119c14a60ba58b5065a3a5c794493c163cff5bad0dd3d13e6ffbbe"
    "hi-IN"
  end
  language "it" do
    sha256 "32bc8e319466a11eccb6877741609cf3692c6101fe64d9efb668d27b88a2112a"
    "it"
  end
  language "ja" do
    sha256 "fb48710d8544b0d975a68010f06a736f37a740d3479c1b0fb393edbcd852820c"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "54032c7c453ee0c0b3888e722c33fab91e50d5bc0de26ff234fede781adf19cc"
    "ka"
  end
  language "ko" do
    sha256 "e757d23b4598b39b85dfa75e53ddf5ada8b6494562577023e150a11d2367e886"
    "ko"
  end
  language "mr" do
    sha256 "fabc2da4f44cafab8563ae800f50f24a030b701ea2d0cbd88ba70a09f9db1b6e"
    "mr"
  end
  language "my" do
    sha256 "92c08876452b75d0270fe614867493e97cd4488c08c28f9598027725f928663a"
    "my"
  end
  language "ne" do
    sha256 "533d7153453f1a92a4a6449ca8030d0c56bc70d16ea75ebbbd44ef62d8599f6b"
    "ne-NP"
  end
  language "nl" do
    sha256 "b0b513750659f2a2124c47cd1973ff578d89028d2491f3ab788a5c91cef2306f"
    "nl"
  end
  language "pa-IN" do
    sha256 "08fbdb2650d91c6ac0908131e99cf1d23dcd22d740acc1e7f9f5799d0e5025c6"
    "pa-IN"
  end
  language "pl" do
    sha256 "e1bed08f8db77d7dc844e7b6f9d945df329b5ba5be557db30dfae1f983c69407"
    "pl"
  end
  language "pt-BR" do
    sha256 "2c6af5d5332d55d859eb588f8176b7f93beaf5bd21a81775f409684a0c55a304"
    "pt-BR"
  end
  language "pt" do
    sha256 "8ada360ac70b50788addc25208deee2e0a784810a9e547579f5fc92e9aaee1fc"
    "pt-PT"
  end
  language "ru" do
    sha256 "9558caa1be98abda80ab6753b7d655661364be6d98fc24bc191add9e015f780d"
    "ru"
  end
  language "si" do
    sha256 "bf6a68b5105b47d3dd4e2d4d26d9b0d313bc1e875ab3cef5dba161f331be26ca"
    "si"
  end
  language "sq" do
    sha256 "2f78dcc8633805287311f6cd3fb045cea1c0abeeb702f70f7712868744586319"
    "sq"
  end
  language "sr" do
    sha256 "2297b7294d0277117ea20670d1ef3d0ceee8932cb904f154f01907c8d4e1bf80"
    "sr"
  end
  language "sv" do
    sha256 "0f801dabb1b245f028eaac735ad078ebc54e122eeff12a1cb5f10be09edd6b85"
    "sv-SE"
  end
  language "ta" do
    sha256 "0f162ef6595246dc93d5cd573aebb98f44e07c587fe534d45c59b40e93cb2345"
    "ta"
  end
  language "te" do
    sha256 "228b6ceedbbadfc2090babeb35834058dd8e6f6ca76bd5eca5e093b92ad93361"
    "te"
  end
  language "th" do
    sha256 "6c506d61934460cc359448fa65e9af943c3079bea5bbd858b07b4d89f4c4ad0c"
    "th"
  end
  language "tl" do
    sha256 "459e090e52f541460753a23d9611d20c4acc72deda3f11f17c50abe98200b7ea"
    "tl"
  end
  language "tr" do
    sha256 "aeef3b2ba50a431a3e8a8640658fccc7c0228581a3f0620c2411dcaabd4ec8f3"
    "tr"
  end
  language "uk" do
    sha256 "889534e69eafc8376157343f4d525418858804012a4be1f6f787043a99ec74df"
    "uk"
  end
  language "ur" do
    sha256 "cf76f9e30fb7a49ed630f70ba680229020d8e40c71ace68119f5fa0460a1c400"
    "ur"
  end
  language "zh-TW" do
    sha256 "ca3785d7922eecd396f506b72ae5ce92a06111509a706c0c99e73814875c9c22"
    "zh-TW"
  end
  language "zh" do
    sha256 "ac18970bc89a8cd78eb101317ee7c10c2a128342320d4ffecd2d4636ea67d0e1"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
