cask "firefox" do
  version "117.0.1"

  language "af" do
    sha256 "8634e251014fd3e09bf5c014c908eede1dc94d45b62ecba2367d9b6b4cd63f06"
    "af"
  end
  language "ar" do
    sha256 "dff7ba228bb09915f4527883ccc5c37a069e95f5465ee454f8fd8958f17e3800"
    "ar"
  end
  language "be" do
    sha256 "7698b61b74774abf0b53b8cc5ca015d27d74c64566422f26b361cae42b7a3628"
    "be"
  end
  language "bg" do
    sha256 "283171269e83f7b05ee7b34907a76d4b4e37eb111655dd732416e55d7dc721bb"
    "bg"
  end
  language "bn" do
    sha256 "5146103bfd36c3aa0959d2a8f32a9e26e65bfdfc78b792c12027e934d1f341fc"
    "bn"
  end
  language "ca" do
    sha256 "e47d0fcb8dd178520d148df6dae8d4a61285406757d9b1f3afbd59b146493816"
    "ca"
  end
  language "cs" do
    sha256 "244a9ec9ece1144a3631ec75a0c3482c60567d821a135371ec1975295102444e"
    "cs"
  end
  language "de" do
    sha256 "0d30a5376866dc61f25c79188d6b1c022143c03f78143ebeedec3dc13d2bc87e"
    "de"
  end
  language "en-CA" do
    sha256 "8208f286ae3e152704c16806c10f2799ab7c0c0c275b2a0e8b14830e82723e17"
    "en-CA"
  end
  language "en-GB" do
    sha256 "470e95d1ac945974ef7f4faf0388be48a8eba96f89d3b83254d803b68d79de85"
    "en-GB"
  end
  language "en", default: true do
    sha256 "11a153fd97d2074d730ecf829c817410aa2901244906332dbf1e36e81ca2f912"
    "en-US"
  end
  language "eo" do
    sha256 "a8c59ca144b3e0c5215aa5a1c416e152bd31b5d5966aa179a3d8b8c898ea7b40"
    "eo"
  end
  language "es-AR" do
    sha256 "5fb581d4b93b37ebf53ff8f6c180e6ab721fcfb7388ea85dba0f6ca889e38d4d"
    "es-AR"
  end
  language "es-CL" do
    sha256 "60ba53dfac2b14b55e4ba0b2b8553ddad6ee9f4e399fea4416402d82019bb486"
    "es-CL"
  end
  language "es-ES" do
    sha256 "93de6999939afb9113e95a39fcae0d222cce387487fb1584847f25d0d877c4cc"
    "es-ES"
  end
  language "fa" do
    sha256 "8ca6d411e58d967c6478f1d11738f3c5faf3521e436c0e57f361593f2019f976"
    "fa"
  end
  language "ff" do
    sha256 "3b9b6677a19cfe1b42c98e7d556050daa02bb5c2b84d744ef49e03b856e2dcf8"
    "ff"
  end
  language "fi" do
    sha256 "584b1a20fe74828eec7bb6d9104a84f50b2cff67c9eb435aece0f474cfedf7ab"
    "fi"
  end
  language "fr" do
    sha256 "7042cbcc2c989724d002957603861ac23a04174ceed9e00e26b3f5ba4d0a445d"
    "fr"
  end
  language "gl" do
    sha256 "79d80ddb72c8ce04b56b70cef7e6b298b258954bc06d07ced34304c6b20af5c5"
    "gl"
  end
  language "gn" do
    sha256 "f38a23b7d7068e6f54c8ab347d514c6f87c1ce28c834ae5c38a81ece0a0ae83d"
    "gn"
  end
  language "gu" do
    sha256 "0bd47b7dfb729a7b194716cfbfe78c36140407a5e606313d4a0bd24fafca3046"
    "gu-IN"
  end
  language "he" do
    sha256 "ff1ab8de0eff67ee577097c12889798a3fa9c1ccf9ef4280571a3fcb274fe4b0"
    "he"
  end
  language "hi" do
    sha256 "000befb033f12455f9e8e016618e9f1995803bcc3cf60a5d3e1270a617fb9a9a"
    "hi-IN"
  end
  language "in" do
    sha256 "000befb033f12455f9e8e016618e9f1995803bcc3cf60a5d3e1270a617fb9a9a"
    "hi-IN"
  end
  language "it" do
    sha256 "43a741f158ce5294727a9c02227e992edc62169898497aafba6c5a6acbc55bab"
    "it"
  end
  language "ja" do
    sha256 "a6878096c7b7043c44d2134c464b7dd5253a18ab2f0215c71e9c9619cc368c90"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "df06460077b133d7bfbc198effeb2c65305dadda5e9adb61dde6e9797681987e"
    "ka"
  end
  language "ko" do
    sha256 "7908bfbeb59da20d73165bfa9011cea5ddcc35d256602929d4b47bdd1f9d5861"
    "ko"
  end
  language "mr" do
    sha256 "a6449879bdcd9a41850d13c3812ca239c2ead54d950a4eae01cc680f640386a7"
    "mr"
  end
  language "my" do
    sha256 "f0419e80b1970d28cc311407169317360eb43b001c8c6c36d51ee03908d4f888"
    "my"
  end
  language "ne" do
    sha256 "ad13d8ec6dc1b1d2c9d0a4317176514dfd48022f1a0aa20e42c19e4d8f5f6331"
    "ne-NP"
  end
  language "nl" do
    sha256 "8871dec9f2df31985e26068848b52ea49e3e27788cfe6ff1f999c4a8dfd291be"
    "nl"
  end
  language "pa-IN" do
    sha256 "92e552d71c145b447f06f1df1d6eee570b3f8cd4dad8b13dcfe93909f7a82a76"
    "pa-IN"
  end
  language "pl" do
    sha256 "11d94e94dc2162bacdc0775e161181b1bf2db221d7a8d9cf374e64eed6d301e6"
    "pl"
  end
  language "pt-BR" do
    sha256 "3d576193b37c7f10cd57419fbbfc2cef7c47b5cfa8b4edf1e853e1abb1b6fdad"
    "pt-BR"
  end
  language "pt" do
    sha256 "97a1a1e1b4f13fcdd07b94e86db6209b9ce9b240e58f7058d66c86a336c71561"
    "pt-PT"
  end
  language "ru" do
    sha256 "0b4cc14006e3b5e926a62cfd18e95b64cec1b79eb35bca4f2240e9cd860d62a0"
    "ru"
  end
  language "si" do
    sha256 "46788c37d803056321d183492af03b5b8d79101e8ee55d7c2627542a155b1ba7"
    "si"
  end
  language "sq" do
    sha256 "a34a2eaf81053aa1db574941a750f56ab34f0af94381fa74dab9411a5e01e266"
    "sq"
  end
  language "sr" do
    sha256 "8d9b11aeab778974a0af439f96b8babde2254f919199439e466ac4afd83ea818"
    "sr"
  end
  language "sv" do
    sha256 "566b959dd7f5b2cb2b8010d2c921f383495b1ea0cec35338d625880f8cdc0cb0"
    "sv-SE"
  end
  language "ta" do
    sha256 "99b53060bf902d3eb25205852f090c461c3d5002e3318c73b8ba8f4772521315"
    "ta"
  end
  language "te" do
    sha256 "c5474265fb3475d471055d7bf8cae2ec1928eea0b8b2a6c24872ec56d58feec2"
    "te"
  end
  language "th" do
    sha256 "4d543e7a9d87f8045d4ec6e162c9c482644395a9b8e7b50bd944d806f725cd35"
    "th"
  end
  language "tl" do
    sha256 "6724c76e40c969e5115e6082d96e929dca1ea632e00a0640249fae9a8294ccfd"
    "tl"
  end
  language "tr" do
    sha256 "a32fba0b38e1ee632d954bb1f74b19c43df737f4eed22a1ab61ea6b6762f99b2"
    "tr"
  end
  language "uk" do
    sha256 "e43afd3073a6e781eee15f9c49c70d305884300dca02639781bc0aaf5f33b6fb"
    "uk"
  end
  language "ur" do
    sha256 "f1b792e4b074525833044a996b5ca80a170be65f06afb9541b806691a1bb918e"
    "ur"
  end
  language "zh-TW" do
    sha256 "1c18f0b4f79457c91ce74c15495305238d7b74471e58e85f9b5ebca6a409cc18"
    "zh-TW"
  end
  language "zh" do
    sha256 "339269b93a059e5f73280f3119e6f2e5733815f67b1d338f9709f0c1b8813866"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
