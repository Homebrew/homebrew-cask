cask "firefox" do
  version "135.0"

  language "af" do
    sha256 "d0cd894418739a2503e2ffee194aef702d7c1ceaeae9f9e89a3db7eabcf49929"
    "af"
  end
  language "ar" do
    sha256 "45f223a6fafca0211129063acf1dff95e8e5e8e5a7f348de028bd6e7dc2b2e9b"
    "ar"
  end
  language "be" do
    sha256 "4aff14fba1f764485b8fbb6bc8e9cf324ef16e31311ed239f4a979b8d1847a29"
    "be"
  end
  language "bg" do
    sha256 "664a81c62d863cc9bc4587acf25bdda4c6b422ffa0e21d4bb469bc1f4d2674fc"
    "bg"
  end
  language "bn" do
    sha256 "20c11e620a6a167c61053ea1cfe0d71393b4e94fa062b82ef8847fe32b01b6f8"
    "bn"
  end
  language "ca" do
    sha256 "5d5113ad586405e8dda3beea4bf5e03c4b52943da3f755a26fb29f1eec9585ed"
    "ca"
  end
  language "cs" do
    sha256 "e5b7720cf71b537fde3de0468ae2a94fbef55e31e18fa9eb14120f3d0495aaf8"
    "cs"
  end
  language "de" do
    sha256 "13507388682afa9b361cb6cc937514a461d2ae523852659a20ed19f3158da30b"
    "de"
  end
  language "en-CA" do
    sha256 "b248940667c72be8b3b2f06614467bbb9de6657569f23304af50964a39bc4025"
    "en-CA"
  end
  language "en-GB" do
    sha256 "9f59b6f52e3eca84f8cbec56ad635d5c8a71f25b34ba9b88d7e4d391e83fb85a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "e55e24e6b2a4980f4b9091900835977b282f599dcdd5e38b753d95bad8a11da9"
    "en-US"
  end
  language "eo" do
    sha256 "4fa24ff70e9d0b00f1b3911d4ff0dae58bcb21bb81ad99e52a3bc93492ebaef3"
    "eo"
  end
  language "es-AR" do
    sha256 "6603ae71045066175fc21c7077e3efdad9ae15011ecc65f045700dd8620112aa"
    "es-AR"
  end
  language "es-CL" do
    sha256 "4171c85acf9977f8bf67fcaa8732c644d021a264f2255cfa420e5d0abbf8dcd8"
    "es-CL"
  end
  language "es-ES" do
    sha256 "f9e55764e7e71f0f450eabb7e3f4e44d0b35ba5c56e55cadb925738657021261"
    "es-ES"
  end
  language "fa" do
    sha256 "8ee0d4c9ad3c0530249e53b5e5b5ad05f8d4340937c1096670af67b3daea01ab"
    "fa"
  end
  language "ff" do
    sha256 "477d7b7b5fb273a7ee31fefd65ce7303dc817a71bdd7dbb2ce0aa060ba5c2032"
    "ff"
  end
  language "fi" do
    sha256 "7d06adf5f4948e3a91533a8a9e80169afa52e2ccfb5eb5edb3430000cc6df0f5"
    "fi"
  end
  language "fr" do
    sha256 "c73b198d7da62044c2faea7ef18d3542a105d966fe0577d6792752e624a90d6a"
    "fr"
  end
  language "gl" do
    sha256 "a5ac2e7df3b2bc0091fc069ade3017b6197384d1049ba829d32505bb3032e9f6"
    "gl"
  end
  language "gn" do
    sha256 "5473168dc402fba7625fcd05416c19b1da7f437fed9e353ac805a5e728250b89"
    "gn"
  end
  language "gu" do
    sha256 "91b3206b8ab2fe100c6d8f246d694b2edca157bd1652c48ace1fb01161f610b2"
    "gu-IN"
  end
  language "he" do
    sha256 "8c5d6bfdda89f74cf37551a53599615cf7adee82bd3fd848af9ada91bdfbe860"
    "he"
  end
  language "hi" do
    sha256 "cc35c7c02783c9360ddc753a722e4dce39b67b5097c573bbb1d69606de9027e6"
    "hi-IN"
  end
  language "in" do
    sha256 "cc35c7c02783c9360ddc753a722e4dce39b67b5097c573bbb1d69606de9027e6"
    "hi-IN"
  end
  language "it" do
    sha256 "d9b0e6acc30f5c8d31a429100f4283d7cfda97fa949c3f79d003f9248b723286"
    "it"
  end
  language "ja" do
    sha256 "2e383b033b963e90a22fd547f01d5da7ecc505dab0fb4d2f95e7977f3a23c9ab"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "6e162e0c591965d59b7f0d47f8ac4de89de9938ab881848fc97679a424ce4adb"
    "ka"
  end
  language "ko" do
    sha256 "4baae473aff12e2cd27bcbcb6c39e25ff1d88782f96d6fbc6e23811304df7048"
    "ko"
  end
  language "mr" do
    sha256 "6e5eee1669332e7b29ed9c23e4d0afd8ab7181716655bd7f6ad002615d1835f7"
    "mr"
  end
  language "my" do
    sha256 "4b5ee20e3c911bdb3df3f5658df0d3dcdd6c3fead9908883306d26782bca45f4"
    "my"
  end
  language "ne" do
    sha256 "0b945dd2403e6aee81433bc935ef2fdf0e48baaf270edbd887ddc94f69a78632"
    "ne-NP"
  end
  language "nl" do
    sha256 "767ee348351a13e7da794a70a547b6f00ec790a4baa6940ebdd49fc17cc98ea3"
    "nl"
  end
  language "pa-IN" do
    sha256 "640e24de6f4cb00d3a7bdb01e4af24b124dad1e5b806ca5d07037789b9dd3bd5"
    "pa-IN"
  end
  language "pl" do
    sha256 "fc1792d0f67b3bfb8355b321f231dbfd9c5e9a2c6bf316ff843432cb3b7f27d1"
    "pl"
  end
  language "pt-BR" do
    sha256 "610f25a10652a3ffec31812a0c947dd1feeb081aac167a68b66b8c9e62021460"
    "pt-BR"
  end
  language "pt" do
    sha256 "a8c6e4df4cfd93ba320c47a87ab1fb1e34a77be9fd7c69a6a6318c297fea7293"
    "pt-PT"
  end
  language "ru" do
    sha256 "0d6e4b300c7d4b37e6aaaa27d5f3b669d143b7079b03983f426b0eaa38c1e18f"
    "ru"
  end
  language "si" do
    sha256 "7b38207f4a4a70ee025faae628683029800a35fa11109b0e0b3d63a1a5cbfdc9"
    "si"
  end
  language "sq" do
    sha256 "bd4eddcb101a130bf9c2bbaaaacd55342cc99b967f92506f0f44f098013d1439"
    "sq"
  end
  language "sr" do
    sha256 "2a24404622777aa4190333dde75955b3d7281b009541bde7151e9f2a4faa7b35"
    "sr"
  end
  language "sv" do
    sha256 "7d2986ebd018a283188f76bf194a1f6a41738c74ba47b666ee9ba7c816be5264"
    "sv-SE"
  end
  language "ta" do
    sha256 "9a41a79b8e7a88f5f788a57323eaafa3949d91c2acd66f23530f2ce5f3010cad"
    "ta"
  end
  language "te" do
    sha256 "0becd4b765bd2459a228abfe12b5c206fa26c71637ef1d1ae9247e3e639544db"
    "te"
  end
  language "th" do
    sha256 "caed853dcc805e8bdb93a3e15c58c019f12f18500f6eaa0fe565567568b7b64c"
    "th"
  end
  language "tl" do
    sha256 "31388d8a892c28b7cdf4e67baf38a4edf14dcb341a4dab2e371560ca574aefad"
    "tl"
  end
  language "tr" do
    sha256 "d79196624c63240b3123f962fa09150be33568ea36164325edb203c76aceff16"
    "tr"
  end
  language "uk" do
    sha256 "08563493a1ca350e86ef675fc50627a2d144e1c8ee042339430eb2bafb3ead9d"
    "uk"
  end
  language "ur" do
    sha256 "51ecb3966bc3a8225fb6d42a6b0b775a534fb64aeddc330ff576d701fd52e888"
    "ur"
  end
  language "zh-TW" do
    sha256 "3dbe6f961dbda09172b7d1377924c85e2d93a560f61011376c3bb7b331082bac"
    "zh-TW"
  end
  language "zh" do
    sha256 "80545fe14807870ce4af2a696c24f82930ce0542507b89025a9e7318f2c51d64"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
