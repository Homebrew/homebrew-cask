cask "firefox" do
  version "138.0.3"

  language "ach" do
    sha256 "b0fa2207d58b3cc3d38f045aec8814b871d2bc43c797f652c9eed3f73a6b71a1"
    "ach"
  end
  language "af" do
    sha256 "4ea856e6384407b7efd1a2f0aed96e170e1d6a609dcb67b7c93a6e9792387816"
    "af"
  end
  language "an" do
    sha256 "82e927f0ddc7e4f52641b0394ff1bf0573691db5408bb1b8c0e2b8c7a3cd7322"
    "an"
  end
  language "ar" do
    sha256 "ca4974e1eb76d50e830cd2944e9f3ff7ca8aad43ab21470d2a50a66f2228a8ba"
    "ar"
  end
  language "ast" do
    sha256 "72ef00c25a8529949aa4e67ca0ae6be6431e971286569a1a9cb71c6ce4ee5a35"
    "ast"
  end
  language "az" do
    sha256 "c29c200dc5b476d222793243012cd03ad668804de12abb2a793ee53b4b80044e"
    "az"
  end
  language "be" do
    sha256 "fe27e0a2e57f761521086a8f30800593ac75d94f0aed4d968481627abfad1d2e"
    "be"
  end
  language "bg" do
    sha256 "decff259b02148c7c7e36cf1a0cf8b478a6a4e5038cf750d1f70d2d33da672cc"
    "bg"
  end
  language "bn" do
    sha256 "e7838ab85ba5b6e3e6aef17cea7080688ac50aace1b481263372cb9e9d11edfd"
    "bn"
  end
  language "br" do
    sha256 "9c4cabe945dd13fa3e3af24d4da9f7d50a3637ffce48a14f3e6c4c0cf0d6ad04"
    "br"
  end
  language "bs" do
    sha256 "c8b8657b115d9610b0e42628cd5a6936f59231bdd86529191284c5c094cd8ec6"
    "bs"
  end
  language "ca" do
    sha256 "07ed0ac3cad4758a82309b8763eb67ea5ef03715b623e3c65be65740a7f7af46"
    "ca"
  end
  language "cak" do
    sha256 "c075bd690e356c950adea2cb2bbada9a02094888e725559b5e1e6723d831550f"
    "cak"
  end
  language "cs" do
    sha256 "cf9f9442ef3c8f649bd92513f9a515af73265a92ae2995a72ee3727369e38a27"
    "cs"
  end
  language "cy" do
    sha256 "0082ae78a2801164756e5793886f05974412c6202aa4d46037f80cf3fd2ae2bf"
    "cy"
  end
  language "da" do
    sha256 "c954d570506d63aeb6d2cf9b849b9038ee1feeae495f23c004a2c107363847cd"
    "da"
  end
  language "de" do
    sha256 "100b23043a58596ea512200f144cec91f337b411d0bbdb0e5a56fbf2dd440f08"
    "de"
  end
  language "dsb" do
    sha256 "2132385fc475715a5713ce7a6635b3da20f80039d7f35309fe6bc08ca3efad1f"
    "dsb"
  end
  language "el" do
    sha256 "02f60c255f96db45a69c510500320e1c23059201837b96f3750b4a7653a8ca1d"
    "el"
  end
  language "en-CA" do
    sha256 "18801fa25747833b958712e04a01e9fcc0bbf719033827de081965fd5e7b0400"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c1efb48770df18143fa91293ee0b9fe72f8731a1cbd9e150974213abc561f366"
    "en-GB"
  end
  language "en", default: true do
    sha256 "f0b40dbffbc9f8fd9520e7305304c0fe0ed6c430c7936c12a36cb8642b7da530"
    "en-US"
  end
  language "eo" do
    sha256 "cdef220f95272d91d3efd7a23b3109b68c7781ae020e67e78685aa8bde36284f"
    "eo"
  end
  language "es-AR" do
    sha256 "5f81f4d07a375b0ab67de770d186eb3c4a257bf74af95b8710c5ee65f908f20e"
    "es-AR"
  end
  language "es-CL" do
    sha256 "30b7e7ee79f1a61bdfe7c2f4d6c38b834366ff5f9946a94e28fd5937b7fcea32"
    "es-CL"
  end
  language "es-ES" do
    sha256 "f30a3a53c7205e20725e4aeda56f09bd59871b2fee97ab16cb28258c2a5f9a93"
    "es-ES"
  end
  language "es-MX" do
    sha256 "46782abc8befea16d16ae5669bde765277738d095993c7890b287cfda1739c21"
    "es-MX"
  end
  language "et" do
    sha256 "daf126b3be7e5584ad12f2bab8fc26a53c046f66656af9173394f4b69a62df76"
    "et"
  end
  language "eu" do
    sha256 "d17eafcad0374759691279301d855fd00a21a353e50c6aaf2502cbc10c24f5eb"
    "eu"
  end
  language "fa" do
    sha256 "48be986fadcd63e3fffeaf2c3f94939774313d0558a710641747f42f8ee65926"
    "fa"
  end
  language "ff" do
    sha256 "08676054c57d799403b2cc858f6f9fd32243a2eac422404c30bd6c569ed1e1b4"
    "ff"
  end
  language "fi" do
    sha256 "c4cdb5b89812a3e88219d17d80f08939d704e4b72e4bb1c7aac95e389f6fd310"
    "fi"
  end
  language "fr" do
    sha256 "fe04e2554ffc9a0c7167e0c673dfafd9e205e0ac83bc727b22a34f8a292da9bc"
    "fr"
  end
  language "fur" do
    sha256 "c0e4a70193355c5c0f52c39d851285ebd1a18ea912296246caa5bc5c95e9f6a5"
    "fur"
  end
  language "fy" do
    sha256 "92672996ee6b8be3a3e67b9896f6c721993d0a4677d971073f73859a96c35a0b"
    "fy-NL"
  end
  language "ga" do
    sha256 "2e6a40d8622345bacc6985438c7ab8e9e079a5d69756009de8dd073c94864023"
    "ga-IE"
  end
  language "gd" do
    sha256 "5b3dae609ef0c86e13f3fe37104cb4fc0d85e93a9e4f355289daba694511b988"
    "gd"
  end
  language "gl" do
    sha256 "65d34c27bb3bcf02e531cdb4ac5bb121e29587e56645f845c90adbca1e775077"
    "gl"
  end
  language "gn" do
    sha256 "c0f95f12edf573bfbba0273b4485d6135cb591e9904372ec6a07ea27602c7356"
    "gn"
  end
  language "gu" do
    sha256 "b78ece5b31fdaa3cd4ddb4fe674e4635972e3dfbed6feb75e59569b2e5dc2bfd"
    "gu-IN"
  end
  language "he" do
    sha256 "87cd5fb3710c1256ae8fe66fc4ca51c858d3e283a81309959b03f3519fced0b4"
    "he"
  end
  language "hi" do
    sha256 "f1e3370dd6662410caea423f874e07669e91f1346991432d307474e1b71e8862"
    "hi-IN"
  end
  language "hr" do
    sha256 "41eea29eded2b215dc3b8e6f41d50a3f013f3520ee28520142d133d3c8ca6f80"
    "hr"
  end
  language "hsb" do
    sha256 "b13610f5f4cb65ed33126014be707b15aabfea61527eee4595222baa808bbe8f"
    "hsb"
  end
  language "hu" do
    sha256 "a092c69621c6cdba10feac3c80607f956f72505c5ec38802f2bf5f4ac1403bda"
    "hu"
  end
  language "hy" do
    sha256 "92f668f4573a00877d96c523eb30eee6924389064e46324e3add2dd327824a4c"
    "hy-AM"
  end
  language "ia" do
    sha256 "a5e0cb2a1c2229122cdc8f312e66acc39f3bc935d2b4dcf4d63ae0a97e4a9483"
    "ia"
  end
  language "id" do
    sha256 "6197a58697007026af9299c2f4fb7f346c644a23ce7e4528a72b2ec331802920"
    "id"
  end
  language "in" do
    sha256 "f1e3370dd6662410caea423f874e07669e91f1346991432d307474e1b71e8862"
    "hi-IN"
  end
  language "is" do
    sha256 "5687186b1bce0f91bbaba5624377b4ae7442111a29c2baa105091c1a17daa33e"
    "is"
  end
  language "it" do
    sha256 "633161652f7db5f768749b3a2f319620a331bcc8b10132cd781f49511f50b78e"
    "it"
  end
  language "ja" do
    sha256 "9aca28d6cc3681421cdd03014c75c74ad061be28a08183d1a82cbf7d53bdb4c3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "490f0d3e8f8de8751da81f7870d982bd7b23705c68bf1152a1989538c4718de9"
    "ka"
  end
  language "kab" do
    sha256 "e97b5b195137284c87e234788fdb188cb46c03ba45ed6c41cbe3099e4bdcba8c"
    "kab"
  end
  language "kk" do
    sha256 "48862ae902e900f845f324f057db4bec51cea25fc84a63538f94318546ae859c"
    "kk"
  end
  language "km" do
    sha256 "5f8f2c977e2f7bdb3582a029bd784d1db9d3daab294635a297513bc927e59cf2"
    "km"
  end
  language "kn" do
    sha256 "e6b3ffa6098c12d45f9dda4fe65c6a759a5f214a75d1180616ef49c75f0aadbe"
    "kn"
  end
  language "ko" do
    sha256 "d7946f65cfb48ecdc1b665a55ff2fc8dbd765e4469080ceb0f63f4b6c6a3d923"
    "ko"
  end
  language "lij" do
    sha256 "e6d348d96ff01c9b503d6fc97de171aba8ba3015ed333361027515adfc5e8a8e"
    "lij"
  end
  language "lt" do
    sha256 "09fae25ecae4b8bb3d61c9805723e595a8535ab09765392279a1e23293a13ed7"
    "lt"
  end
  language "lv" do
    sha256 "b83ef51f052543eb82abb57d434024db075ec908553b40a72c6b92904d7c0b87"
    "lv"
  end
  language "mk" do
    sha256 "670e3b6e33da178448fc0915ab9164a1a3b0da4d1d657f9b2348c969b439e490"
    "mk"
  end
  language "mr" do
    sha256 "1748151007ed30d034398bbbec4379cad9762d49dd03316a4ce628919b383551"
    "mr"
  end
  language "ms" do
    sha256 "acbab86da5cc9bfd7aba75d49a64e6db1a9d1335b878ae60c388eabd0de3a108"
    "ms"
  end
  language "my" do
    sha256 "09b5ca847b88418b891872f7817599b58660df4787a807f1324827e3f68e07bc"
    "my"
  end
  language "nb" do
    sha256 "4691095ac2bf351852b5a486345cc0c03977c4a48adb6a8e3d0e19e1a0c394d8"
    "nb-NO"
  end
  language "ne" do
    sha256 "80cc1e0205a55bccc618146da2ec3d74010e1688fd4868e4f81089e068800e51"
    "ne-NP"
  end
  language "nl" do
    sha256 "292a1ddf76d1f209de3c07be5345893242c452e982bf26882aa6e6fb405f9203"
    "nl"
  end
  language "nn" do
    sha256 "060f286d0843e5740d0920bc80e2f21d8e1c0a1b54f64b165db953c5936f516b"
    "nn-NO"
  end
  language "oc" do
    sha256 "11c713ad5945a4490c88b86fd57f982399538ee1c49ce0a772c123d60e6a4f71"
    "oc"
  end
  language "pa-IN" do
    sha256 "3b17e1386dece01b591b72a7031b0f69eac280f3e14886e92f08eb482a687b53"
    "pa-IN"
  end
  language "pl" do
    sha256 "fe7bba0721f73e9e1784d517370cca774c2e3d58cac01bc8c855f54f3351d1e7"
    "pl"
  end
  language "pt-BR" do
    sha256 "119f4895af5d10091cde3b09b0ac9d338c50b2d94e7df95a6dc24ec14ca20532"
    "pt-BR"
  end
  language "pt" do
    sha256 "7e9b9a13ac73b2533bde3d69e0a6aa29726c6b16126cc6958ec3dd2a0956792b"
    "pt-PT"
  end
  language "rm" do
    sha256 "47cd8ce0fc4921c223320c92a17187698870a34a820a023b773e7f44224de926"
    "rm"
  end
  language "ro" do
    sha256 "1d826e4f2a6df0dc8500618d16208e352cdf985491aca1007c27dc2e2f15fadf"
    "ro"
  end
  language "ru" do
    sha256 "3d698c7798c1d8d3167b72a809c3c55ef68983514e198baabe23156e12c2dada"
    "ru"
  end
  language "sat" do
    sha256 "28ec4f0d62d4267a144aa58d1cd89138fdf35fc815600a116f48c14617055392"
    "sat"
  end
  language "sc" do
    sha256 "8b98e6269b43183622ac78cc181f7caa82337e52bfcab4503f4e1cf3e165f279"
    "sc"
  end
  language "sco" do
    sha256 "4f5a2586bc3d2f2e2a21e16f67fe1ddebe8e2c02a3ddf5895f11e3ee91628a29"
    "sco"
  end
  language "si" do
    sha256 "d83058f5260aab73615b15f400edd515260012cd7dd04d70ed10a070432711e4"
    "si"
  end
  language "sk" do
    sha256 "d6ce584a148de2f339b5b883605f64d1137205eaf967cf0da1c85e01b0158c2e"
    "sk"
  end
  language "skr" do
    sha256 "3e605314b116a3ab240b148fae56fcac00362a6c71bdfc907d0eab7a5ac9524c"
    "skr"
  end
  language "sl" do
    sha256 "6f6c05106da0e7e4b52389358bab761784966d0b56b4ebdf5f0aa1409ba7e419"
    "sl"
  end
  language "son" do
    sha256 "0a5a7bfbcc0173864e4b281d400b5d340263e277157a0857ee8d1f8f6ad2e1a7"
    "son"
  end
  language "sq" do
    sha256 "057586ba9fc1c4b56d5648d81073749d5d5a8b04ae44497814c1de25b0301971"
    "sq"
  end
  language "sr" do
    sha256 "79b5b62457b645e47373b7f28cf9117cc636c401657065f1cde68dfb131d8bcd"
    "sr"
  end
  language "sv" do
    sha256 "dc1368d64e8b217ff6173b4f777ec6694f1e7d355225745adb9d2ac7b019fa23"
    "sv-SE"
  end
  language "szl" do
    sha256 "4a2b5759cd913bf3b671715586549c456b9b75c7b8e817e5fdfd297294b96eec"
    "szl"
  end
  language "ta" do
    sha256 "d81a263852b9637f82b1bd5ad8fc672b75a05001ec8c9c07302a0326b45fd1f1"
    "ta"
  end
  language "te" do
    sha256 "9d03a54119a51c5ba8f74a21963b7ae9dd5bff911e0c04d894848d5ff646cf6d"
    "te"
  end
  language "tg" do
    sha256 "1fb5815bb10e7087fff2a9c45c5dd96c0156d84f2a4c934ed0f1d60aa32d1c83"
    "tg"
  end
  language "th" do
    sha256 "4590eea0d0ade420a88d52110a54d3150ddd8ac59560acc2d839449b14e56438"
    "th"
  end
  language "tl" do
    sha256 "7d8b20b9042960eb144f87599a2d94dd578df7076f5870d48b65e3aee179f004"
    "tl"
  end
  language "tr" do
    sha256 "076c91e5780eff749bc19c8b0a3e80d18cffef1a09db08433e44efe771710e3f"
    "tr"
  end
  language "trs" do
    sha256 "24d0607f3c81aae5ea8854b9d8dcccc5b34670580cefc4025591dc5c51d5eea8"
    "trs"
  end
  language "uk" do
    sha256 "4dd8970ebf2b1b88c3e65735fb656364498116e4dec650bddfd47dcad49672d2"
    "uk"
  end
  language "ur" do
    sha256 "8bd0d37045c11b172a0d9904904048402ed07c24057dd06742153be98ab8d6b0"
    "ur"
  end
  language "uz" do
    sha256 "ed716cf5afcfe3b052dc87b7bdd917d4e207f2c3e24aeda882ef0a87a5deba74"
    "uz"
  end
  language "vi" do
    sha256 "93a2e0b617dce32e612cfee079353e6a2999903e4fe680caf65ef92e223bc437"
    "vi"
  end
  language "xh" do
    sha256 "70420b970f50bfc823d92c1d724e3847abc58df34f9d21482ffaf39224e79f16"
    "xh"
  end
  language "zh-TW" do
    sha256 "e112a543fea30f4e4f060731526ef19becc07bcc7937fb51c607da6cc56ceb0f"
    "zh-TW"
  end
  language "zh" do
    sha256 "b79f90c9b3ec0eaeec4b4738bb15309aab1c9fd8bb6b4f3879d2550b0c75e6c6"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://product-details.mozilla.org/1.0/firefox_versions.json"
    strategy :json do |json|
      json["LATEST_FIREFOX_VERSION"]
    end
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
