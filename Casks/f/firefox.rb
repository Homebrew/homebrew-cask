cask "firefox" do
  version "118.0"

  language "af" do
    sha256 "3d0be5bb54610a745ed01a37f6c60abc3c04b83e5d84567318930e7194ae99ae"
    "af"
  end
  language "ar" do
    sha256 "52db558b17d63af5b3e639df918e9d595cbc9c1f67a8590aa4fd9e3d359e58cf"
    "ar"
  end
  language "be" do
    sha256 "fec81d35a1729341e5f1ecc3bfbc15911b0a8eb8b83041d2ffbceb6fedd0565c"
    "be"
  end
  language "bg" do
    sha256 "1f5a387d311c22cbcc74b764ca549396c49215d951e1aca97ed2692f46350e75"
    "bg"
  end
  language "bn" do
    sha256 "5dfadce2565659c30bf8c9ada69877e0dbe4f2022a81692aea01b3de0c27fe1d"
    "bn"
  end
  language "ca" do
    sha256 "74563b3340305a8fb94d25360c341cd7a525c7f5a63a2597be704cfebe88b8f4"
    "ca"
  end
  language "cs" do
    sha256 "55468f418ce543314ee38b28a3a6eeccfb397191ee78471725dc4a44c53219bf"
    "cs"
  end
  language "de" do
    sha256 "8ff658dfe6a9d90c979ddf1c946945efcaf3ee50776bf3a62b4eb66aeded64e4"
    "de"
  end
  language "en-CA" do
    sha256 "054703409bcd47e8a5b29dd2fe8c0cb7d991f5cc77a11edffe14187ad7cd040a"
    "en-CA"
  end
  language "en-GB" do
    sha256 "03b6a5b3b1acfd531b8a9eded1115b7dec983e687f3bf366f724b18b483cd29b"
    "en-GB"
  end
  language "en", default: true do
    sha256 "cf421d7f99ade63c0616090e18277bd9cece37cab9ccbfe62f7e1417574c9c09"
    "en-US"
  end
  language "eo" do
    sha256 "fdb4c2fb6723b0068cfef9baea99de23b9f373f2278b2a06687bcc66ddd85960"
    "eo"
  end
  language "es-AR" do
    sha256 "6a22b7c84692fea2bb42d8655f3b14a478afc505863bd1bd91fcd81ee1aa462c"
    "es-AR"
  end
  language "es-CL" do
    sha256 "8e611e2e20162e1922667b0dc415b70b0bf8c3c70574cd9e369adbfbaf784ce7"
    "es-CL"
  end
  language "es-ES" do
    sha256 "7d693ce8abf252a25327e2c6a0b452711234b0504942d4b245fdcca2edfae505"
    "es-ES"
  end
  language "fa" do
    sha256 "b9faed0d3a278b1061da7af5c7e40abd3074b549396ea548738197b5d8871fbd"
    "fa"
  end
  language "ff" do
    sha256 "ae207ce60c3b6104474551dee002f85ef8d45f3630b6831c79443c1f5ca41af8"
    "ff"
  end
  language "fi" do
    sha256 "ba542770084a7ef5e360dd95ec8aea244f631482e3133e3bacd8035638ec4f5d"
    "fi"
  end
  language "fr" do
    sha256 "3dd45442d00117dc77ae3f464f7564a28d67d1debfd20f39794ee7b465b728c7"
    "fr"
  end
  language "gl" do
    sha256 "59cdcefbb1698ed77ab6cda477bb120f4e48d0ed4fc7de2d6d6ee6eebcabdd03"
    "gl"
  end
  language "gn" do
    sha256 "a5d652194774f7d30c33cc7404c1dadd23e45342c412a96bb394e05efdc60707"
    "gn"
  end
  language "gu" do
    sha256 "72518a9fdc4eb3439fbb31b783ade231e331ea6ff828d93e70e6f1cc4d2dbbb3"
    "gu-IN"
  end
  language "he" do
    sha256 "4cb3ce8b732f3ded666fda103d943004f03aa8ca16a6466c2352c2a24b152eff"
    "he"
  end
  language "hi" do
    sha256 "026050f1674c1874b2257f24caf39ad1b31abc12c740a2c3790f177a75c762d3"
    "hi-IN"
  end
  language "in" do
    sha256 "026050f1674c1874b2257f24caf39ad1b31abc12c740a2c3790f177a75c762d3"
    "hi-IN"
  end
  language "it" do
    sha256 "05384a1d77399dc94ad80e419f75ceb1ab64731f307118b283a74633bffe060d"
    "it"
  end
  language "ja" do
    sha256 "0ed507416548be51c2054c3ad3866701aa716b266ebcd43c95ce662f32b110b3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "4d4c878c3fd205449fda3656dd7e0df5b00926e7f11f1f15c3daef2413730907"
    "ka"
  end
  language "ko" do
    sha256 "07f0b0df5b07549fa6e7d60d19aaec8e646347c939c4f67e27c18759fc902043"
    "ko"
  end
  language "mr" do
    sha256 "a6e2a02240e0e01bcef04e63a3706f89edc0ddf45a18b704d147fab7d6d0f8b2"
    "mr"
  end
  language "my" do
    sha256 "d255fe3cbe59d8fc5538ff7a91ccc9e7c49c442f8de2be9717dcb18a5601bac2"
    "my"
  end
  language "ne" do
    sha256 "5a2040d1faac6a2a02e35a6ebf76d02f9791e485bcc1f4ec14f5ce09290c6568"
    "ne-NP"
  end
  language "nl" do
    sha256 "167b6b917a10e8e38f34bbc854de559e59dfd6f3aee6d2ea4153e81e932de980"
    "nl"
  end
  language "pa-IN" do
    sha256 "06e9180136e7b6a87450bade32d9ac34f0159ceb5d44c3b4f4ff0e233305098f"
    "pa-IN"
  end
  language "pl" do
    sha256 "286f0c147375ed1b2e0ec81c9600700eb05f493a12267c96492ae6478508696e"
    "pl"
  end
  language "pt-BR" do
    sha256 "6b77634b860e75532c16e41634dda5e422dc02f0be0cdf52ca1aa000805d790b"
    "pt-BR"
  end
  language "pt" do
    sha256 "4dbfdd2d4e9afdb6234dbeaefee600c7235ce6ba4eac42264867aa9c802c7dac"
    "pt-PT"
  end
  language "ru" do
    sha256 "5e14abec890e2df9110e64582194838396cc491f45cc627ceb3179c21a73ccc7"
    "ru"
  end
  language "si" do
    sha256 "c66ae02889467ca847c264a81afe269e78e720f0279175a5510f256b5e4f4907"
    "si"
  end
  language "sq" do
    sha256 "94c144571ab4ae9a056d76ac3379e885da1369fe5702053daeaa891dc0c90e8f"
    "sq"
  end
  language "sr" do
    sha256 "59e40973de018ff110be103bc2bc93f473c2c6a7007533fb1fd0b24a3a323d20"
    "sr"
  end
  language "sv" do
    sha256 "dcfa86ba2afc07eb15164ba6481ef5d2b976ea0f7300feac3810a90e681fd6f8"
    "sv-SE"
  end
  language "ta" do
    sha256 "b49c812f620ee2ee873b303317b22e2b0ac0b65b3d75c3501674816d7aae5a55"
    "ta"
  end
  language "te" do
    sha256 "23ff7ec5705a8f9cbf461382c372897f8bb9bbb8ca5d60ae2b27bc632bff9935"
    "te"
  end
  language "th" do
    sha256 "4daf1879677f337ae3f48dce92c67b91fb222914665d4646a125a0825ef678b2"
    "th"
  end
  language "tl" do
    sha256 "fb98a7ad5d3022326d8f94354dcf2814eb7af7e4dc9397e79a77a9bea4f14cb4"
    "tl"
  end
  language "tr" do
    sha256 "dcfdbf1ddabd0405b8357cb01fe6e50155ee5e6828de0b351cea1c27b2663167"
    "tr"
  end
  language "uk" do
    sha256 "51a404b5d8f897bcc2e2fe3f9ec96fac673b17a1311a709fe84003d198ccfbd0"
    "uk"
  end
  language "ur" do
    sha256 "44daaf1d10c46f5ccfd0a4b53ba6075e255aedd2e75fbf07ffd33a6eb13bfae2"
    "ur"
  end
  language "zh-TW" do
    sha256 "73133b7813323e1fa24f8b0b14227310c1347a8e9f9eebde0dcf5e172d6473e0"
    "zh-TW"
  end
  language "zh" do
    sha256 "bd1ae8cf5c04c8e5d79c00fc7c6b80630216bc2d566d00a0f7a0f35da6e2886c"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
