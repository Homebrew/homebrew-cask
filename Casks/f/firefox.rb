cask "firefox" do
  version "124.0"

  language "af" do
    sha256 "f64b9e57e4740f4a2db920e2dc33a0b11860dfbeb234386f80555ae2ba5e1f98"
    "af"
  end
  language "ar" do
    sha256 "7655c96310318b01852e948fb7d1ca108a13c7602701b414ac903d49f20ea883"
    "ar"
  end
  language "be" do
    sha256 "55ab6a37be62f6c069a441e77fe126d4f762a9a2888afd3642f36f459534e937"
    "be"
  end
  language "bg" do
    sha256 "6d4c8d6b613b858b15cf0341dd835ecf847d27e771f9579430530882a4d93d6a"
    "bg"
  end
  language "bn" do
    sha256 "c110094e701037b2cced234fdd19d15dc4ae873cd2d1a3a403171c96eec09899"
    "bn"
  end
  language "ca" do
    sha256 "35dba345fa73d030d9cc6ceb5069b12c0db6f29452b51e00a0dc3368671c6514"
    "ca"
  end
  language "cs" do
    sha256 "6a27cd10219fbdd463499a407a55e83574630f7cc24a25e3b6f2197c75c052f0"
    "cs"
  end
  language "de" do
    sha256 "ea130e643e699b7d003db35a021f82203bf8bfa9aa9ce0ab235dc86e80f91ee8"
    "de"
  end
  language "en-CA" do
    sha256 "67f377773e8fb2235f353df28a7ceff2596cdd212ab6d92f67b4e68266dc6286"
    "en-CA"
  end
  language "en-GB" do
    sha256 "440e311bd5dbf9504cf1ef6ff8eeda049e54221bb60675197736a2e24a1806b1"
    "en-GB"
  end
  language "en", default: true do
    sha256 "9876115ec8729e8138493b5898c15939476042cd5d902e364c372af4b1141968"
    "en-US"
  end
  language "eo" do
    sha256 "aade6e094fefe44546d0e15d187da251c81e53efae53be932e04ce8f689a5449"
    "eo"
  end
  language "es-AR" do
    sha256 "d42392adfe9c97837785787ccbdb9f39dc22777823d17dda63070be51cd1e870"
    "es-AR"
  end
  language "es-CL" do
    sha256 "d2e5459cf8a1ef900225ff21fb1ff21651f8a033d7d094a38b1bb44d318b833b"
    "es-CL"
  end
  language "es-ES" do
    sha256 "9bb54fae8ff181ef69766d7cbf46d33022422c2f787640e72ad375f422386d7d"
    "es-ES"
  end
  language "fa" do
    sha256 "76ae74a1ae811479204a82739f4fae4aa7d7985115b64b9b94e4a571ead56e89"
    "fa"
  end
  language "ff" do
    sha256 "634cb86803f430c8934231097c3fab72c6ef298956cef66ce8aeeb3918685414"
    "ff"
  end
  language "fi" do
    sha256 "1dba436b618c93f571cfb06b747af4e03c9965c11316e3697eb4aa94714f84f8"
    "fi"
  end
  language "fr" do
    sha256 "599dbb59821fc85352f59747ac8d7525eae4ab9d649a51eb31385eaeff9e8230"
    "fr"
  end
  language "gl" do
    sha256 "4b0b700101a61636fa92773f158730d611cd8f6654a715ca727c2e03e9952d74"
    "gl"
  end
  language "gn" do
    sha256 "791cbf0029a967f6dbb8934a5680e2a80254d60cd1f8576620622cc05d8196d1"
    "gn"
  end
  language "gu" do
    sha256 "1fcc900d033b2db91cd2054e292e78aa6acc3554d5ec0235ceaad00ed2f44e27"
    "gu-IN"
  end
  language "he" do
    sha256 "8c8830dfcf65275398780b2a918c974b3f3f592026d791a024f22f0be3e2255f"
    "he"
  end
  language "hi" do
    sha256 "d94026a5a400231cb341d145969832a263bd47233e8b4941664406508ec4fcfc"
    "hi-IN"
  end
  language "in" do
    sha256 "d94026a5a400231cb341d145969832a263bd47233e8b4941664406508ec4fcfc"
    "hi-IN"
  end
  language "it" do
    sha256 "6c4c37c1463a0de12cce50315c80e649687a58ca18fdb6c7a91c4b535db2eb24"
    "it"
  end
  language "ja" do
    sha256 "dfe386fb8bb394579312831ce3499b8aab3c3fe8cd9272f4b0c1e3c464632d84"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "dbf02328bb2b2089ca0bf43eb5c7519e5c71ee1d7b5e69f753cd3024356ae468"
    "ka"
  end
  language "ko" do
    sha256 "a49a13f475af1cf0f9fbaa25793286da781ca35bbdf4f3fab13772a11b0ba386"
    "ko"
  end
  language "mr" do
    sha256 "7a554e8f8f14fc370aa45483c8ab1d9e88c54fb7210decf2805ab29cda1830b6"
    "mr"
  end
  language "my" do
    sha256 "6a8263881a52880b24d5b419f296bc7ed52ed90132df5fe94acccc1f23dbc829"
    "my"
  end
  language "ne" do
    sha256 "7e171871a95def0fdc1fa235beffad63a76969eca3457e4a07c20c2d83d7beef"
    "ne-NP"
  end
  language "nl" do
    sha256 "0bcc8951b328c5c763610d6aff0cc9cb2bb8e6af9e06a8a8a817a0fd1edb2f62"
    "nl"
  end
  language "pa-IN" do
    sha256 "4044f874915093f90bfe4a3116195e70452d3749d6f877530f9db7f271ca307a"
    "pa-IN"
  end
  language "pl" do
    sha256 "231a54482820db690ff94d5fc50e374dbd8da63e5ddcda6cfe31127613b53e9d"
    "pl"
  end
  language "pt-BR" do
    sha256 "2a09c4c97bf1c0742490861f8c563b71bd4553f566dc995f0211062be5e819ea"
    "pt-BR"
  end
  language "pt" do
    sha256 "26e45ae17496e55110b882ccbe0a40b781f200c959c5edc729a5381b87c7c276"
    "pt-PT"
  end
  language "ru" do
    sha256 "8972d5cf362741411ac32a0cef07e38fafed98fb2d416b8b8fd980d903b9909d"
    "ru"
  end
  language "si" do
    sha256 "004dfe516b558089b271e61cdd5630469552bacedec72ebdfa5ac8dd9654c0c1"
    "si"
  end
  language "sq" do
    sha256 "b1589c0157fcbb3c9aab4c1d5ac3f9df239b1c224e68158d7443ded03521b581"
    "sq"
  end
  language "sr" do
    sha256 "7257545b7a324b3605b1ce7402bcb63419bbf51bf2d3acbb604b1ba3fc10c3c9"
    "sr"
  end
  language "sv" do
    sha256 "cbf8f34f01bd3c5333584334f40ea60735ebd63d5fc78d20882468d0273c12c7"
    "sv-SE"
  end
  language "ta" do
    sha256 "b270d03a9187e0eb0d542062f166be23e71f1ffa50071544bb38cd7492854019"
    "ta"
  end
  language "te" do
    sha256 "ee319746bf8c8d7dcabba749e66f056d1a462f3b1a3e9aeca4bba9db7db4cfc6"
    "te"
  end
  language "th" do
    sha256 "8bcee779e2f3a4b4ca054aebf680e566b2c6c2dcdde215744f087fbd3cee21dd"
    "th"
  end
  language "tl" do
    sha256 "a3931b12082d3354ad8f002336f77611cb55d1aee0e1c18f5459103b31d552e0"
    "tl"
  end
  language "tr" do
    sha256 "8960a68e19581dd639663553deb0b282d633faac14a9a8f171b5c95605eed586"
    "tr"
  end
  language "uk" do
    sha256 "0e22716693a7a8f745b09e9af3585d917194a0f1e136ae6cb7f572e7dbe6da90"
    "uk"
  end
  language "ur" do
    sha256 "2e1758b9ae5c07c2c5556205e510a0dab3fe46edbf33c1317963ce51f65c0972"
    "ur"
  end
  language "zh-TW" do
    sha256 "ffb1a3acb552154059312ea2071e80c98fe6b0cfaa475bbb5996d2723d7d87c8"
    "zh-TW"
  end
  language "zh" do
    sha256 "1f70fd72c46e8eae24c373443cb61159393bb2c88688df4a5d90c9aa925bc3de"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
