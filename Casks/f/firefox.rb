cask "firefox" do
  version "116.0.3"

  language "af" do
    sha256 "bd436a09a864990e2d7452672d14b818b0d9b2978184e5dbfaaaf5a912db1848"
    "af"
  end
  language "ar" do
    sha256 "25fdd287fbc163ca11ddf4dba380a206ee29e7aa614e08676453a065bfdb30de"
    "ar"
  end
  language "be" do
    sha256 "400f749dd078c3001f851ce827a10d428b39087d911a5606462d4d49f235c789"
    "be"
  end
  language "bg" do
    sha256 "a44766593811ab1611c440a507a40608f390cc381a0663afee8bf6cdd63b7cc5"
    "bg"
  end
  language "bn" do
    sha256 "4371060099bf4de89ebb01551ac38fc2f63a59eb802b7e15b81ad5b130439bb8"
    "bn"
  end
  language "ca" do
    sha256 "b0b9879abb7c1c0c40f8bf95beec4198a00fc30c18beec75099866aa6f629b41"
    "ca"
  end
  language "cs" do
    sha256 "1fd245b7bc5883a716d0691ea77ed3842f48372c6a2c37285d5d40b759a3ade7"
    "cs"
  end
  language "de" do
    sha256 "0a556c6ee4d4d9d65cccd7bf2cdd5a300dd9acbae1bf5c19bb24bc810b8f6548"
    "de"
  end
  language "en-CA" do
    sha256 "a6afbaabae4bc5b6788c2e025a54075ba4071a72a3f468c5329db5355aac2005"
    "en-CA"
  end
  language "en-GB" do
    sha256 "aba3e6ab27e632703e7e810da57aea0734c1968605c394037c2bc0168393295e"
    "en-GB"
  end
  language "en", default: true do
    sha256 "7bafc97d8b6924fdfb8cd9398ef745787aa96c2132f46d11ed9b28b292761e4d"
    "en-US"
  end
  language "eo" do
    sha256 "47414c3aa2e3c58665cd55069161a1e6c6f221a364722db84838cf097ff446bd"
    "eo"
  end
  language "es-AR" do
    sha256 "0e4c6e6f8c644926d48d09eaaa5691a86cfd1b9c56a269eb1c13893150f118b2"
    "es-AR"
  end
  language "es-CL" do
    sha256 "5548679af6479f946a0a49a89c38e398cddb0752b4d398cbf687f58971e8917b"
    "es-CL"
  end
  language "es-ES" do
    sha256 "75ec6a1e839816542d4e6aa66e45526521bcf856495bf2a64c4e77b43a7ce499"
    "es-ES"
  end
  language "fa" do
    sha256 "42491d2fc32229a5d1e72ccb19bf811d47470bdda5b050f90bcec0dd1702e64c"
    "fa"
  end
  language "ff" do
    sha256 "9a422d29430dd807ef0f194c4c1555b4800c290a1e04a2609743d317d6e26f24"
    "ff"
  end
  language "fi" do
    sha256 "cc85a5018e8ad50a4ed94e49c4decbd82fb4e4613a3c63ad4d1dce041951a897"
    "fi"
  end
  language "fr" do
    sha256 "64267b3d7123dacbd1909a13484206cb95f1b1cdf86472aae4f0b6007a120e76"
    "fr"
  end
  language "gl" do
    sha256 "956df42d76cd56667210783c8d301a714d418673be61df2bd578f1598f0a39f9"
    "gl"
  end
  language "gn" do
    sha256 "30a393344c6cf808bd6b0a3674d6bbccd9c339f0e8662d29184939e6f77feaaa"
    "gn"
  end
  language "gu" do
    sha256 "df80ebec3c638705a687e720d0e32db29ed508e6399fd01b71cdc5ddb7699d4f"
    "gu-IN"
  end
  language "he" do
    sha256 "3b6f1fc8566f5a7a576eada9ef1154d1680daaf2a5ca45cf318c9a1292892e75"
    "he"
  end
  language "hi" do
    sha256 "8ea4fe94d01effc707d82ef3ce7d4ff8fec80b874cfd199255f6994f5d9d2da1"
    "hi-IN"
  end
  language "in" do
    sha256 "8ea4fe94d01effc707d82ef3ce7d4ff8fec80b874cfd199255f6994f5d9d2da1"
    "hi-IN"
  end
  language "it" do
    sha256 "b02d26786a7664f5a6ff3aa45ab43c8fada1e373ad7d188e5f12f654fdcd49e3"
    "it"
  end
  language "ja" do
    sha256 "a9ef7ea76177d83d3a1da3528acd9b9bd0c3a18ae9e2b542bc2cd6d611e5bf72"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "bd1dab67d3c607922fb1f44b931a02a182f2df7ad5a7617724f1ed52924628e1"
    "ka"
  end
  language "ko" do
    sha256 "249217a994cfeb37cffb52d488f7e9881ad319df2036eac9f15cd5a5ea538d20"
    "ko"
  end
  language "mr" do
    sha256 "5c442e4fe4b69169e5838d84d1862e9d9624fc2ff11812c19bab91e1c477a002"
    "mr"
  end
  language "my" do
    sha256 "bf2ef15b40126c34b83d367869c7b6ef57c993ad312d99f399c8528aae53e7f1"
    "my"
  end
  language "ne" do
    sha256 "ae52be9deee991ff7eef1bb66557644bd678045e74935e7a1581f92a4391c3e4"
    "ne-NP"
  end
  language "nl" do
    sha256 "575cf78fbb688588f14213cb9adf4fc78d39332bc29a0f4e9ab44e95613388a2"
    "nl"
  end
  language "pa-IN" do
    sha256 "bf38ebeccc430ecf575e5d09ef764b4e5bbc152f811eeeae5eed2ab35a1cf4fa"
    "pa-IN"
  end
  language "pl" do
    sha256 "7b4ec73deedbc702fd1a9aabaf74525e480ba6d2e03b2c0f35f8a50022f3d1be"
    "pl"
  end
  language "pt-BR" do
    sha256 "c39fb08207e407a0d4e5bf1b312e75905d4684284a908565437662d83aeedd7d"
    "pt-BR"
  end
  language "pt" do
    sha256 "c993523852ac6f480a51609c61a351dae7b2afce60cab2eb173e32dc4c44c6bc"
    "pt-PT"
  end
  language "ru" do
    sha256 "593769069710abf8c881e0e9184e5ccce21ae79a10fb4488224fa6772bf6db85"
    "ru"
  end
  language "si" do
    sha256 "1b7dbb8c9bcd3190b8d59bf2693c6ea8cd1e933788aebeb2280a82599a6bd18c"
    "si"
  end
  language "sq" do
    sha256 "8ef108feb8043e3855fe55c6e915c3e8ff53550ea9cae16516d71da5026c9698"
    "sq"
  end
  language "sr" do
    sha256 "3eb9adf2660451265712c8c2c2bca78ba722e72583b381b9fcf5dd07de51cd16"
    "sr"
  end
  language "sv" do
    sha256 "de917e593b97822a6c9f595cd7bca52eaa410236fb6233253f94b29ca84e1fd7"
    "sv-SE"
  end
  language "ta" do
    sha256 "f1996b6debac01faa902493836cbe1491a4f03a2a263e063cbe607f67c0ee0b0"
    "ta"
  end
  language "te" do
    sha256 "4169ba1eaba9b1c76a6c5a411889d827af2f4d75de22b67773f945179b6b92cb"
    "te"
  end
  language "th" do
    sha256 "c9087f86ee1f9b31a0610f374186c9427527dd5e5fefec61369b5019e0164f85"
    "th"
  end
  language "tl" do
    sha256 "d0edf8cb039c582b02ac48dc947b3aaa62df4c1e0b6b2a18abd2fea1dd1baa01"
    "tl"
  end
  language "tr" do
    sha256 "5339c5f08e3190fce4f820e642eb43141125bb47fc72294c876d1acdc0038351"
    "tr"
  end
  language "uk" do
    sha256 "02fecac867ba3b8aa2d45e9da2b4677e1fa3ad48ec7888e98663e96629c2e062"
    "uk"
  end
  language "ur" do
    sha256 "499847f9031249d91db390eff18609b437d06697dd7266b5ce09fd898e836f93"
    "ur"
  end
  language "zh-TW" do
    sha256 "a5f3359cdd7fe62ba3469815b4c75ae007acb8d6f792c75dbd826720ad75809c"
    "zh-TW"
  end
  language "zh" do
    sha256 "681ebad278c3cc8da801eaa0dd5765f9516a5ba19b2883869e8bbd99aaaae512"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
