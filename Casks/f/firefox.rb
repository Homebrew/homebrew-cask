cask "firefox" do
  version "128.0"

  language "af" do
    sha256 "e4710ad54bd61e7bb0ca01b75cfd08d7ee5c3a99a319614e88c5a0864004b564"
    "af"
  end
  language "ar" do
    sha256 "db33570f1321e7b7a3dfc62666159a0a7f62454a761b2c850cdca67a8f32baef"
    "ar"
  end
  language "be" do
    sha256 "3d56a957b2344ca550ba4804cb181db14632931e47ae12fad382af047879cc69"
    "be"
  end
  language "bg" do
    sha256 "9dfcfb46ccca4b2eb8209810dfcc0c1b12011fb961b4e255bf2503b4c91505ab"
    "bg"
  end
  language "bn" do
    sha256 "0f1c692ae934980daae490d4d98b8e212516c79d3c1e4abfcd13541ef6b4e483"
    "bn"
  end
  language "ca" do
    sha256 "35a0fc3fbe2a51fbdf0fae8ce24f22c54434a860bc2d7b7e0b60ee54755c7eff"
    "ca"
  end
  language "cs" do
    sha256 "d81c5d91767ba6679bc2eb6c31b158182f4b9e2332d0ceea264f39c0ccaf94ac"
    "cs"
  end
  language "de" do
    sha256 "eadf23acfa67cf695c72d1be9bc1c466cf05e9d94852b62708c092c80d5f1bed"
    "de"
  end
  language "en-CA" do
    sha256 "e22c31d188965bbde88aea21c0998096a0ef6d98ba3a8c2c2a11e1498eb899b2"
    "en-CA"
  end
  language "en-GB" do
    sha256 "5f6b8e35d54f23ef9539a996b9a0ad29fab3c4fdc7869eac116e4c492a0efae3"
    "en-GB"
  end
  language "en", default: true do
    sha256 "d0341bae660b826fdf6a352355f462495b9a64a3a7b0f953ab85025d6ddbda05"
    "en-US"
  end
  language "eo" do
    sha256 "57adbbbf9faba14366114a13ed76187073e8e8471d3f3e8861233c96baa27d4c"
    "eo"
  end
  language "es-AR" do
    sha256 "e12cee17179b286f196017f63253a1f9d32cb363e404f9fc6046f389cced3e3b"
    "es-AR"
  end
  language "es-CL" do
    sha256 "6c9e8082bf237a86735eabbd5ddf1cc7fdf130837887092d3d3238e974b2d080"
    "es-CL"
  end
  language "es-ES" do
    sha256 "7afe826fb0e59ead9f4561e4c5ecd0e72a35b770b922168bd50e7027fb69b8bc"
    "es-ES"
  end
  language "fa" do
    sha256 "921ba1b02c02ee457308e2e2a3095984a236d57c21cb2cf4c6dd5f5e1345e50a"
    "fa"
  end
  language "ff" do
    sha256 "e364b4cd7d472710d7b07beddcdd9051a302b5b2231cb1dd4589cafd51c2eb27"
    "ff"
  end
  language "fi" do
    sha256 "bd02ae13cd113e3948dd252a8b2d423923f82a79735000e4cd75831f311fbfd2"
    "fi"
  end
  language "fr" do
    sha256 "9cb439a26207f6ba85b363532b37adafe2d0a120afd3678878c9ec9d03e6d465"
    "fr"
  end
  language "gl" do
    sha256 "a1f5307b94648dd2bac77a350845e7008cb0743671340ea84e61189739da5b0a"
    "gl"
  end
  language "gn" do
    sha256 "98af414206c766e98f8fed309f804fa66b95e3cacdcb85cd63bf240d25a77018"
    "gn"
  end
  language "gu" do
    sha256 "c8eb58487dab3fb17b4e4a61cc743ce4522ba234bc6cb712d4b5d1d22ac5ffc8"
    "gu-IN"
  end
  language "he" do
    sha256 "293076cf3c2583012685cc96498f1a620f736d30e5cb7239c08768edd2c436bb"
    "he"
  end
  language "hi" do
    sha256 "f8f78b4a5830a62ec660d767e6523eafbe150605618fb9c086537c60c164b1a4"
    "hi-IN"
  end
  language "in" do
    sha256 "f8f78b4a5830a62ec660d767e6523eafbe150605618fb9c086537c60c164b1a4"
    "hi-IN"
  end
  language "it" do
    sha256 "5fbf4e158df6da308dfbbae942ecc350cfd067e88b329b96522b7df1023f2c41"
    "it"
  end
  language "ja" do
    sha256 "d32e206a0f128f299ded72660da84f450c1248adafc53ed5e9336bfbbf8fa5d2"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "2d76db595e43d94eca82ee6fff4651f7d3fa8c91401b837abad5b1e327b476c1"
    "ka"
  end
  language "ko" do
    sha256 "67a7bc18af7f120341b2fbaf7efb6c0485e684083fda0569db8e331cc5306983"
    "ko"
  end
  language "mr" do
    sha256 "514c4761aa699a9a9700e9e7bd5d862fd433b1379bfa629ab2c7b36732197d63"
    "mr"
  end
  language "my" do
    sha256 "8d6e1a4d2b2e22d336aec8ae9a26ee57bc50ff611e0bf2d9098e8e2271bdfb77"
    "my"
  end
  language "ne" do
    sha256 "90ce49ed9e9d4a01ddcd492b1247f17eb2993f8df6d13cdcbfdff6bdcd325404"
    "ne-NP"
  end
  language "nl" do
    sha256 "0abace37467e454e1c15a3fb93cd7864b7cf840d6c4f2b9d3923b0741690ccca"
    "nl"
  end
  language "pa-IN" do
    sha256 "47e24e7db032bc93728d99086edf2ea5ea886853c63d853bc2dd6c90451c62fa"
    "pa-IN"
  end
  language "pl" do
    sha256 "573630f077b77323efc4df51d653c6318241d1985b1c663a2d8dbd9057d87188"
    "pl"
  end
  language "pt-BR" do
    sha256 "ac9e1a7a8e30d2e03dab25431ffbd8d7e389f33a040d757137938618e5eb8b3b"
    "pt-BR"
  end
  language "pt" do
    sha256 "9a0d9e52220080755ff25e21d0a2faf9cde8991bf2a1b058be024f3536d098e9"
    "pt-PT"
  end
  language "ru" do
    sha256 "4c11d6935e8910786ce0a49f310a349d183346b21eb713d8d266cac5e37fcdc9"
    "ru"
  end
  language "si" do
    sha256 "7855bf7270525ed3e5667afdf12479dc1c1dde0824dff9b5dbce91adb33a2bf9"
    "si"
  end
  language "sq" do
    sha256 "8ada94e32eb8f38820da129c1420488783c2dfe72c6db1a9ccebd0cbaced046a"
    "sq"
  end
  language "sr" do
    sha256 "52e1f283080b3bdb2c6c6b46389d4e201ddd2709bbad39107738f274a1981e2a"
    "sr"
  end
  language "sv" do
    sha256 "8eec6409fa8a75778efb238027e7d29ef6bbd0f8adcfff9590b83b3d0346b58d"
    "sv-SE"
  end
  language "ta" do
    sha256 "6066dc46cf16c31c8fab34a98cc12f08bb289a48bb798af28849dbe12b761f22"
    "ta"
  end
  language "te" do
    sha256 "1c81f04b973edcce3fdf96f322fbd9412ce7ae6dd3ac6f373491253ec8f66d37"
    "te"
  end
  language "th" do
    sha256 "45048ab13a2dd6754a248612d1db44dd441bde67b06d6ef97f24bce95219bbe4"
    "th"
  end
  language "tl" do
    sha256 "39c7e1256074c337217f94a7c771d22976cb15960b2b64dd54cc0d2cdcd36871"
    "tl"
  end
  language "tr" do
    sha256 "63280651b98b8a811c444050e2bc1f688db0f47ba091aa90048943a40c8913bf"
    "tr"
  end
  language "uk" do
    sha256 "8830f8b012a15a5493c641f92fbddb16697f409342f08949d908d1dbe1ae9423"
    "uk"
  end
  language "ur" do
    sha256 "aa5025c0c38bb119206e91ee65d2a53605d411221ac1bc934131c2783185f4b0"
    "ur"
  end
  language "zh-TW" do
    sha256 "8e00fc0608532ae86f92d8c110670e975f6c2fe91fcf00560f51a6d60d01709f"
    "zh-TW"
  end
  language "zh" do
    sha256 "dc78e73ca71ae420d97316c7a16a8d48a8b4d10c0c4cc5c0bf7125ebd5f799a7"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "firefox@beta",
    "firefox@cn",
    "firefox@esr",
  ]
  depends_on macos: ">= :catalina"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "/Library/Logs/DiagnosticReports/firefox_*",
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla/updates/Applications",
      ]
end
