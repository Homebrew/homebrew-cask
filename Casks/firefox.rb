cask "firefox" do
  version "115.0.2"

  language "af" do
    sha256 "3eb4d0fda4d4e6373e732ac9e31fe45df9edb72fa85044431b055147532c5515"
    "af"
  end
  language "ar" do
    sha256 "d5a0993c4f3cbd8eb0a63af3cce98d83e4d030737f65d77916a909d87b376614"
    "ar"
  end
  language "be" do
    sha256 "e32e9684afb58464cb4a26c34fa54a74d08e2b6d2fd19073d3a5269da90f1262"
    "be"
  end
  language "bg" do
    sha256 "61e4261a959fcf8647190cf753fbf5864f16ef795972b9790f0444065439bb3b"
    "bg"
  end
  language "bn" do
    sha256 "04437b2536a9dae7ce6c749042e0f29e22b68e59fe118b00c2a6ed015d788cd9"
    "bn"
  end
  language "ca" do
    sha256 "2d3ab19eec56fa967685dcaee54fb05aefb427da708746d607fef9dfeae038c3"
    "ca"
  end
  language "cs" do
    sha256 "7176f1f1eb7fc99ff855b0dfac74b464350ae01bdee8d3b1325e6089e1c3b7c5"
    "cs"
  end
  language "de" do
    sha256 "3d96bdb43edd1f4a0e8da3df6d5effbe23bdd9638e54a75541a7bad0e602bf72"
    "de"
  end
  language "en-CA" do
    sha256 "0e88eb04995c113d51791e607ef8c48aca883f2a2ce57601d0524c90a0bcc5fb"
    "en-CA"
  end
  language "en-GB" do
    sha256 "1a6dfda4eb02793e413e5fc59f50aa065467c45ad8779ff41ddd692731b4e8d3"
    "en-GB"
  end
  language "en", default: true do
    sha256 "b2f28e2f7bc24fe68d5b1c7485544fd315420b9dbfdd340969cc4b5ada76395a"
    "en-US"
  end
  language "eo" do
    sha256 "51c104319497440c25b484635294e87fcda18a6ced11441c980e6c26b0ac796a"
    "eo"
  end
  language "es-AR" do
    sha256 "8450f364ac5c4964ec0a4a1305c8fc7836f65c87c1411e0d630acade8100d7c4"
    "es-AR"
  end
  language "es-CL" do
    sha256 "c50258cfc02e4977a76a48a4e40b80727388345b450ec18a27c6158ad2dd2de2"
    "es-CL"
  end
  language "es-ES" do
    sha256 "a2ed20a7bb1fa6d57e32d8fafbc9f2119d152a210b5ce3e766ff8ab84685218f"
    "es-ES"
  end
  language "fa" do
    sha256 "56a85323cbf4faba322b7b63f3f0de1987783fd1cd1473564770d9cc4483bc41"
    "fa"
  end
  language "ff" do
    sha256 "8500a56332916abae7ac2814272ae766f3f2ae50bd4bade61d593388257efade"
    "ff"
  end
  language "fi" do
    sha256 "859487eb3004badb9bbebe947d4783ef13167a096c5544271c7fdb19910cb38c"
    "fi"
  end
  language "fr" do
    sha256 "92d7ad365b99a3946beb6138ebe182ba6d23c7a4c9464fb13bcc850fdbf8a4ea"
    "fr"
  end
  language "gl" do
    sha256 "ab0715487a2b43dc2bce39b8d5ff326ec891b8c53e0f884c5ba40b38ac191146"
    "gl"
  end
  language "gn" do
    sha256 "2a4c4ba5e9420430a084cb9e71a1c652658ae04089b15cac3c8b263fdb31e97a"
    "gn"
  end
  language "gu" do
    sha256 "df7c29cbcf1605bef1b7511b7e115a6542004cdf0275b9a2d39faa554bf00da8"
    "gu-IN"
  end
  language "he" do
    sha256 "7d593fa1d7a0f918229209c719b76dd3baa9e1a3d92785ea78d9b0cd9970112b"
    "he"
  end
  language "hi" do
    sha256 "357d57e0bb54f2de5cf7f54da45bc26e6f0970da9261d0693da64338b67968a7"
    "hi-IN"
  end
  language "in" do
    sha256 "357d57e0bb54f2de5cf7f54da45bc26e6f0970da9261d0693da64338b67968a7"
    "hi-IN"
  end
  language "it" do
    sha256 "73d064500c672135d419aeaa93dfe67ce428b114cd833c448275113f1ae6f52a"
    "it"
  end
  language "ja" do
    sha256 "768f027236ae40c8240ae86ca2fc05a27d937131fc6fa50b2819873a7fa538d4"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "b66c6007c45c0db0a42a31354cac3b6dab321ec6e5d96b8ec32463f392ed2ca3"
    "ka"
  end
  language "ko" do
    sha256 "a35ff2f73de038b89afd0dae6e423931306ade65634a263ac1c3c1050a74663e"
    "ko"
  end
  language "mr" do
    sha256 "ca539789f343fe3cbe1eb8016e26548891c65dc44c6b316cf449f1a7b1a2353f"
    "mr"
  end
  language "my" do
    sha256 "d956fd7aee8da44893dc65876f2a3321f054f82d7bbb1235041008b03b75a334"
    "my"
  end
  language "ne" do
    sha256 "083d4ceed9679e37b5d6babe31203bad574a8761c8b685d56b8248892d66c14e"
    "ne-NP"
  end
  language "nl" do
    sha256 "e345408185e24da830d85beb9269fceac0f3977c0e4ee27e215e8ac610830276"
    "nl"
  end
  language "pa-IN" do
    sha256 "734068f86150e72ef7a2a97a17eb61cb2c3d4711c705d500806489c0679ca84d"
    "pa-IN"
  end
  language "pl" do
    sha256 "0d78e5125245dfc80e9d9e438f11e97cf605501196d2e0da431d79271ab553dc"
    "pl"
  end
  language "pt-BR" do
    sha256 "b0736455555e08097b60929793663e23160963ebaa05b77d65ef05feecd256a3"
    "pt-BR"
  end
  language "pt" do
    sha256 "88cbabdf75668f110d239a3b26d501819e33825f4fc995cb665befe9993e7350"
    "pt-PT"
  end
  language "ru" do
    sha256 "ce5cfbb736dac46220bb42e4d2a70b8f0a6a58143e79d5fe185dd77b8932f430"
    "ru"
  end
  language "si" do
    sha256 "31d2dbc328f500d7221bf8686f61ba9786037d0a463c16512c225b5b74753270"
    "si"
  end
  language "sq" do
    sha256 "d3a0003fb7eb65710315975a751cc044ac0531d54762b96b5018e9e12518a1aa"
    "sq"
  end
  language "sr" do
    sha256 "f7253ae0b4e5dfb20982412ddd4fb5df876b3dc778d405b18d7f14105cab00e4"
    "sr"
  end
  language "sv" do
    sha256 "0a8bc3263ea6b1ea989745652f6206ffa6bd10b1dc197fef0a943b4ea434a690"
    "sv-SE"
  end
  language "ta" do
    sha256 "a55ec48eb80cbf350c3ebcdcacca6ab1b0a76d3a940275545c69d6d581e4e78f"
    "ta"
  end
  language "te" do
    sha256 "075bfef5e1db10853aa2684e495e56fa70b9b54db5aa7719439d3c3048a8376b"
    "te"
  end
  language "th" do
    sha256 "04012829e37705317daec9653f696bf670b03818c914eda76b49f8a254e903aa"
    "th"
  end
  language "tl" do
    sha256 "0ace3eec61dbadcce91c04c324dc210080910ef75b14509fa2f4bdaead4c56de"
    "tl"
  end
  language "tr" do
    sha256 "81eb889d4ee03cbde4d98c97a813bd762ab536ef0853c730795b1a5d6eedd9b6"
    "tr"
  end
  language "uk" do
    sha256 "9de958e13a1ce26b2b609894bd57c1f62140ac56cdec2aa81b00b5f27c157931"
    "uk"
  end
  language "ur" do
    sha256 "e49189758c93d8a913760fb7166f2d601bd62b37e554af018a748eab2c5634dc"
    "ur"
  end
  language "zh-TW" do
    sha256 "fa68fae8c64872cdcf613b6b83d78171daec7d4baf710da8edb9ca3b20a7c21e"
    "zh-TW"
  end
  language "zh" do
    sha256 "d971dcbc773a37777cc14d072ed07a77a61bc3c4c08b09c8993b881ca449b42e"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
