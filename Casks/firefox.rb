cask "firefox" do
  version "115.0"

  language "af" do
    sha256 "b2ed509c66c118b9bd29d0cda1a2b52d9d9966d62c0e90e0aece327083328315"
    "af"
  end
  language "ar" do
    sha256 "6372269e078576cd532d1758aac2aa08a9ed4f7cc00f4859e5d3fc2ae5848b95"
    "ar"
  end
  language "be" do
    sha256 "1a47dd8fc12be3ef01bd17bb79fd31e0fc438ef6e7fc03313a3c6fe5bb0f8438"
    "be"
  end
  language "bg" do
    sha256 "16af04e9f055d07f77f5433aa16909e816695d3fa16c9f7c2f25a2d4d53ba7e2"
    "bg"
  end
  language "bn" do
    sha256 "e834e457b4b535930cd74af650e988abb94122dcbd3ded30a4b792658161ead8"
    "bn"
  end
  language "ca" do
    sha256 "5cea6333680d4a67c38b71bda38aa5a723115aec3f4b9c60c75e1955d4604c65"
    "ca"
  end
  language "cs" do
    sha256 "39eab1c74ce882c6b7de2753f08b98ceb830f855a9c9f7d2c0a3eb112eaddb0f"
    "cs"
  end
  language "de" do
    sha256 "d4f72aa9ea675053f25e0f291143c666359b1172d7037e50013986d5ae4898b9"
    "de"
  end
  language "en-CA" do
    sha256 "80ec1f5f96853148e53d2e2bdb6a5cbfdda27c5df343b7767df75b82988a3d7c"
    "en-CA"
  end
  language "en-GB" do
    sha256 "2bc95ea140283da63edf59dc8a2bb9b3cce6db7ab2c6110aad309e6109dd679a"
    "en-GB"
  end
  language "en", default: true do
    sha256 "d26ba6006d9f9a793d0c599db4f1cb205f66ac8fd4a78afeb413775656c4908a"
    "en-US"
  end
  language "eo" do
    sha256 "a8b0d0eab6c0027910c0363f73935fcfad816401bad9b98b05050df9a7fd6333"
    "eo"
  end
  language "es-AR" do
    sha256 "75a88ae05d0c24dc9b6d1a3d33bcc6015da1828bf287ce8bee78050292ed974a"
    "es-AR"
  end
  language "es-CL" do
    sha256 "62387c1fbb94eba599c3e63bd35e83dca5d68d98fffbe00937d5d7733e7b6c04"
    "es-CL"
  end
  language "es-ES" do
    sha256 "1642ed6e02d3eb6f85f44b61b9d08ca805ec4f0c008d4e7d6628cdf703267e2a"
    "es-ES"
  end
  language "fa" do
    sha256 "8b64c751d22b60f1cdeb88abd7b281336594a8ef8a74d4962eb4d3f1bdbfab99"
    "fa"
  end
  language "ff" do
    sha256 "dbf1beae417ace190668c213bf9842690b4d695a979b17afa3d75bb0850ce880"
    "ff"
  end
  language "fi" do
    sha256 "7ccaab9bdfb4bc96c839fb1a8a1576de8273705774af564e71a78077392efbe6"
    "fi"
  end
  language "fr" do
    sha256 "1805a4054f1f7c34cb25d4cfc011e2e2d94380db6d9a7fc7a06451b9ba134ffb"
    "fr"
  end
  language "gl" do
    sha256 "64f390764d0559b058217da000f09183dd78c9a83a0285f657573d8a7724c3ff"
    "gl"
  end
  language "gn" do
    sha256 "a6843c004f0fba822205a088639b2d80a84623f76a00d284f10fe6b163b93810"
    "gn"
  end
  language "gu" do
    sha256 "47d1c6f58de8a15fb75eaf45e972a492ae8cd7ffe1e6be3d7b712d0e6e3d3bce"
    "gu-IN"
  end
  language "he" do
    sha256 "d8e61eae7dd1f0198be0ced91ab7b5ff3c0e5f9219a828967c4370f2db625891"
    "he"
  end
  language "hi" do
    sha256 "2ba41fc04ed7b14782f5a69acf23c2c71e0719f9fe7b989af6b30abdc728198f"
    "hi-IN"
  end
  language "in" do
    sha256 "2ba41fc04ed7b14782f5a69acf23c2c71e0719f9fe7b989af6b30abdc728198f"
    "hi-IN"
  end
  language "it" do
    sha256 "c725b13e33910ff0e103362c76be141e808baa54c981941898fa76c340673bd2"
    "it"
  end
  language "ja" do
    sha256 "ad57f09f707332c4af69eb6ae6a81e935e43d5bdc542fcabe55fa0036a232b67"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "232ee3aa8950e6d99faa4ac56e114fcdccdd0550c816e54b1c80a8da8aeb4ddf"
    "ka"
  end
  language "ko" do
    sha256 "5c21afc01302a8c86ed38e3847c056724d8ec9c81f83e4fa6777fcbb1f639044"
    "ko"
  end
  language "mr" do
    sha256 "10fd8186fd53d296296c24ca0d11c6292a738d134c3e7f3bfb7a2e9174f79a3e"
    "mr"
  end
  language "my" do
    sha256 "8d89416d170e371a9b26f445634b91c1e79dbb767057bb35876cfda0ed9285d3"
    "my"
  end
  language "ne" do
    sha256 "30f83a382c2b3a78dcdd027434e6e5469b5c38503b167e082a7027d562487398"
    "ne-NP"
  end
  language "nl" do
    sha256 "5a7ed1c766acfd6cdbebda97618478e5247b7f6c7812314a0a7a227d232fae3b"
    "nl"
  end
  language "pa-IN" do
    sha256 "cc599fefd8915926f72523de51b3f924c6578980e3c7b9ea2e33d60f4929d81a"
    "pa-IN"
  end
  language "pl" do
    sha256 "25ebd8930b1c2597bbda48eae203634bf1b9dd01f114fbc12f63519babdf1b74"
    "pl"
  end
  language "pt-BR" do
    sha256 "d5a559b22ee3050ded5f422796c3fef7a64e80b20876ba31b9e7f7c81a8b8ac8"
    "pt-BR"
  end
  language "pt" do
    sha256 "f728dd37eb8ef53bfa18652039ca46c54be7b9902e58e1b4523e411c47633ece"
    "pt-PT"
  end
  language "ru" do
    sha256 "0a74ee176bcbe1b6334827fc9fe514d8220de8af055d8771be3ef8dcc7b94028"
    "ru"
  end
  language "si" do
    sha256 "bbd863fd587136178f40ec63233d3e8adafa2fe4157578bb0a808c1fef54af5b"
    "si"
  end
  language "sq" do
    sha256 "8c5d73dd5aa03848763e0c2b532dd7a2df7ce849dd7279b9b897f40367f3862c"
    "sq"
  end
  language "sr" do
    sha256 "301c248d19c5613829614b484e49ba3de11b38614963a550902784357c736cbc"
    "sr"
  end
  language "sv" do
    sha256 "5b06498309cc702e499edc76e748e42904fd199101ac3f3b72c8f781a1dc2b14"
    "sv-SE"
  end
  language "ta" do
    sha256 "89b00c257b5a536c7ff4d62abc6cee6c7c25692676938dec5f120f5a7efa93da"
    "ta"
  end
  language "te" do
    sha256 "d4795e09628b28d435b623a17fa07b7541a23d5ea916776e66a0608e38d5a521"
    "te"
  end
  language "th" do
    sha256 "8c27002a531fa3b32a33b97fbc18721592c517ef772eb1521126be6c09aab9b5"
    "th"
  end
  language "tl" do
    sha256 "5b3cb567dee08523dde73d96e29a20f5aa560dbb1572279a9ea3e44a4e8acc43"
    "tl"
  end
  language "tr" do
    sha256 "6b67856d589179e66bd4529f78a06dccd1ab10292543f6f372c678ea9366eba6"
    "tr"
  end
  language "uk" do
    sha256 "834927fdcc528431f4e84c11892673d2b182e1fc8963dec49893d2cbc6968894"
    "uk"
  end
  language "ur" do
    sha256 "677c7da5ce640882095e33a28a4fc6e3325808d23e9d992ca6c610544d49d6e5"
    "ur"
  end
  language "zh-TW" do
    sha256 "cd6da88622d736c34e0bd4c37ba4e6c3cbd7d622499a0009cdccadd436bda458"
    "zh-TW"
  end
  language "zh" do
    sha256 "9c255364cb0ddf7907205bbe00dc83a553908498d799e837b5bcbee4b2a0dbb3"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
