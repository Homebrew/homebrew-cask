cask "firefox" do
  version "111.0"

  language "af" do
    sha256 "b34582baf77a1b85c7343b21194ce5f3bb4a59dc2083458bd59f0968c6a01873"
    "af"
  end
  language "ar" do
    sha256 "63f21e6ac46abe6d8c4a1a324c32ee2ef75e9d6d325fca81ff694ad156bfc151"
    "ar"
  end
  language "be" do
    sha256 "66b87301e0417137e059c0ea481fb4bccf5255b8a37455e92a3085cf0b328934"
    "be"
  end
  language "bg" do
    sha256 "6797b8b0db1bb85328b79ddf0decf503900b6439401129a57de33a6dd93745de"
    "bg"
  end
  language "bn" do
    sha256 "2a0f7db1168bf22592dbf725df8a6918f0c3d2c80ddf28283f12539a8a2ba4b4"
    "bn"
  end
  language "ca" do
    sha256 "3b05ac2e561824e6c88822eb9523b8b4c0a7c44287526f275884d58a3d44df52"
    "ca"
  end
  language "cs" do
    sha256 "d5cc8a9ee8c31c3ac4b2e1460910ab8023374af9b2e6795f0a53a01affae35a5"
    "cs"
  end
  language "de" do
    sha256 "cddcac879803fda9b9f3984ba0c3c2d27576ecfb49354ba255a55fec0a50d3f0"
    "de"
  end
  language "en-CA" do
    sha256 "2928d19852c11e620070747eed151b302f3370ad14389fba809aae197bef7c75"
    "en-CA"
  end
  language "en-GB" do
    sha256 "8e547a72ba934ca39ace5332c5ee4e9b4d871bc7f3025e91471fcffba52028d2"
    "en-GB"
  end
  language "en", default: true do
    sha256 "166f3d0fe3b23b12ec341951ec32316e991d27d0a897d7d8c950c7e155febf11"
    "en-US"
  end
  language "eo" do
    sha256 "e639d83101457fa92000ce83aa920bf329c2f1fcebba70ad83d829d3e5f968fe"
    "eo"
  end
  language "es-AR" do
    sha256 "702719c67b03f64d8567172db2063b28e0d778c2d4026106593ebaec153fbb16"
    "es-AR"
  end
  language "es-CL" do
    sha256 "643321c4cae2a37a3ec377333b608f27e4340d74ffc95903ce242bdb05b41f0b"
    "es-CL"
  end
  language "es-ES" do
    sha256 "9da236036ca00f5b3d4658a97f4b6dc8847e75ac17b7e78bf4fa81fc8cd279bd"
    "es-ES"
  end
  language "fa" do
    sha256 "07c02709b45829611266e4cdc64aaff34df278a1f37f815e42f54b6c2ac20c5a"
    "fa"
  end
  language "ff" do
    sha256 "2a45b181dd3a98a3e3baceb7223328774f055b1b91812723eabc0a8dfd33a649"
    "ff"
  end
  language "fi" do
    sha256 "8a0954f0807f4f9c9e1624a1d323d02b5df2c63aadc87104ce003c7e524900e8"
    "fi"
  end
  language "fr" do
    sha256 "81ed945f76b7744aaef73f11d0063601a3107bea5611919285796ab44178335d"
    "fr"
  end
  language "gl" do
    sha256 "dafa4d37d185a6b69055fb8adf2471a7d639c76e0443f2926a1e5275cc3312b3"
    "gl"
  end
  language "gn" do
    sha256 "4577613707ed6d8bddda41c09be7e2c775aa99e7b248fb03d936a39c7b25341d"
    "gn"
  end
  language "gu" do
    sha256 "299a549be72cf9bba2f03b690179340170d3e6be0c84be0a3a60c90a88173e6b"
    "gu-IN"
  end
  language "he" do
    sha256 "3f65a69fbb9991da5a62308f01bbcf7f10bae26692acf665d2954a7df31d8f62"
    "he"
  end
  language "hi" do
    sha256 "dd640c3a959fee7981c114dc24b3d3d37d5dc33e1ecf522e4d3182e244e12aa3"
    "hi-IN"
  end
  language "in" do
    sha256 "dd640c3a959fee7981c114dc24b3d3d37d5dc33e1ecf522e4d3182e244e12aa3"
    "hi-IN"
  end
  language "it" do
    sha256 "0da32712783c607a6240c9ffa3829b8c81647552038eb7210c7493f28b19e615"
    "it"
  end
  language "ja" do
    sha256 "e1df9efa965de9e09fb0d19db2c8b4d38bb7c330f0bb887c3ea235ef2a3f06a3"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "ad14f99d5c4d2be11a06226e79ae9677e941c6e0b340e0bb7d419c3e79215f66"
    "ka"
  end
  language "ko" do
    sha256 "2ab6ba26ac2403d382ed44c634af3fe8acf6519886e509b197d571dc7652698c"
    "ko"
  end
  language "mr" do
    sha256 "24e34419a7723b6b1e1c9e029698d6872111e2c6589fb1e10fad5b045348229f"
    "mr"
  end
  language "my" do
    sha256 "02e16c443b4ed86afb205505ecba333b32d69dd48fde2e0adf4fa8edd4231655"
    "my"
  end
  language "ne" do
    sha256 "dd1c0cddab4b3a3344916731268c3d4e2d4e0982a5542928ec9f6cf9ed2acbce"
    "ne-NP"
  end
  language "nl" do
    sha256 "377b078c14c6a8501cbba5de7e120309516f623d540ae6c4c41d43d9812dc991"
    "nl"
  end
  language "pa-IN" do
    sha256 "ff6450bd67fb75764b7537a4ec72ef2eb4ed6c0818a63320e2cb803a32a85c88"
    "pa-IN"
  end
  language "pl" do
    sha256 "91765b794be280435deb11e4e0adc3c78a14fea528b366ae82cf1afb8e67decf"
    "pl"
  end
  language "pt-BR" do
    sha256 "65f238c4f308fc78f6691ce622c1cfbf7cb80ea6bae65264ace1c10422c3f222"
    "pt-BR"
  end
  language "pt" do
    sha256 "3f41251d4a0789359fe79b216e8adde8905ca1857d0b4f400795e7aba373fbd6"
    "pt-PT"
  end
  language "ru" do
    sha256 "c2d3b54d38823ab593f058b6413b0e84d7bff2d53d70e1e7e7592f8b0c6be33d"
    "ru"
  end
  language "si" do
    sha256 "647310b123348343f4ec7b4be7e898a6a558c5761aa4bdc93e0ffd96bc3d8f7a"
    "si"
  end
  language "sq" do
    sha256 "2faec69b0eafe7a330183e75e79c03e4ce0823e4ced09a31626459a0b538c6ce"
    "sq"
  end
  language "sr" do
    sha256 "802b283823fbfb9d31935f08bd711470e62235ec142cab1697d609331bc569b5"
    "sr"
  end
  language "sv" do
    sha256 "534cd013c39155bab5c758a9a65c2cc581c8942341caed6be4ae4f737287f98e"
    "sv-SE"
  end
  language "ta" do
    sha256 "c9151cb0d1722f816d7914ab369408095bec71e9001aca19db55003a09349996"
    "ta"
  end
  language "te" do
    sha256 "99ff851573d4f0325fd95171a8adcf9ef27686069fa1d2f2f26357150d61d65f"
    "te"
  end
  language "th" do
    sha256 "a52521c00ab212657744e8c1e1336b5c88ac5e7bcfbb57a1d904f03da10d329c"
    "th"
  end
  language "tl" do
    sha256 "19e47820adda04b0ab9187f78d51fad7797d8df0e54c283ba0ac5d808e0adc40"
    "tl"
  end
  language "tr" do
    sha256 "dc8ff048f3065bab861047212563243e893434cb9e57074a9a262d6761a98461"
    "tr"
  end
  language "uk" do
    sha256 "8098b389b58c65408ec4e4e7e3159b3af45226119599f4708ec84e218f0794bb"
    "uk"
  end
  language "ur" do
    sha256 "aafc09b1320db95692d977927feef3b57772d3f4bcc4c2148bb3a6db3fd5593f"
    "ur"
  end
  language "zh-TW" do
    sha256 "c6d28e6d5bddc2d478c01a63640286e2c8d70834676fba73fa5287a7e81ae0be"
    "zh-TW"
  end
  language "zh" do
    sha256 "44159cdd4a56d6252fee45ca153b999db8ee80dec64e2c99cb8695840a33cbdc"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
