cask "firefox" do
  version "116.0.1"

  language "af" do
    sha256 "6289ee0fe70e4d79d68e2d3a726603d18ae25df9ed876f745816735842badae0"
    "af"
  end
  language "ar" do
    sha256 "9e56f2b4abb96f9c5f57895d58b4f0bb8939d3ab915a3359f4d47dd277729c1d"
    "ar"
  end
  language "be" do
    sha256 "2c82040cc2e0e2efb1d44eb6443d5ddb2cf5987408c4d16452d34cf65990a5b0"
    "be"
  end
  language "bg" do
    sha256 "26eb150b9fcb9c0a00ba52dbaa7b2e56f30262b4a32f8e6c48759d6ec2ddd291"
    "bg"
  end
  language "bn" do
    sha256 "cfdfde7973998e52167253c3a7a68c3743bb0c16397d1f92880e4d32247ab36e"
    "bn"
  end
  language "ca" do
    sha256 "e9ca3053a959b97cf1b23f25f4467a033ab120b803a071280d1d63c831c6470c"
    "ca"
  end
  language "cs" do
    sha256 "87105dcac4a40ed40ca6bd98616a804ac818ad5c64660ccb4f93ab72ca8a6d2a"
    "cs"
  end
  language "de" do
    sha256 "b388f4df0094c36ec007d0fa944c48774e5555d0a1c63c4ec78060497ab7af1f"
    "de"
  end
  language "en-CA" do
    sha256 "d30b7d1cea622bdffb600f38cb89a3d83c2e11853a452141cb2f2de88ab04ad3"
    "en-CA"
  end
  language "en-GB" do
    sha256 "ee4d80a50a8511180edfcd41a277f5754cfc7e9fe0c6a1b5d49c996ef7cfe564"
    "en-GB"
  end
  language "en", default: true do
    sha256 "16f882dff0b4197904875a2a9f1770ee1c02b74d069980ef1df358851d09ddfd"
    "en-US"
  end
  language "eo" do
    sha256 "16cee77b8c76ee67db5d697e7ad0230a0c0882c833298a2b428bbe5ef8c64fd9"
    "eo"
  end
  language "es-AR" do
    sha256 "37d5372a7aa7ce15be2fe2d2b78149abdcdca5d4d30fd43488748997a467e523"
    "es-AR"
  end
  language "es-CL" do
    sha256 "075db483e5d74a48467955d7dc4e237dd9ca22ee6344f27f1e656fd2cc9e6db6"
    "es-CL"
  end
  language "es-ES" do
    sha256 "d320bba412e7cde038f4924cf9ce41d69f2d31803f4aab554a74e591207990f2"
    "es-ES"
  end
  language "fa" do
    sha256 "013cbced739553b12feada6b08b3e21b29670543568efa6bba5a0f560a43fd31"
    "fa"
  end
  language "ff" do
    sha256 "6a1d9e36bb0a5c189a7ab2bc74a8711339e9d3e420532c2f53d9344642345e2a"
    "ff"
  end
  language "fi" do
    sha256 "9ba27c620c4ab641e22e45e541ddf25ef722076b2eb8182ef23744b4f67b29c6"
    "fi"
  end
  language "fr" do
    sha256 "a5326d1c2ee6fe4dc334bcb4083aa513a497566a5e488d2ebaee4c82408ba530"
    "fr"
  end
  language "gl" do
    sha256 "1ec6c915c9d6584ba8692fd3a2dadb54bb85fbcd7d5fef53dae8271165bb0061"
    "gl"
  end
  language "gn" do
    sha256 "47517b9d6b03523433d0054e3ec909ee08d2205b641e23de2ca45e3fddca48da"
    "gn"
  end
  language "gu" do
    sha256 "a67e35349355dc23b536d0b261e45c58601f58d4597eca182e87531db08251ab"
    "gu-IN"
  end
  language "he" do
    sha256 "2058cd7f4ba38db8e226477e75d57e5ba9394862a52dd31a538c98567823f808"
    "he"
  end
  language "hi" do
    sha256 "9eda392d571a4b30f055d92489cb4d4a8a77a8c7ea428e5da57fa3c7d0a44f2e"
    "hi-IN"
  end
  language "in" do
    sha256 "9eda392d571a4b30f055d92489cb4d4a8a77a8c7ea428e5da57fa3c7d0a44f2e"
    "hi-IN"
  end
  language "it" do
    sha256 "7fcd1b26934d7de43046eac1043cc8b67e21f86cbe7f7abc166be4eae3de026c"
    "it"
  end
  language "ja" do
    sha256 "5054937b6dc7612628e8dcc32f21a83f5bfbdbebe40e84b7e457fc2215edea48"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "d10ab367c7bc6d201ebc63ed8da02a73ff7903e5e99b2cbc710ec7110b6d53fe"
    "ka"
  end
  language "ko" do
    sha256 "24fffd53f3c32a4411a0f98d8a3767aa8430dbc90f8623ed95d9bbdf88a99f43"
    "ko"
  end
  language "mr" do
    sha256 "1f275ae65a0d737020e2ffbcf80a7fb7991d38b847e2be76d5366afaddfe1356"
    "mr"
  end
  language "my" do
    sha256 "bdff156bc007be171753b4677d6b43e4d25d5c0774b02c2475d554bcde69db24"
    "my"
  end
  language "ne" do
    sha256 "09b6fe77408e2c2be81cab593a71be78b7879d2ded3553ef5b01b54ad0cb88b1"
    "ne-NP"
  end
  language "nl" do
    sha256 "f1d9538cf63db60622c6ae3f1d8209668f7876f306d5c7982dfa415abba63acf"
    "nl"
  end
  language "pa-IN" do
    sha256 "c70d2a7af4237f33fe7ad135a043d0fef3df49bf8b06251f0342e10e52eacfcd"
    "pa-IN"
  end
  language "pl" do
    sha256 "a3b75acdfcd92a9a8ee7b229400d12e617926eb8b40b8f64abfd4bb8c08fe81e"
    "pl"
  end
  language "pt-BR" do
    sha256 "e712e9a53fc9aa35995132cc0807e6c36b8f5513db74bcf4f327ed875d4d8e8c"
    "pt-BR"
  end
  language "pt" do
    sha256 "38166ccefe40e823bc58f3ee20338dfd35ec370268774caa3038895e3eb0a007"
    "pt-PT"
  end
  language "ru" do
    sha256 "62fbc37353471b107a30f1a5b0483fcacf816ddead1d4a766acab134ab93d0b3"
    "ru"
  end
  language "si" do
    sha256 "144927c1318d9125ff253cf926f62f1d37928ee694b15e7d35d4536cffe5eee3"
    "si"
  end
  language "sq" do
    sha256 "fd335161bd3f8c2e117cc4ab58982456adf9f520b631f74094c2c53452bb8696"
    "sq"
  end
  language "sr" do
    sha256 "2fdde90f03108d59e2caecc58345dbb2b5b7759948379bf9cb0b666ec6014bda"
    "sr"
  end
  language "sv" do
    sha256 "053c08dd29c37f312fbc3013717b4c267a458c16957126461466d8e5360c9618"
    "sv-SE"
  end
  language "ta" do
    sha256 "9f6faca1ec1f6856ed754f94749377e471bf31cec2042137ab67ff70b499741e"
    "ta"
  end
  language "te" do
    sha256 "4bcb07aebfccf2afdd0871b1c0f647d4a69dce652d8c9f326a3fe200dcacc0e3"
    "te"
  end
  language "th" do
    sha256 "da21e4d20811ac3329a16d64a5016f3150577a88c41f0a4e8a1571f0e074a623"
    "th"
  end
  language "tl" do
    sha256 "df26d16f0ee68da660b8224d532b756599edf81116b14081320be71a2f1f4c99"
    "tl"
  end
  language "tr" do
    sha256 "b3c50b55a0eea63e277634d36cd97948d91e4fbeb65001920de9d7e4ae8eb330"
    "tr"
  end
  language "uk" do
    sha256 "0fe8d93c26cd223b0e0ee517884c085b02eedeb18440f021093a5c28dc09489c"
    "uk"
  end
  language "ur" do
    sha256 "b13ac0379c701b82f7ad6e4706ea9d2cf49c711a0c100e171d3638b9b5e3cb38"
    "ur"
  end
  language "zh-TW" do
    sha256 "706e79450bbee530caa2660cc4d6b673495f0a687839db266bf077dd3a3400d2"
    "zh-TW"
  end
  language "zh" do
    sha256 "a074157a2f918fd5b9366ef66786bfdf38ae169f36e2c3c651a8d09034ca909e"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
