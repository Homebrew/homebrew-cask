cask "firefox" do
  version "114.0.2"

  language "af" do
    sha256 "841d8701d0c653545891c6106d5e7acc8b037bbccd3abe472ecfd1c81b6a3056"
    "af"
  end
  language "ar" do
    sha256 "2e2402502a903c3f737f057708b8e90a07b339a29b612ba6e6f9a79ac8b36b0d"
    "ar"
  end
  language "be" do
    sha256 "bb30b964a87f38702aac9d36a79455dc9d1d4313917152887398473d4236d881"
    "be"
  end
  language "bg" do
    sha256 "d399c78462ef7e4710f635cafbf014502f51375f1783827ec5cfb08cab1e0906"
    "bg"
  end
  language "bn" do
    sha256 "83c20b99d6c8e7d27e695be035b5024fbe47a20268c08424103523a074e6810f"
    "bn"
  end
  language "ca" do
    sha256 "98a5941e7f02e12a2f76f9f34dd38d5050c02ab6be7135a4a554f5ae7420c3b8"
    "ca"
  end
  language "cs" do
    sha256 "af676d329b44fcede5eb67b1fc54664d99cf23bd4c4747ace85cd1a72c5b48f3"
    "cs"
  end
  language "de" do
    sha256 "fc6bd117770aab0a00bbae17b5704852378b09a52774fcc06e7f8f8e7a134087"
    "de"
  end
  language "en-CA" do
    sha256 "ef2ed90e611fbd77ba662ed707d199061a7970769a152c9d634a86bed99d8bc7"
    "en-CA"
  end
  language "en-GB" do
    sha256 "75382f2f14d82b62e386317201c7b9a1b16ee109dadfdfec7f8a3cb2d2f4710c"
    "en-GB"
  end
  language "en", default: true do
    sha256 "3174fcf7ae7805ab50c3bc12604ae468efcf2168bdd4e44ae91dffd2a1283063"
    "en-US"
  end
  language "eo" do
    sha256 "c6e71537160de72029bb98d7616450375ecbaacd1fcffa97fc402954b824046c"
    "eo"
  end
  language "es-AR" do
    sha256 "4ff6bc64f1a981be6879b982b6a1442c4aa5883387751bda5481350f09b6f9ee"
    "es-AR"
  end
  language "es-CL" do
    sha256 "57c09fc640678a1ce78291caeb7d9f622039be2d00e7d848e35d15459e8815c8"
    "es-CL"
  end
  language "es-ES" do
    sha256 "92c8b4b02e45f589c50a120b7c71648486a5578e7c997f6d48bba6b1d4917359"
    "es-ES"
  end
  language "fa" do
    sha256 "e855ef8d44d8c4c0804273e6ae866abd0e172d33a19f2c23915cdded942952ff"
    "fa"
  end
  language "ff" do
    sha256 "43b50cd4702f1eed7296b24eb442e9e5a6fe25c8504cb2e4a20ab258e89aff6d"
    "ff"
  end
  language "fi" do
    sha256 "48295266088edcd11aab1c2cb766d905d3308b4a9446f3ef4ca42b328e5025ab"
    "fi"
  end
  language "fr" do
    sha256 "a885988484a6e9924b43115802764f152ed43e0b2dacfd8c6f66db1428340c5d"
    "fr"
  end
  language "gl" do
    sha256 "b4958eb7c27f0023026f211cdbd78784699b24b7ad5879f8a48c3fdabb8af2be"
    "gl"
  end
  language "gn" do
    sha256 "bdfe03d455a9d498413474150ff64d60047aba89ff6d3472a0a769b4f3a9bec4"
    "gn"
  end
  language "gu" do
    sha256 "0bf78717862def935ca4c48fec4fd0a10227fa854bd5736533590077e0ee6d95"
    "gu-IN"
  end
  language "he" do
    sha256 "632fae5137da287c8e17e0b9263aacc4ca9aa4dfa7310c4826fbc1342b1b7b85"
    "he"
  end
  language "hi" do
    sha256 "dee451c487760ce59a1b89eee3e4c06f2733cc26dfc368974040b88b5bc0415e"
    "hi-IN"
  end
  language "in" do
    sha256 "dee451c487760ce59a1b89eee3e4c06f2733cc26dfc368974040b88b5bc0415e"
    "hi-IN"
  end
  language "it" do
    sha256 "02b834a8be726ce0659ce10a20de1692d67e0abbab59408100b90c36b6f92175"
    "it"
  end
  language "ja" do
    sha256 "bd6c9d008e8459f0b0ef9e713955c4c0eebc6dda02a2c3c5c9227c80a5e0e376"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "eda3222cba95ea3d55ad95ba73f87f5105cf421f453c7816442452edf200f5c3"
    "ka"
  end
  language "ko" do
    sha256 "1cfd7092b2588b4d4a54dcaf987fc60da75d4414a5f42c5dc881c9a5644653e0"
    "ko"
  end
  language "mr" do
    sha256 "1f60cbfa6c1a46d3d98145b8c0af19a0ecd33c586563050337ff84105f769600"
    "mr"
  end
  language "my" do
    sha256 "fb61340a346ba11f5487789ea9ab3d60a9d2f2ed8c589569246993b8cd62999d"
    "my"
  end
  language "ne" do
    sha256 "7281ea2dfd65020ca1d4c68543f3619376af9d2bad4bd9f75e084ec91ee9b702"
    "ne-NP"
  end
  language "nl" do
    sha256 "5979118e7500075b82a94fd12f8e76792d8cbc18456b801ef220c2e80ade6de7"
    "nl"
  end
  language "pa-IN" do
    sha256 "466da48e2cbc1f3b857152b75185fbcaef31b01c3ce8c61eba25e03849499037"
    "pa-IN"
  end
  language "pl" do
    sha256 "d7e395ea607948394cad4c14013232691a251acacefdbcb8637487b527f303bd"
    "pl"
  end
  language "pt-BR" do
    sha256 "4c9879617dbb2295d61f4e9c68bd6067886ea716bca0744ded4bc7510de3f3ae"
    "pt-BR"
  end
  language "pt" do
    sha256 "0c418a78139ea65aa21301b60c41fba52254f699e2163e7366aaf551fdfe73e2"
    "pt-PT"
  end
  language "ru" do
    sha256 "35fd0cc3c43ad58e14e3449cf9ec77436fed8065a2059ad0ba3616aa8c98d635"
    "ru"
  end
  language "si" do
    sha256 "4ab0774d02388448196c992bb5b9809ff6b57da2971b3d53e32c6b53bee8bf77"
    "si"
  end
  language "sq" do
    sha256 "31c2008b447ef30915ffa2390ba0706731053b60676228ff468aeb1e49c7ce34"
    "sq"
  end
  language "sr" do
    sha256 "fbd787f650c53ace0cb81994627c8327b77007d42a5c91f4b012c7daaf89d703"
    "sr"
  end
  language "sv" do
    sha256 "5c3bd53195556b073542228154bd34f0a30ae2f70f3eb3627c9bc25466cdae86"
    "sv-SE"
  end
  language "ta" do
    sha256 "c793c2c1589a00d54e032feef7bc59ff13488eed27bdcb4a8f2c45ee43ce1bc4"
    "ta"
  end
  language "te" do
    sha256 "04476425cb2cce5601a77328613d190869a0a371630cc01c5ac0b27ca0ffbc21"
    "te"
  end
  language "th" do
    sha256 "a17eb3389652d502429d8d2f811c87adae4b094a5b92a6f3d42b5230141f48c6"
    "th"
  end
  language "tl" do
    sha256 "dee6d41c64391b61a3714cd90b59f5ab603028081b902bad6dab4ef151961d39"
    "tl"
  end
  language "tr" do
    sha256 "a1da2da5eaf49915f01f9f567313f551199ae8767526e4dd0b70d85a57c43de0"
    "tr"
  end
  language "uk" do
    sha256 "d66e21d341f052352a94d60b473fcf858d0ba973ad1004ddd288a06f0ae1c5c4"
    "uk"
  end
  language "ur" do
    sha256 "7e3b20604e0ac5248f3cd1d8bbf1d7c1060f934519f8e899aad4ddca2d205a39"
    "ur"
  end
  language "zh-TW" do
    sha256 "37b148490c5418c0a92e35edefd2fb6cc1b2294900e506ce2cb2e5016d388540"
    "zh-TW"
  end
  language "zh" do
    sha256 "a85e0f746b56d00508cf7c5c6f4e74a415f7f2c704c9b4c1a7f1927f3b3c76df"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
