cask "firefox" do
  version "111.0.1"

  language "af" do
    sha256 "c62557d58c4fb2b47355a6f3c3a35c58e095e14c1e1fdf859a646e9a34251347"
    "af"
  end
  language "ar" do
    sha256 "0b1e63f3ad7921f44ea7407197396bfc39cdb51bbecca93ca4050a67bb1ef06c"
    "ar"
  end
  language "be" do
    sha256 "6a117f8880f39da9b9f734f2a39a395f9e6b2f25e125b6e32c6f40d71447eea1"
    "be"
  end
  language "bg" do
    sha256 "62b8f55c73d2d48e2f5278af56ce5dd0da2563a43a45d5345a751fdc9e55052c"
    "bg"
  end
  language "bn" do
    sha256 "b421fd7096346fff578489af30938fdc466368c4045a59b19a1d1d74cd824f29"
    "bn"
  end
  language "ca" do
    sha256 "7858bf516fa745441463adb967aa2e6b70ed7ca97f02a292431dcec2ac51e890"
    "ca"
  end
  language "cs" do
    sha256 "9dd05bd0685fbf1a94db51f8999047b24cc045ab609e3ab8fdfbb13f535b9262"
    "cs"
  end
  language "de" do
    sha256 "2d0db496a9d4cf5095a80c405c67bd4cc29d42d8c539215cc8a64dc656a359b4"
    "de"
  end
  language "en-CA" do
    sha256 "55d7f886e7ec715d764047b932f455176442139c8867057388428c13d5f690c9"
    "en-CA"
  end
  language "en-GB" do
    sha256 "12eb43632f1e8cb73a31aa013192f309bf49a9571264f9e4755ef69a425ce2f4"
    "en-GB"
  end
  language "en", default: true do
    sha256 "21e0de58bdeb6e8be5c1a43a3aea1dd929e164638c172cfab9c3162703bda63b"
    "en-US"
  end
  language "eo" do
    sha256 "25745cfd9ee7fe435504c0a053bed02045d381afe33411701e4bd7e038288dff"
    "eo"
  end
  language "es-AR" do
    sha256 "24a07f445c357bae161c86a91fd8a6de00a84d4f3746cc7956443b7e6d25cc3c"
    "es-AR"
  end
  language "es-CL" do
    sha256 "02b5d705fbdd3ccefbfc4240749f53f2ce478b1c38bb16d731611e2ed5c860f7"
    "es-CL"
  end
  language "es-ES" do
    sha256 "68b5632b3b675e01d9f8b4acb69561b945a9e746bb50ddbe87840907576d23a8"
    "es-ES"
  end
  language "fa" do
    sha256 "eb54f6e3c4277331d4e9032e52a2bf521023870ac852408b9bc3721b2f63162d"
    "fa"
  end
  language "ff" do
    sha256 "f4d815866c24f7f4f455c2dd386247ba50a6e493d6dc25db904a53854c1b3b3f"
    "ff"
  end
  language "fi" do
    sha256 "6820cfbe252beb8dd4a1927dca73855169ba059f4171adf6707dae67bb96afac"
    "fi"
  end
  language "fr" do
    sha256 "213cf796cfb66a2a42c9dc0694b64fac9617babe68a7eefdc4d2b26cd22a01c8"
    "fr"
  end
  language "gl" do
    sha256 "26e38590ff53a4645ba0270d752cd42ed43e20670c0911698bb9e7a98773e9a7"
    "gl"
  end
  language "gn" do
    sha256 "22439fe9976cf7e1ca83b093362b096eae95b1aabe169ecdcf18b5a2872ae84f"
    "gn"
  end
  language "gu" do
    sha256 "c384c6e534629a4fbb3d53cef36076513ec2fe90683c279f06cdc87189668879"
    "gu-IN"
  end
  language "he" do
    sha256 "a85ed51cded3acc514512c36e9aed15ea9c5050088f5ef3b414968a8d3e4917c"
    "he"
  end
  language "hi" do
    sha256 "62f71df5df19a1bd7a90d72645ee2f33e8c61e088a8f1587ffb10d5fb396fb80"
    "hi-IN"
  end
  language "in" do
    sha256 "62f71df5df19a1bd7a90d72645ee2f33e8c61e088a8f1587ffb10d5fb396fb80"
    "hi-IN"
  end
  language "it" do
    sha256 "8a89bc87516ba91a8dacd192d09f62d4e2af8795aada0d7db7995ea455c0ba58"
    "it"
  end
  language "ja" do
    sha256 "5b25e916d1a457f0f21618fe1b03a86ca7b0e22504a457f9e43de82af1cc8375"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "cbed85b51f146b43eb754514ca3f166192667ca4fa074bfc46ed77a25b108656"
    "ka"
  end
  language "ko" do
    sha256 "41f6f09d1422ebb63ce7a0e2825b453d55649e660a284fd91fe00d168f685e0e"
    "ko"
  end
  language "mr" do
    sha256 "3d3890d38323bdbf6276fe8ce93c2f65a99f6023e88a8077fadef7b44d2d4254"
    "mr"
  end
  language "my" do
    sha256 "ff71100dd092174a4c393fb8bafdc102e2e9db0d540f8eb64cf5e49b8bf6c5c9"
    "my"
  end
  language "ne" do
    sha256 "09d811aa5b60ad431f73f08132a15adc6e446a8ddd95ca9dc8be926d484a62aa"
    "ne-NP"
  end
  language "nl" do
    sha256 "af6790540d239bb535b6e83de0430fd86ea8946668e7b813a664dce92a5e243a"
    "nl"
  end
  language "pa-IN" do
    sha256 "f045fc9e6c3a24c66880a4fed21eb4397cf077e759a6d153e7ed745602c76cb6"
    "pa-IN"
  end
  language "pl" do
    sha256 "4182d0500e7289416465332b6adfdcb33668f36012a42f806419dbbc3ab6932d"
    "pl"
  end
  language "pt-BR" do
    sha256 "70b8b1f2145a4fe1002b10836c5f29adc1ac39f0531a0311178c7bd3f2a2f4f9"
    "pt-BR"
  end
  language "pt" do
    sha256 "a54dbe3c0867e155811ae829ff8633d3f54e8d330eb13de97b81072b65602104"
    "pt-PT"
  end
  language "ru" do
    sha256 "4359ff74cc1a1330de6087b5af362014bdacdd98be96d590923bbf92b8d0db29"
    "ru"
  end
  language "si" do
    sha256 "ca755d72c39e0db681ed679714b7e28d260e3189e8089368579e4b3ccac9f44b"
    "si"
  end
  language "sq" do
    sha256 "6198b297d8567570238d5f25787b0940acf13c9f8d6189a3167017b9395d6076"
    "sq"
  end
  language "sr" do
    sha256 "b4c2941d61ded38875c0c2b19866f6ed6c8a0708bb279faae986ad0cc3df39b3"
    "sr"
  end
  language "sv" do
    sha256 "a1dbc79fe6e4d914f9e687c415945681b6e415fd124988a677f181d9b4a46e61"
    "sv-SE"
  end
  language "ta" do
    sha256 "3c114a7e88b41f215c48f7b653bc858406fa606a183dfcd2a5ad871837303e89"
    "ta"
  end
  language "te" do
    sha256 "7e5467f613ce0cea69fcd98f66d59ac0d15dd9a88540fe48a651ef3a6a1a6965"
    "te"
  end
  language "th" do
    sha256 "26b3fec2d6ee54b35aa46436f0e9021c96b13a99d71ab8fde563060f2b51cbbd"
    "th"
  end
  language "tl" do
    sha256 "f815b6dbff0da1207ba3ed4d1328aafde47396bb37f3a440c500f09c3c7fe00f"
    "tl"
  end
  language "tr" do
    sha256 "87994e7e870f8ce699a72dce6f5c22c8ee8be2949c09a6ac2219f357921a65a9"
    "tr"
  end
  language "uk" do
    sha256 "c1550d384776619958c175d074873942d9899487ecd63ebfcdcb654d16619236"
    "uk"
  end
  language "ur" do
    sha256 "fe347250f0a56cf837e94a2803484ebe7a2d1095b0c522e9b122499dfe7ef032"
    "ur"
  end
  language "zh-TW" do
    sha256 "3daf995bc9c43d9e1ee989c276f7c5d40f97f7339c12a6fb9e33b5f5b2886558"
    "zh-TW"
  end
  language "zh" do
    sha256 "a99ae00ff113344e05f38c37d6d34cc20c949d43fdc6952e4e1ff554758303dd"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
