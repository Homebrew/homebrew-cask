cask "firefox" do
  version "114.0.1"

  language "af" do
    sha256 "a5a8499aa05c1b01eb55d0f58dfcc5cbbba30f1ea9cafe8ce0cf23e7735f3d0c"
    "af"
  end
  language "ar" do
    sha256 "131d3022d8f9bffb208d2357079bf5f8cd6cddf6f2206ca2fd58489f1af40833"
    "ar"
  end
  language "be" do
    sha256 "c97a2fdf4ce928c3bc52c23ca6c32c41db90c99c0891089ab5745953ddf963df"
    "be"
  end
  language "bg" do
    sha256 "2bfb6389368b1a1f0a24c02cd4e53d460ecbcaa5a1e0f6dd17e0f71c9421348f"
    "bg"
  end
  language "bn" do
    sha256 "f5218c85ebd667b3fa4402363bed6139fa43efa2f8d5096414efb76a01eb8563"
    "bn"
  end
  language "ca" do
    sha256 "dc90191a574588ee86a41099bd08b000ffa6cfbbf8696fe824a426d292e45ac3"
    "ca"
  end
  language "cs" do
    sha256 "c3ccdf432b7c5631582f55254798af14c54bb001e93ba9df51ba62c14812a156"
    "cs"
  end
  language "de" do
    sha256 "64fa458bd34dd584556beb91979d2e61406bd0adf49676b36fe08ace100c2cf0"
    "de"
  end
  language "en-CA" do
    sha256 "41e931e067441436f3d6aac891fbdb1aea5cb1b6922335f8626b0d6a3dedfec6"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c43baa313ee66ad45ffd2a2d8d140b520c7ee33f62a3d04aadeaadb06f2b39f4"
    "en-GB"
  end
  language "en", default: true do
    sha256 "dd6783c636ec5ec302fb7dc79e998552f18eedb4cdc1cb88e2c0b92a9757abbd"
    "en-US"
  end
  language "eo" do
    sha256 "c6ad522319d984cc3b1aa61812e55fb6423166536687902807e351d05eaac937"
    "eo"
  end
  language "es-AR" do
    sha256 "61e264082039f77d2231c13b60ac2eb6cdc0917c040e326b8f6d1021fd2d074b"
    "es-AR"
  end
  language "es-CL" do
    sha256 "b7f8ba17b8ef0af8941c66997c171e39baba1b4d9acade6b59ca8cfdab9be173"
    "es-CL"
  end
  language "es-ES" do
    sha256 "d4e006899a571ed3bc2c61fcfd41f562f73d5a34a8d239e0bd767c562770f3fd"
    "es-ES"
  end
  language "fa" do
    sha256 "946388947aff6f55f4cf929c4c20eadfcb33406b5980534bd1b94972bcb38789"
    "fa"
  end
  language "ff" do
    sha256 "53d825fde13d9dbb75f61686925f1029781ec148dc4a954ae8f629c2d88bf20f"
    "ff"
  end
  language "fi" do
    sha256 "c58f9c9230428f9150fa846e4c8a87d4ab8870b7e062acdf06bc092c228674e3"
    "fi"
  end
  language "fr" do
    sha256 "640d643fed0588a95ea70eee9afb7526e7db489b8a0004042397be8fb956fb62"
    "fr"
  end
  language "gl" do
    sha256 "bf1cbc996921a900e653c36d67361fd57c37ad5f3c5b271bf7419c2b2d80d78e"
    "gl"
  end
  language "gn" do
    sha256 "d90ea319b468b2c61c81d42a973f1fa29c54b790ba89f899bfd5745bef937e0e"
    "gn"
  end
  language "gu" do
    sha256 "bc8182a117922d7b65fcb68b6819da13bdf54f80f57a5bb1f295bfc29efb85e3"
    "gu-IN"
  end
  language "he" do
    sha256 "dfbb97dd421c559b3a2b390918697d0f2e7e9c5b0df55d8275fb980820216169"
    "he"
  end
  language "hi" do
    sha256 "8ec2fe7c4ec8d39fc6c65d117eaaf1a41b6eeda93642347acf08e076511dce99"
    "hi-IN"
  end
  language "in" do
    sha256 "8ec2fe7c4ec8d39fc6c65d117eaaf1a41b6eeda93642347acf08e076511dce99"
    "hi-IN"
  end
  language "it" do
    sha256 "f4f88dcd89f491b839e4b05293334d4c40de5a437abae34079c899d9fa196bf7"
    "it"
  end
  language "ja" do
    sha256 "4ae3a7c7b8c76aef13404646783b54481ec48f51cf371270cae43ad58b02640f"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "792572bdea8327d5996f0e1266ab1f16ab37aed02a719943bad92c4f438b6f2b"
    "ka"
  end
  language "ko" do
    sha256 "005f7ea693c33d887a9f1bae1e16a94efa94b6afe338364278df5ac2db9f475c"
    "ko"
  end
  language "mr" do
    sha256 "9f8dddee81b9cafe5503eb5221c335a81e302123c515728b94d8064c758cbf1a"
    "mr"
  end
  language "my" do
    sha256 "0d0dfe21bf56b2368694d52747c51169bbe225c42175305a964907d65601649a"
    "my"
  end
  language "ne" do
    sha256 "f6fb800441c3459f5851e41e422a377577a0f220361240d8e0381c1a4e93a4b8"
    "ne-NP"
  end
  language "nl" do
    sha256 "05329015c618873b66406fe3919e179f3bfa23aef753e6f054c5d1be79d4fdae"
    "nl"
  end
  language "pa-IN" do
    sha256 "8279bd5e60adb3596c429a8c086b7e2e00e4859120b022544c53378c5c60cd2e"
    "pa-IN"
  end
  language "pl" do
    sha256 "b79a3abfb92ce59bf171116f79d6f8892b5ae1aa0f419ae89c95be15888746d8"
    "pl"
  end
  language "pt-BR" do
    sha256 "23b481158c4002ff3cc8dea404e677c8e5e476cb37c2e4179cc0ad78a5040209"
    "pt-BR"
  end
  language "pt" do
    sha256 "bdda198f29565ed1276001bf70bcf877a28e37977b84f980f9721775d8d85563"
    "pt-PT"
  end
  language "ru" do
    sha256 "d45b43a6ca390eb3eb9b81004bf078229ca94f9f6b2ee74a7a2170793ed3c0fa"
    "ru"
  end
  language "si" do
    sha256 "440dd18d2183f34a5cbdf360f4ef34e74d484ee07f6fc195935f5b1232762661"
    "si"
  end
  language "sq" do
    sha256 "88559e6911e88b310e94d883a8ddcc2db17ecc02ec7d5328f99415dc1ead8787"
    "sq"
  end
  language "sr" do
    sha256 "44c41274f89708387ce69e283686454f8532c0045c644dcd30d4a8ffaeeb957e"
    "sr"
  end
  language "sv" do
    sha256 "058d43583df802b7d2609e274b14baeb4bdb91a8fef0697fefa095c4d9b18f92"
    "sv-SE"
  end
  language "ta" do
    sha256 "884944c92958d013d3eec0739ff3c163693e4422b09cd5210725431651b1d874"
    "ta"
  end
  language "te" do
    sha256 "c9716f1c38eb0d931edace6d63d0c79450451846bbf64a817a51f3deff345756"
    "te"
  end
  language "th" do
    sha256 "df25555fcf24358e71b6764a82a978371384dd9dedc0ea5eddbf60c5f8941756"
    "th"
  end
  language "tl" do
    sha256 "a42ab7c91dba3e45726b38c2c241f0c6e4dc73bcea68886a43fda77d90a1aab3"
    "tl"
  end
  language "tr" do
    sha256 "cb3136aa6d832d92c248588db81b7e21929ae7e8a2b04627c5826d565047bbcd"
    "tr"
  end
  language "uk" do
    sha256 "0d5f630da11d9a5208d2c13c5eee1c726e717be395c1649311ff53dcc0d428d2"
    "uk"
  end
  language "ur" do
    sha256 "6e9f2d3804620dc3dd664c940afbccc2525894fdf5a7b0e4e6c87f47b87fc6a5"
    "ur"
  end
  language "zh-TW" do
    sha256 "eacc8c2cc33e2b48fc12c32ccd4a393405ed5c938adc1a284562f8d8bb6948b7"
    "zh-TW"
  end
  language "zh" do
    sha256 "a109caf501391c73c76f6af048011ae046e1d47a22f56d7bab784d698c2eb25e"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
