cask "firefox" do
  version "115.0.1"

  language "af" do
    sha256 "b8110d84fa8fb5ceeb3a8421428f64b13a7770a2ebb7fae208f64a784c323f83"
    "af"
  end
  language "ar" do
    sha256 "9e76309dba8090446e392e09de1bf6bc0f6f1408a09352958ab518e05db69d10"
    "ar"
  end
  language "be" do
    sha256 "9750769b480bdee741f84dddf0d8665f9ba7c6e0a931d16202af1c5c0ac1d137"
    "be"
  end
  language "bg" do
    sha256 "385aed94cada93c26118fad9d7ab0452ad89ae63e9806ae63f4e5f55bf514264"
    "bg"
  end
  language "bn" do
    sha256 "23f61c62e7b8c5ee51c21feb393fa51c4d08a1a9ec531caff04f29002ec99594"
    "bn"
  end
  language "ca" do
    sha256 "c9997df7a5e04bb540ac50b42482f535687150f4a777e02147bfd0253666408e"
    "ca"
  end
  language "cs" do
    sha256 "a098323b62d2622ba4a9ca1f185430827b9a589a35a609d4bea7bca9af6bea5d"
    "cs"
  end
  language "de" do
    sha256 "eeda1e69e59b80841d7bec42ddec0dd34f37f694b150e4a8b76f03a1cb8ac663"
    "de"
  end
  language "en-CA" do
    sha256 "0fe61d9d0ca129ea06ed59049261f91d9f8f6503f5f5fddf12a7bea3121de214"
    "en-CA"
  end
  language "en-GB" do
    sha256 "c868abf704a6bbffeb65c733b6b6675b45b7394d3a5f6370a6e6551ee342ad22"
    "en-GB"
  end
  language "en", default: true do
    sha256 "6a1ff8ae4cd01cf9b1eed7b0d0d6f8d13c03585e23dce0dd77f70516e200917a"
    "en-US"
  end
  language "eo" do
    sha256 "5035ac25e8b2dd0f33df1c8d60083e55d5bec616cd8df6677b28e722d6a54fd8"
    "eo"
  end
  language "es-AR" do
    sha256 "84c9f03095381bf8f5c204219021d1cbaffcb5695e71f128033a75a7b0a06c07"
    "es-AR"
  end
  language "es-CL" do
    sha256 "074c7ea281b0bbf71a272859c627a5e36af74c1a6d784ca1df0603542c3afd19"
    "es-CL"
  end
  language "es-ES" do
    sha256 "d343165b7f278bedf7eda8e9757b8c87b36cb41d0639b4beac6289922835c581"
    "es-ES"
  end
  language "fa" do
    sha256 "9f9859576e8068fc6b703b8497a21642646594c79b0c2fa635b730ed94838670"
    "fa"
  end
  language "ff" do
    sha256 "7ee2e589a2dde3b1bf912a629cdf3995a41d89f79724b5e3b60c8a4c26dbdb50"
    "ff"
  end
  language "fi" do
    sha256 "0cb425ee39383bfac3b18e9f3a481d0436566f9c830dce5d8257eebc96975ffd"
    "fi"
  end
  language "fr" do
    sha256 "f89170173cf0ef54645c64c89c4cff8752eb46e2b154294b207016f4a7fdbe97"
    "fr"
  end
  language "gl" do
    sha256 "72f524a17e8bfa57c02b8fda5cbf3f8ab46c6ff10ccae80bfe80ba1158c9c2a7"
    "gl"
  end
  language "gn" do
    sha256 "c9124b9f36e53ad0332365f6259857c4f63c632b2cf795959ceb3a78310785da"
    "gn"
  end
  language "gu" do
    sha256 "521198a40cab6fe43c44a591784e2a45959af6ba8ca429ddfa6d94913d08a0ff"
    "gu-IN"
  end
  language "he" do
    sha256 "3f24aedc5bb4fe7ee7acf404edb6c3c9bef73ea8053f03e769a8ed32a8bdc1f2"
    "he"
  end
  language "hi" do
    sha256 "d2198a8ee538aeafceabdfda9fcf6fc9e70e515bc3538f7c5e725ffd1f7c7993"
    "hi-IN"
  end
  language "in" do
    sha256 "d2198a8ee538aeafceabdfda9fcf6fc9e70e515bc3538f7c5e725ffd1f7c7993"
    "hi-IN"
  end
  language "it" do
    sha256 "c9c632dc22b860206197cc61f0f40cbbf9a73c801cf9c000c75eb9c22bc90db5"
    "it"
  end
  language "ja" do
    sha256 "941ba315053acee0f42e615f538994b688b0fbc2b555701047b7d8550fe698ec"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "fc295cccd6bcb987c02479053987c90cea7187a97ff3a0c5c6262a204f586398"
    "ka"
  end
  language "ko" do
    sha256 "602e0ba338c941025162632ee229a6c228dd1c4870501ab7d84e7a16df512b35"
    "ko"
  end
  language "mr" do
    sha256 "a5739474541e2f0cdbb1f8731fb48255242908e1a75571553ec29ceda8606ae8"
    "mr"
  end
  language "my" do
    sha256 "c82bb8ae1c0e2c378ceaf0c5e8e03afa3fe5720a31eab58d225acf45c37bccb4"
    "my"
  end
  language "ne" do
    sha256 "fee7418ab0987a259dcc1a6b147d191e0735a044a33df45bc6079c87e2477003"
    "ne-NP"
  end
  language "nl" do
    sha256 "e2bf7cc1e71c060b2259c983b5ac03426b4f853ce0fa3bfcb1f2db4fcf4e482c"
    "nl"
  end
  language "pa-IN" do
    sha256 "ed73f1a949636c0761d20f0af82c56eba707f600e4ef2498d015b80c2d72e562"
    "pa-IN"
  end
  language "pl" do
    sha256 "c1e011e5f165a11c3cd2af69dc0a13614e30e023d4668e37b8576ec6b5669efc"
    "pl"
  end
  language "pt-BR" do
    sha256 "db72b7a0c7ec1db6a154b91a04bc68cd1587b18ae2ffafd2480fc6d3135f745a"
    "pt-BR"
  end
  language "pt" do
    sha256 "c3211d98e129e2aac38410b32ce09004375ee611c52b906f3b55774e912ef0e2"
    "pt-PT"
  end
  language "ru" do
    sha256 "15877632f971539e68ec5b43c15e31a949446d34557b6a2a7dfa60df40486b59"
    "ru"
  end
  language "si" do
    sha256 "7141588b99fbdcc59b51a6bd85fd764d7c058a2caab4a59cf7209ba8a962c91f"
    "si"
  end
  language "sq" do
    sha256 "4716951df0007a9fa20d07af4a23a08336a644c7a4658938a650f787b08d84eb"
    "sq"
  end
  language "sr" do
    sha256 "a871557f1fcae11db37b2331eb2a2433bd2da9c38ea65e3203cc5a1254e40cce"
    "sr"
  end
  language "sv" do
    sha256 "d89e175f9ffcefee96a37c988bf89c0be41cb30c5403019be45a7d1d2771ee9f"
    "sv-SE"
  end
  language "ta" do
    sha256 "ad247b74bffbf1049eeb42c77456ffb15d7c53d693eb3edaabe10f93756ef827"
    "ta"
  end
  language "te" do
    sha256 "f1c74ecf650c84f045e725f6896cb801d940c0b7f2240bf0c3ff9b78836931a4"
    "te"
  end
  language "th" do
    sha256 "fd426a9bdafd296487647757016c3aa14acddb103494b9770da9472851017e15"
    "th"
  end
  language "tl" do
    sha256 "d1de33717d73891bbb200c8a8e19b1b661ea6be88fe0fdd506fdee76a01f1111"
    "tl"
  end
  language "tr" do
    sha256 "1dcf6035cfe1c0160bd2d68867f7d60e8b48c612650bf6170eb2a6016f23c8ec"
    "tr"
  end
  language "uk" do
    sha256 "32ff77db98763933af3473173a2f13e0eb2119c8efea22a113f7a47f34acf37a"
    "uk"
  end
  language "ur" do
    sha256 "0f3bc423a4264f7e2713fbe47b1427307843cd88d5a3b883da262cff0c2b8d5b"
    "ur"
  end
  language "zh-TW" do
    sha256 "2ff664bbfcce80c9f8ae5d3327180e0a999daa897a9f9f7c0c6ca1cc37fa6171"
    "zh-TW"
  end
  language "zh" do
    sha256 "d194865ebfb65fa5b70136476ee771f7fd51009eb49e4634dbcb63eacec3d163"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
