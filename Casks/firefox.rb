cask "firefox" do
  version "115.0.3"

  language "af" do
    sha256 "828e6bd42323dfac8d7d13fee6df4819629603271289c944cb5e9b4c880d4845"
    "af"
  end
  language "ar" do
    sha256 "c25212f46db133485ef5c75caa13ff4b17e13dffcfbc9802e6894f92edb746a3"
    "ar"
  end
  language "be" do
    sha256 "a4057bd30bea726ab0fc0beecf57af728e86262f60bead2af69a3a9a69fc0305"
    "be"
  end
  language "bg" do
    sha256 "b4182dbb93e3660cf992af44afc9d9d371635a4bb8994960ce712d4c44f2c0ae"
    "bg"
  end
  language "bn" do
    sha256 "1530a95b661fbc419c78157088a38f8fc06cf4c18efef000dabad26c67203332"
    "bn"
  end
  language "ca" do
    sha256 "88ddcd18ff1cbeccee40301528ef3815805dc6578ca6643d063b58d143fed92f"
    "ca"
  end
  language "cs" do
    sha256 "40a996066c8a6cfc5b4e0298a89a8a8012780e389e45f80b0853eb58b4ef6402"
    "cs"
  end
  language "de" do
    sha256 "14e6d40ad617e12f9d805f04a858ea8dfb2b3154cf9337639f327d3205d6645f"
    "de"
  end
  language "en-CA" do
    sha256 "636e36e1eec7c501f06329fdb3cd1733c9a0f08e35fe02300397f0a8179b2d51"
    "en-CA"
  end
  language "en-GB" do
    sha256 "a605fd8deaaca7b50e20d0e5a42145c1961c2e646854383f971109539536d170"
    "en-GB"
  end
  language "en", default: true do
    sha256 "96b2616d0f95352caad756a200e0b13d20ee300be1d02fdfd3bab17ed6e73fa3"
    "en-US"
  end
  language "eo" do
    sha256 "5c17930de2311767077cd5e82d3f661a4f6d2d1c92fe3298b84b3b9782bfbf71"
    "eo"
  end
  language "es-AR" do
    sha256 "cffbb5b94f0e3cd03e526116164ff2aa3dc2e2ab7b2f7a676c3f4ad4121f859d"
    "es-AR"
  end
  language "es-CL" do
    sha256 "a22db4fd20eb81a022183f9ec6faf98e8f4c80c8935befcb2374857248984198"
    "es-CL"
  end
  language "es-ES" do
    sha256 "1fe04886278cc668fd257aa1b2bdcbb75bdfa61f56970ed2ffecd9b5097ffa94"
    "es-ES"
  end
  language "fa" do
    sha256 "cbd84b8a373f645fa278ed44c205c7d279689fce2b0a305d6cd84e61292b082b"
    "fa"
  end
  language "ff" do
    sha256 "d7c88e98a1f8dd25bda72fb2af86ff480abd3353c72ff264257e06bb074af891"
    "ff"
  end
  language "fi" do
    sha256 "af05c5cb29ca554821da271f258dbaa1b9b78b195e21574332376fabf2b9475b"
    "fi"
  end
  language "fr" do
    sha256 "df55efb6476b24300ec9cb3c5e43a9adb8fb0f1afc8c35629e77c36a1b34e3f2"
    "fr"
  end
  language "gl" do
    sha256 "b907c960891809657e7d1f98efcf4451a134fbe89bd7e76083c4311b75b8c7cf"
    "gl"
  end
  language "gn" do
    sha256 "5269e79c3fc805ff3e5be93e67d203ad4bc082468d27837e441b2212fbf2056b"
    "gn"
  end
  language "gu" do
    sha256 "96b89c8e3f50c28cbefcfe468db9ca1f1e13a98635cac3def2a07560245a6e42"
    "gu-IN"
  end
  language "he" do
    sha256 "66c1608ec048735999b3621b9f18a78b69572b47fe731f3d7c69997a0365ecb3"
    "he"
  end
  language "hi" do
    sha256 "1b036a8f89593edde76b37ba7abf15e4737b437c03122d29b2c00629c9e05f4e"
    "hi-IN"
  end
  language "in" do
    sha256 "1b036a8f89593edde76b37ba7abf15e4737b437c03122d29b2c00629c9e05f4e"
    "hi-IN"
  end
  language "it" do
    sha256 "7c12fabc7c05883becd6ae90e26231950d60a35ef14b31ecd2f66dd112c14fdc"
    "it"
  end
  language "ja" do
    sha256 "ff01215aadedeb8ba2b476ccc8dc9f20c48155e349a0928c0adc919be1186758"
    "ja-JP-mac"
  end
  language "ka" do
    sha256 "4bada6b0fb232c94c7c6fb2be4c35a96dc1a3e2230c331906a1b7c7f30c8ea31"
    "ka"
  end
  language "ko" do
    sha256 "e0e3889335e8abbab9af1588aed85d9ec579073b8480d6164581fe9af133b05e"
    "ko"
  end
  language "mr" do
    sha256 "4f6a478841fe2165ce6e863c2916d826d7b57a760ff8313ffd85e64eafc1ad4c"
    "mr"
  end
  language "my" do
    sha256 "3a14b6dd7a428a62a65002a9ea07f8045a5413688d8aa4f4410ebb820ac36217"
    "my"
  end
  language "ne" do
    sha256 "732c58d6c3728e8b7c55bbb59b8fcaa12d1166fd63284eeb7e1df3f790584460"
    "ne-NP"
  end
  language "nl" do
    sha256 "41dd38e8fdd2248e49961978abc7c24a1aa46b3e43dbd0dde5ed45d268a4c8b8"
    "nl"
  end
  language "pa-IN" do
    sha256 "159bc252aa9240caf3a2e39e9111c1e5cb06fbfac38c4896224cbd5539dc5b71"
    "pa-IN"
  end
  language "pl" do
    sha256 "64b726106187e265a29aa8e81ca60fd6a8dd26cd2f0a161eb30b8a884fabb230"
    "pl"
  end
  language "pt-BR" do
    sha256 "e9439e437a03285b1f6fc127338e899ecc08752690b59d6b7a236ad94c40604c"
    "pt-BR"
  end
  language "pt" do
    sha256 "f735da770be857f3fe3de24a806fdaeb3d5bcd7841a470dd51ae7225be9dbb53"
    "pt-PT"
  end
  language "ru" do
    sha256 "db8f30cfbe0c96f2e83bad353fc75114f41a36b904325a8cd226bb7803da4f7c"
    "ru"
  end
  language "si" do
    sha256 "76c85a3777388ea6a20c2251f3bf0d9d2b9b5de9097268b723c18492ee9b3479"
    "si"
  end
  language "sq" do
    sha256 "8799112a3a20d1e6c0d7ed04c4c8757cfa79b72374e6d95bee5a35c03c3903d5"
    "sq"
  end
  language "sr" do
    sha256 "c8b537f2c513584a1e57f0fd101d5d3fd0bc97fb3f99417e5c946a7434f7d65a"
    "sr"
  end
  language "sv" do
    sha256 "5f6640731d79da33abc211f45ab406139f4a3f41922695d8fb6cf7a54f9172f2"
    "sv-SE"
  end
  language "ta" do
    sha256 "29814d7f591896f985f777b9ee4c2adbb4f147fdeeec66fb2d154e024857754f"
    "ta"
  end
  language "te" do
    sha256 "f367afd6fbdca982c5ef548d9688671429abe4172cee1be272d7c447e118b98a"
    "te"
  end
  language "th" do
    sha256 "775a7a583f30234003333c37107d6b8ea9d5206c08a73f5e956428a6a44ca1cf"
    "th"
  end
  language "tl" do
    sha256 "19ec6ead4e416b66382b8954ba8e380ebd802d8ce56da81ffb5627fe5b2a7394"
    "tl"
  end
  language "tr" do
    sha256 "e7d24ee68a9c096b0ac4a844f065f711b4345aa7f7241aa7fc283d7a76a0094e"
    "tr"
  end
  language "uk" do
    sha256 "e14afb72bad32b04b6abc75b1bb1ae4cd127928e700214b4d3a9776749ee46a4"
    "uk"
  end
  language "ur" do
    sha256 "f33e4ad86b2d2b242e0454f9c345032e3393051cbd0d94fb5fd0b82ad0a181cc"
    "ur"
  end
  language "zh-TW" do
    sha256 "4efb0acc0ee43ec6498f576ccdf7dbed45e8bfdf13a7beac045359f169fbbde8"
    "zh-TW"
  end
  language "zh" do
    sha256 "449c8239889f494bab17a42c85005058e90bc1ee94f87dfe05822343de8c2aed"
    "zh-CN"
  end

  url "https://download-installer.cdn.mozilla.net/pub/firefox/releases/#{version}/mac/#{language}/Firefox%20#{version}.dmg",
      verified: "download-installer.cdn.mozilla.net/pub/firefox/releases/"
  name "Mozilla Firefox"
  desc "Web browser"
  homepage "https://www.mozilla.org/firefox/"

  livecheck do
    url "https://download.mozilla.org/?product=firefox-latest-ssl&os=osx"
    strategy :header_match
  end

  auto_updates true
  conflicts_with cask: [
    "homebrew/cask-versions/firefox-beta",
    "homebrew/cask-versions/firefox-cn",
    "homebrew/cask-versions/firefox-esr",
  ]
  depends_on macos: ">= :sierra"

  app "Firefox.app"
  # shim script (https://github.com/Homebrew/homebrew-cask/issues/18809)
  shimscript = "#{staged_path}/firefox.wrapper.sh"
  binary shimscript, target: "firefox"

  preflight do
    File.write shimscript, <<~EOS
      #!/bin/bash
      exec '#{appdir}/Firefox.app/Contents/MacOS/firefox' "$@"
    EOS
  end

  uninstall quit: "org.mozilla.firefox"

  zap trash: [
        "~/Library/Application Support/com.apple.sharedfilelist/com.apple.LSSharedFileList.ApplicationRecentDocuments/org.mozilla.firefox.sfl*",
        "~/Library/Application Support/CrashReporter/firefox_*",
        "~/Library/Application Support/Firefox",
        "~/Library/Caches/Firefox",
        "~/Library/Caches/Mozilla/updates/Applications/Firefox",
        "~/Library/Caches/org.mozilla.crashreporter",
        "~/Library/Caches/org.mozilla.firefox",
        "~/Library/Preferences/org.mozilla.crashreporter.plist",
        "~/Library/Preferences/org.mozilla.firefox.plist",
        "~/Library/Saved Application State/org.mozilla.firefox.savedState",
        "~/Library/WebKit/org.mozilla.firefox",
        "/Library/Logs/DiagnosticReports/firefox_*",
      ],
      rmdir: [
        "~/Library/Application Support/Mozilla", #  May also contain non-Firefox data
        "~/Library/Caches/Mozilla/updates/Applications",
        "~/Library/Caches/Mozilla/updates",
        "~/Library/Caches/Mozilla",
      ]
end
